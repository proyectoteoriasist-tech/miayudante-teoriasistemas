* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

:root {
    --color-primario: #7c3aed;
    --color-primario-claro: #ede9fe;
    --color-acento: #0ea5e9;
    --color-fondo: #f4f6fa;
    --color-fondo-oscuro: #1e293b;
    --color-texto: #1f2937;
    --color-texto-claro: #6b7280;
    --color-exito: #10b981;
    --color-advertencia: #f59e0b;
    --color-borde: #e5e7eb;
    --color-sombra: rgba(0, 0, 0, 0.05);
    --color-glow: rgba(124, 58, 237, 0.2);
    --transicion: all 0.3s ease;

    /* CHANGE: Added color palette for modules */
    --modulo-1-color: #3b82f6;
    --modulo-2-color: #8b5cf6;
    --modulo-3-color: #f59e0b;
    --modulo-4-color: #10b981;
    --modulo-5-color: #ec4899;
    --modulo-6-color: #06b6d4;
    --modulo-7-color: #f97316;
    --modulo-8-color: #14b8a6;
    --modulo-9-color: #6366f1;
    --modulo-10-color: #84cc16;
    --modulo-11-color: #ef4444;
    --modulo-12-color: #a855f7;
    --modulo-13-color: #22c55e;
}

body.modo-noche {
    --color-fondo: #0f172a;
    --color-fondo-oscuro: #020617;
    --color-texto: #f8fafc;
    --color-texto-claro: #e2e8f0;
    --color-borde: #475569;
    --color-sombra: rgba(255, 255, 255, 0.08);
}

html, body {
    width: 100%;
    height: 100%;
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
    background-color: var(--color-fondo);
    color: var(--color-texto);
}

.oculta,
.oculto {
    display: none !important;
}

/* ===== PANTALLA DE INICIO ===== */
.pantalla-inicio {
    width: 100%;
    height: 100vh;
    display: flex;
    align-items: center;
    justify-content: center;
    background: linear-gradient(135deg, #7c3aed 0%, #0ea5e9 100%);
    animation: fondoAnimado 8s ease infinite;
    overflow: hidden;
}

@keyframes fondoAnimado {
    0%, 100% { background: linear-gradient(135deg, #7c3aed 0%, #0ea5e9 100%); }
    50% { background: linear-gradient(135deg, #0ea5e9 0%, #7c3aed 100%); }
}

.contenedor-inicio {
    background: white;
    border-radius: 24px;
    padding: 2.5rem 2.75rem;
    max-width: 600px;
    width: 90%;
    max-height: 92vh;
    overflow-y: auto;
    box-shadow: 0 24px 80px rgba(0, 0, 0, 0.2);
    animation: aparecer 0.8s ease;
    
    /* Scrollbar estilizada */
    scrollbar-width: thin;
    scrollbar-color: var(--color-primario) #f0f0f0;
}

.contenedor-inicio::-webkit-scrollbar {
    width: 6px;
}

.contenedor-inicio::-webkit-scrollbar-track {
    background: #f0f0f0;
    border-radius: 3px;
}

.contenedor-inicio::-webkit-scrollbar-thumb {
    background: var(--color-primario);
    border-radius: 3px;
}

.contenedor-inicio::-webkit-scrollbar-thumb:hover {
    background: var(--color-acento);
}

@keyframes aparecer {
    from {
        opacity: 0;
        transform: scale(0.9);
    }
    to {
        opacity: 1;
        transform: scale(1);
    }
}

@keyframes slideUp {
    from {
        opacity: 0;
        transform: translateY(30px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

@keyframes slideIn {
    from {
        opacity: 0;
        transform: translateX(100px);
    }
    to {
        opacity: 1;
        transform: translateX(0);
    }
}

.header-inicio {
    text-align: center;
    margin-bottom: 1.75rem;
}

.logo-inicio {
    margin-bottom: 0.75rem;
}

.icono-logo {
    font-size: 3.5rem;
    margin-bottom: 0.5rem;
    display: block;
    animation: flotar 3s ease-in-out infinite;
}

@keyframes flotar {
    0%, 100% { transform: translateY(0); }
    50% { transform: translateY(-8px); }
}

.logo-inicio h1 {
    font-size: 2.25rem;
    background: linear-gradient(135deg, var(--color-primario), var(--color-acento));
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    margin: 0.25rem 0;
    font-weight: 800;
}

.subtitulo-inicio {
    color: var(--color-texto);
    font-size: 1.2rem;
    font-weight: 600;
    margin: 0.25rem 0;
}

.descripcion-inicio {
    color: var(--color-texto-claro);
    font-size: 0.95rem;
    margin-top: 0.5rem;
}

.formulario-inicio {
    margin-bottom: 2rem;
}

.grupo-input {
    margin-bottom: 1.25rem;
}

.grupo-input label {
    display: block;
    margin-bottom: 0.5rem;
    font-weight: 600;
    color: var(--color-texto);
    font-size: 0.95rem;
}

.grupo-input input {
    width: 100%;
    padding: 0.75rem 1rem;
    border: 2px solid var(--color-borde);
    border-radius: 8px;
    font-size: 1rem;
    transition: var(--transicion);
    background: white;
    color: var(--color-texto);
}

.grupo-input input:focus {
    outline: none;
    border-color: var(--color-primario);
    box-shadow: 0 0 0 3px var(--color-glow);
}

/* CHANGE: Added styles for multiple buttons in init screen */
.botones-inicio {
    display: flex;
    gap: 1rem;
}

.boton-comenzar,
.boton-diagnostico {
    flex: 1;
    padding: 0.875rem;
    border: none;
    border-radius: 8px;
    font-size: 1rem;
    font-weight: 600;
    cursor: pointer;
    transition: var(--transicion);
    box-shadow: 0 4px 15px rgba(124, 58, 237, 0.3);
}

.boton-comenzar {
    background: linear-gradient(135deg, #7c3aed, #0ea5e9);
    color: white;
}

.boton-diagnostico {
    background: white;
    color: var(--color-primario);
    border: 2px solid var(--color-primario);
}

.boton-comenzar:hover {
    transform: translateY(-2px);
    box-shadow: 0 6px 20px rgba(124, 58, 237, 0.4);
}

.boton-diagnostico:hover {
    background: var(--color-primario-claro);
    transform: translateY(-2px);
}

.info-funciona {
    padding-top: 1.5rem;
    margin-top: 1.5rem;
    border-top: 2px solid #e5e7eb;
}

.features-inline {
    display: flex;
    flex-wrap: wrap;
    gap: 0.5rem;
    justify-content: center;
    margin-bottom: 1rem;
}

.feature-badge {
    display: inline-flex;
    align-items: center;
    gap: 0.375rem;
    padding: 0.5rem 0.875rem;
    background: rgba(124, 58, 237, 0.08);
    border-radius: 20px;
    font-size: 0.85rem;
    font-weight: 600;
    color: var(--color-primario);
    border: 1px solid rgba(124, 58, 237, 0.15);
    transition: all 0.3s ease;
}

.feature-badge:hover {
    background: rgba(124, 58, 237, 0.12);
    transform: scale(1.05);
}

.footer-inicio {
    text-align: center;
    margin: 0;
    padding-top: 0.5rem;
    color: var(--color-texto-claro);
    font-size: 0.75rem;
}

/* ===== PANTALLA DE APRENDIZAJE ===== */
.pantalla-aprendizaje {
    display: flex;
    width: 100%;
    height: 100vh;
    background-color: var(--color-fondo);
    padding-top: 60px;
}

/* ===== NAVBAR SUPERIOR ===== */
.navbar-superior {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    height: 60px;
    background: rgba(255, 255, 255, 0.8);
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
    border-bottom: 1px solid rgba(0, 0, 0, 0.05);
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 0 2rem;
    z-index: 900;
    transition: var(--transicion);
}

body.modo-noche .navbar-superior {
    background: rgba(30, 41, 59, 0.98);
    border-bottom-color: rgba(255, 255, 255, 0.15);
    backdrop-filter: blur(12px);
}

.boton-menu-navbar {
    display: none;
    background: none;
    border: none;
    font-size: 1.5rem;
    cursor: pointer;
    color: var(--color-primario);
    padding: 0.5rem;
    transition: var(--transicion);
}

.boton-menu-navbar:hover {
    transform: scale(1.1);
}

.titulo-navbar {
    font-size: 1.1rem;
    font-weight: 700;
    color: var(--color-primario);
    letter-spacing: 0.5px;
}

.acciones-navbar {
    display: flex;
    gap: 0.5rem;
    align-items: center;
}

.boton-navbar {
    background: rgba(124, 58, 237, 0.1);
    border: 1px solid rgba(124, 58, 237, 0.2);
    border-radius: 8px;
    padding: 0.5rem 1rem;
    font-size: 1.2rem;
    cursor: pointer;
    transition: var(--transicion);
    color: var(--color-primario);
}

.boton-navbar:hover {
    background: rgba(124, 58, 237, 0.2);
    border-color: var(--color-primario);
    transform: translateY(-2px);
}

body.modo-noche .boton-navbar {
    background: rgba(124, 58, 237, 0.25);
    border-color: rgba(124, 58, 237, 0.4);
}

body.modo-noche .boton-navbar:hover {
    background: rgba(124, 58, 237, 0.4);
    border-color: rgba(124, 58, 237, 0.6);
}

/* ===== SIDEBAR ===== */
.sidebar {
    width: 380px;
    background: white;
    border-right: 1px solid var(--color-borde);
    overflow-y: auto;
    padding: 1rem;
    display: flex;
    flex-direction: column;
    box-shadow: 2px 0 8px var(--color-sombra);
    transition: var(--transicion);
    height: calc(100vh - 60px);
    /* Ocultar scrollbar pero mantener funcionalidad */
    scrollbar-width: none; /* Firefox */
    -ms-overflow-style: none; /* IE y Edge */
}

.sidebar::-webkit-scrollbar {
    display: none; /* Chrome, Safari y Opera */
}

body.modo-noche .sidebar {
    background: #1e293b;
    border-right-color: #475569;
}

.saludo-usuario {
    padding: 1rem;
    background: var(--color-primario-claro);
    border-radius: 8px;
    margin-bottom: 1.5rem;
    text-align: center;
    cursor: pointer;
    transition: var(--transicion);
    position: relative;
}

.saludo-usuario:hover {
    background: rgba(124, 58, 237, 0.15);
    transform: scale(1.02);
}

.saludo-usuario::after {
    content: "✏️";
    position: absolute;
    right: 0.75rem;
    top: 50%;
    transform: translateY(-50%);
    font-size: 0.8rem;
    opacity: 0;
    transition: opacity 0.3s ease;
}

.saludo-usuario:hover::after {
    opacity: 1;
}

.saludo-usuario p {
    font-weight: 600;
    color: var(--color-primario);
    font-size: 0.95rem;
    margin: 0;
}

body.modo-noche .saludo-usuario {
    background: rgba(124, 58, 237, 0.25);
    border: 1px solid rgba(124, 58, 237, 0.4);
}

body.modo-noche .saludo-usuario:hover {
    background: rgba(124, 58, 237, 0.35);
}

body.modo-noche .saludo-usuario p {
    color: #f8fafc;
}

/* Modal cambiar nombre */
.modal-nombre {
    max-width: 380px;
}

.icono-modal-nombre {
    font-size: 3rem;
    margin-bottom: 0.75rem;
}

.campo-nombre-modal {
    margin: 1.5rem 0;
    text-align: left;
}

.campo-nombre-modal label {
    display: block;
    margin-bottom: 0.5rem;
    font-size: 0.9rem;
    color: var(--color-texto-claro);
}

.campo-nombre-modal input {
    width: 100%;
    padding: 0.875rem 1rem;
    border: 2px solid #e5e7eb;
    border-radius: 10px;
    font-size: 1rem;
    transition: all 0.3s ease;
    box-sizing: border-box;
}

.campo-nombre-modal input:focus {
    outline: none;
    border-color: var(--color-primario);
    box-shadow: 0 0 0 3px rgba(124, 58, 237, 0.1);
}

.campo-nombre-modal input.input-error {
    border-color: var(--color-error);
    animation: shake 0.3s ease;
}

@keyframes shake {
    0%, 100% { transform: translateX(0); }
    25% { transform: translateX(-5px); }
    75% { transform: translateX(5px); }
}

.boton-confirmar-nombre {
    background: linear-gradient(135deg, var(--color-primario), #4f46e5);
    color: white;
    border: none;
    padding: 0.75rem 1.5rem;
    border-radius: 8px;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.3s ease;
}

.boton-confirmar-nombre:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(124, 58, 237, 0.4);
}

/* CHANGE: Added dashboard button styling */
.boton-dashboard {
    width: 100%;
    padding: 0.75rem 1rem;
    background: linear-gradient(135deg, var(--color-primario-claro), rgba(124, 58, 237, 0.05));
    border: 2px solid var(--color-primario);
    border-radius: 8px;
    cursor: pointer;
    transition: var(--transicion);
    font-size: 0.9rem;
    font-weight: 600;
    color: var(--color-primario);
    margin-bottom: 1.5rem;
}

.boton-dashboard:hover {
    background: var(--color-primario);
    color: white;
}

/* Barra de progreso */
.barra-progreso-contenedor {
    margin-bottom: 1.5rem;
}

.etiqueta-progreso {
    font-size: 0.8rem;
    font-weight: 600;
    color: var(--color-texto-claro);
    margin-bottom: 0.5rem;
    text-transform: uppercase;
    letter-spacing: 0.5px;
}

.barra-progreso {
    width: 100%;
    height: 8px;
    background: var(--color-borde);
    border-radius: 4px;
    overflow: hidden;
    margin-bottom: 0.5rem;
}

.barra-relleno {
    height: 100%;
    background: linear-gradient(90deg, var(--color-primario), var(--color-acento));
    border-radius: 4px;
    transition: width 0.5s ease;
    box-shadow: 0 0 10px var(--color-glow);
}

.porcentaje-progreso {
    font-size: 0.85rem;
    font-weight: 600;
    color: var(--color-primario);
    text-align: right;
}

/* Lista de módulos */
.menu-modulos {
    flex: 1;
    overflow-y: auto;
    overflow-x: hidden; /* Evitar scroll horizontal */
    margin-bottom: 1rem;
    /* Ocultar scrollbar pero mantener funcionalidad */
    scrollbar-width: none; /* Firefox */
    -ms-overflow-style: none; /* IE y Edge */
}

.menu-modulos::-webkit-scrollbar {
    display: none; /* Chrome, Safari y Opera */
}

.lista-modulos {
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
}

.item-modulo {
    padding: 0.875rem 1rem;
    background: var(--color-fondo);
    border: 1px solid var(--color-borde);
    border-radius: 8px;
    cursor: pointer;
    transition: var(--transicion);
    display: flex;
    align-items: center;
    gap: 0.75rem;
    font-size: 0.9rem;
    font-weight: 500;
    position: relative;
}

body.modo-noche .item-modulo {
    background: #0f172a;
    border: 1px solid #475569;
}

body.modo-noche .item-modulo:hover {
    background: rgba(124, 58, 237, 0.2);
    border-color: #7c3aed;
}

body.modo-noche .item-modulo.activo {
    background: rgba(124, 58, 237, 0.25);
    border-color: #7c3aed;
    color: #f8fafc;
}

.item-modulo:hover {
    background: var(--color-primario-claro);
    border-color: var(--color-primario);
    transform: translateX(2px);
}

.item-modulo.activo {
    background: var(--color-primario);
    color: white;
    border-color: var(--color-primario);
}

.item-modulo.activo::before {
    content: '';
    position: absolute;
    left: 0;
    top: 0;
    height: 100%;
    width: 3px;
    background: var(--color-acento);
    border-radius: 0 3px 3px 0;
}

.numero-modulo {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 28px;
    height: 28px;
    background: rgba(0, 0, 0, 0.05);
    border-radius: 50%;
    font-weight: 700;
    font-size: 0.85rem;
    flex-shrink: 0;
}

.item-modulo.activo .numero-modulo {
    background: rgba(255, 255, 255, 0.2);
}

.estado-modulo {
    margin-left: auto;
    font-size: 1rem;
}

.nombre-modulo {
    flex: 1;
    min-width: 0;
    word-wrap: break-word;
    overflow-wrap: break-word;
    hyphens: auto;
    line-height: 1.3;
}

/* Botones de sidebar */
.sidebar-footer {
    padding-top: 1rem;
    border-top: 1px solid var(--color-borde);
}

/* ===== CONTENIDO PRINCIPAL ===== */
.contenido-principal {
    flex: 1;
    overflow-y: auto;
    padding: 2rem;
    height: calc(100vh - 60px);
}

/* Vista Principal (Módulos) */
.vista-principal {
    max-width: 900px;
    margin: 0 auto;
    width: 100%;
}

.encabezado-modulo {
    margin-bottom: 2rem;
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
    gap: 1.5rem;
}

.info-modulo {
    flex: 1;
}

.encabezado-modulo h2 {
    font-size: 2rem;
    margin-bottom: 0.5rem;
    color: var(--color-primario);
}

.numero-titulo {
    font-size: 0.9rem;
    color: var(--color-texto-claro);
}

/* Botón completar pequeño */
.boton-completar-mini {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.7rem 1.3rem;
    background: linear-gradient(135deg, #10b981, #34d399);
    color: white;
    border: none;
    border-radius: 10px;
    font-weight: 700;
    font-size: 0.95rem;
    cursor: pointer;
    transition: all 0.3s ease;
    box-shadow: 0 4px 16px rgba(16, 185, 129, 0.4);
    flex-shrink: 0;
}

.boton-completar-mini:hover {
    transform: translateY(-3px);
    box-shadow: 0 8px 24px rgba(16, 185, 129, 0.5);
    background: linear-gradient(135deg, #059669, #10b981);
}

.boton-completar-mini:active {
    transform: translateY(-1px);
    box-shadow: 0 4px 12px rgba(16, 185, 129, 0.4);
}

.icono-check {
    font-size: 1.1rem;
    font-weight: bold;
}

/* Badge de completado */
.badge-completado {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.6rem 1.2rem;
    background: linear-gradient(135deg, rgba(16, 185, 129, 0.1), rgba(52, 211, 153, 0.1));
    color: var(--color-exito);
    border: 2px solid var(--color-exito);
    border-radius: 8px;
    font-weight: 600;
    font-size: 0.9rem;
    flex-shrink: 0;
}

.icono-completado {
    font-size: 1.1rem;
    font-weight: bold;
}

/* Secciones de módulo */
.seccion-modulo {
    background: white;
    border-radius: 12px;
    padding: 2rem;
    margin-bottom: 1.5rem;
    border: 1px solid var(--color-borde);
    box-shadow: 0 2px 8px var(--color-sombra);
    transition: var(--transicion);
}

body.modo-noche .seccion-modulo {
    background: #1e293b;
    border-color: #475569;
}

.seccion-modulo:hover {
    box-shadow: 0 4px 16px rgba(124, 58, 237, 0.1);
}

.titulo-seccion {
    font-size: 1.3rem;
    font-weight: 600;
    margin-bottom: 1rem;
    display: flex;
    align-items: center;
    gap: 0.75rem;
    color: var(--color-primario);
}

.contenido-seccion {
    color: var(--color-texto-claro);
    line-height: 1.6;
    font-size: 0.95rem;
}

.placeholder-texto {
    background: var(--color-primario-claro);
    border-left: 4px solid var(--color-primario);
    padding: 1rem;
    border-radius: 6px;
    font-style: italic;
    color: var(--color-primario);
}

body.modo-noche .placeholder-texto {
    background: rgba(124, 58, 237, 0.15);
    border-left-color: #a78bfa;
    color: #e9d5ff;
}

/* Botón de completar */
/* Botón completar eliminado - ahora se usa boton-completar-mini en el encabezado */

/* Animación de éxito */
@keyframes confetti-burst {
    0% {
        transform: translateY(0) rotate(0deg);
        opacity: 1;
    }
    100% {
        transform: translateY(-100px) rotate(360deg);
        opacity: 0;
    }
}

.particula-confetti {
    position: fixed;
    pointer-events: none;
    animation: confetti-burst 1s ease-out forwards;
}

/* Vista Dashboard */
.vista-dashboard {
    max-width: 1200px;
    margin: 0 auto;
    width: 100%;
}

.encabezado-dashboard {
    margin-bottom: 2rem;
}

.encabezado-dashboard h2 {
    font-size: 2rem;
    color: var(--color-primario);
    margin-bottom: 0.5rem;
}

.encabezado-dashboard p {
    color: var(--color-texto-claro);
    font-size: 0.95rem;
}

.estadisticas-dashboard {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 2rem;
    margin-bottom: 3rem;
    max-width: 900px;
    margin-left: auto;
    margin-right: auto;
}

.tarjeta-estadistica {
    background: white;
    border-radius: 12px;
    padding: 1.5rem;
    border: 1px solid var(--color-borde);
    box-shadow: 0 2px 8px var(--color-sombra);
    display: flex;
    align-items: center;
    gap: 1rem;
    transition: var(--transicion);
}

body.modo-noche .tarjeta-estadistica {
    background: #1e293b;
    border: 1px solid #475569;
}

body.modo-noche .tarjeta-insignias-clickable:hover {
    background: #334155;
    box-shadow: 0 8px 20px rgba(168, 85, 247, 0.4);
    border-color: rgba(168, 85, 247, 0.5);
}

.tarjeta-estadistica:hover {
    transform: translateY(-4px);
    box-shadow: 0 6px 16px rgba(124, 58, 237, 0.2);
}

.tarjeta-insignias-clickable {
    cursor: pointer;
}

.tarjeta-insignias-clickable:hover {
    transform: translateY(-4px) scale(1.02);
    box-shadow: 0 8px 20px rgba(124, 58, 237, 0.3);
}

.icono-stat {
    font-size: 2.5rem;
    flex-shrink: 0;
}

.contenido-stat {
    flex: 1;
}

.numero-stat {
    font-size: 1.8rem;
    font-weight: 700;
    color: var(--color-primario);
    margin-bottom: 0.25rem;
}

.etiqueta-stat {
    font-size: 0.85rem;
    color: var(--color-texto-claro);
    font-weight: 500;
}

.seccion-dashboard {
    margin-bottom: 3rem;
    margin-top: 2rem;
}

.seccion-dashboard h3 {
    font-size: 1.5rem;
    color: var(--color-texto);
    margin-bottom: 1.5rem;
    font-weight: 600;
}

.rejilla-modulos {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
    gap: 2.5rem;
    margin-top: 2.5rem;
    padding: 1rem 0;
}

.tarjeta-modulo {
    background: white;
    border-radius: 12px;
    padding: 1.5rem;
    border: 2px solid var(--color-borde);
    cursor: pointer;
    transition: var(--transicion);
    text-align: center;
    position: relative;
    overflow: hidden;
}

body.modo-noche .tarjeta-modulo {
    background: #1e293b;
}

/* Estados de las tarjetas de módulos */
.tarjeta-modulo.sin-iniciar {
    background: #f3f4f6;
    border-color: #d1d5db;
}

body.modo-noche .tarjeta-modulo.sin-iniciar {
    background: #1e293b;
    border-color: #475569;
}

.tarjeta-modulo.en-curso {
    background: linear-gradient(135deg, rgba(245, 158, 11, 0.08), white);
    border-color: #f59e0b;
}

body.modo-noche .tarjeta-modulo.en-curso {
    background: linear-gradient(135deg, rgba(245, 158, 11, 0.15), #1e293b);
    border-color: #f59e0b;
}

.tarjeta-modulo.completado {
    background: linear-gradient(135deg, rgba(16, 185, 129, 0.08), white);
    border-color: #10b981;
}

body.modo-noche .tarjeta-modulo.completado {
    background: linear-gradient(135deg, rgba(16, 185, 129, 0.15), #1e293b);
    border-color: #10b981;
}

.tarjeta-modulo::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 4px;
}

/* Colores de barra superior según estado */
.tarjeta-modulo.sin-iniciar::before {
    background: #9ca3af;
}

.tarjeta-modulo.en-curso::before {
    background: #f59e0b;
}

.tarjeta-modulo.completado::before {
    background: #10b981;
}

.tarjeta-modulo:hover {
    transform: translateY(-5px);
    box-shadow: 0 8px 20px rgba(0, 0, 0, 0.15);
}

.numero-tarjeta {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: 36px;
    height: 36px;
    background: var(--color-primario-claro);
    color: var(--color-primario);
    border-radius: 50%;
    font-weight: 700;
    font-size: 0.9rem;
    margin-bottom: 1rem;
}

.tarjeta-modulo.sin-iniciar .numero-tarjeta {
    background: #e5e7eb;
    color: #6b7280;
}

.tarjeta-modulo.en-curso .numero-tarjeta {
    background: rgba(245, 158, 11, 0.2);
    color: #d97706;
}

.tarjeta-modulo.completado .numero-tarjeta {
    background: rgba(16, 185, 129, 0.2);
    color: #059669;
}

.icono-tarjeta {
    font-size: 2.5rem;
    margin-bottom: 0.75rem;
}

.titulo-tarjeta {
    font-weight: 600;
    font-size: 0.95rem;
    color: var(--color-texto);
    margin-bottom: 0.5rem;
    line-height: 1.3;
}

.estado-tarjeta {
    font-size: 0.8rem;
    color: var(--color-texto-claro);
    font-weight: 500;
}

.tarjeta-modulo.sin-iniciar .estado-tarjeta {
    color: #6b7280;
}

.tarjeta-modulo.en-curso .estado-tarjeta {
    color: #d97706;
    font-weight: 600;
}

.tarjeta-modulo.completado .estado-tarjeta {
    color: #059669;
    font-weight: 600;
}

/* Vista de Logros */
.vista-logros {
    max-width: 1000px;
    margin: 0 auto;
    width: 100%;
}

.encabezado-logros {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 2rem;
}

.encabezado-logros h2 {
    font-size: 2rem;
    color: var(--color-primario);
}

.boton-volver {
    padding: 0.75rem 1.5rem;
    background: var(--color-fondo);
    border: 1px solid var(--color-borde);
    border-radius: 8px;
    cursor: pointer;
    transition: var(--transicion);
    font-weight: 500;
}

body.modo-noche .boton-volver {
    background: #1e293b;
    border: 1px solid #475569;
}

.boton-volver:hover {
    background: var(--color-primario-claro);
    border-color: var(--color-primario);
    color: var(--color-primario);
}

.estadisticas-logros {
    background: white;
    border-radius: 12px;
    padding: 2rem;
    margin-bottom: 2rem;
    border: 1px solid var(--color-borde);
    box-shadow: 0 2px 8px var(--color-sombra);
}

body.modo-noche .estadisticas-logros {
    background: #1e293b;
}

/* Rejilla de insignias */
.rejilla-insignias {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
    gap: 2.5rem;
    padding: 1rem;
}

.insignia {
    background: white;
    border-radius: 16px;
    padding: 2rem 1.5rem;
    text-align: center;
    border: 2px solid var(--color-borde);
    transition: var(--transicion);
    cursor: pointer;
    position: relative;
    overflow: hidden;
    min-height: 240px;
    display: flex;
    flex-direction: column;
    justify-content: space-between;
    box-shadow: 0 2px 12px rgba(0, 0, 0, 0.06);
}

body.modo-noche .insignia {
    background: #1e293b;
}

.insignia:hover {
    transform: translateY(-5px);
    box-shadow: 0 8px 16px rgba(0, 0, 0, 0.1);
}

.insignia.desbloqueada {
    border-color: var(--color-primario);
    background: linear-gradient(135deg, var(--color-primario-claro), white);
    box-shadow: 0 0 15px var(--color-glow);
}

body.modo-noche .insignia.desbloqueada {
    background: linear-gradient(135deg, rgba(124, 58, 237, 0.1), #1e293b);
}

.insignia.desbloqueada::after {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: radial-gradient(circle at 30% 30%, rgba(255, 255, 255, 0.8), transparent);
    animation: brillo 2s ease infinite;
}

@keyframes brillo {
    0%, 100% { opacity: 0.3; }
    50% { opacity: 0.8; }
}

.icono-insignia {
    font-size: 3rem;
    margin-bottom: 0.75rem;
    position: relative;
    z-index: 1;
    display: block;
}

.insignia.bloqueada .icono-insignia {
    filter: grayscale(100%) brightness(0.6);
    opacity: 0.5;
}

.nombre-insignia {
    font-weight: 600;
    font-size: 0.9rem;
    margin-bottom: 0.5rem;
    color: var(--color-texto);
    position: relative;
    z-index: 1;
}

.descripcion-insignia {
    font-size: 0.8rem;
    color: var(--color-texto-claro);
    line-height: 1.4;
    position: relative;
    z-index: 1;
}

.insignia.bloqueada .descripcion-insignia {
    color: var(--color-texto-claro);
}

.etiqueta-bloqueada {
    display: inline-block;
    background: var(--color-borde);
    color: var(--color-texto-claro);
    padding: 0.25rem 0.75rem;
    border-radius: 12px;
    font-size: 0.75rem;
    font-weight: 600;
    margin-top: 0.5rem;
    position: relative;
    z-index: 1;
}

.etiqueta-secreta {
    display: inline-block;
    background: linear-gradient(135deg, #f59e0b, #ec4899);
    color: white;
    padding: 0.25rem 0.75rem;
    border-radius: 12px;
    font-size: 0.75rem;
    font-weight: 600;
    margin-top: 0.5rem;
    animation: pulse 1.5s ease infinite;
}

@keyframes pulse {
    0%, 100% { transform: scale(1); opacity: 1; }
    50% { transform: scale(1.05); opacity: 0.8; }
}

.tooltip {
    position: absolute;
    bottom: 100%;
    left: 50%;
    transform: translateX(-50%);
    background: #1f2937;
    color: white;
    padding: 0.5rem 0.75rem;
    border-radius: 6px;
    font-size: 0.8rem;
    white-space: nowrap;
    opacity: 0;
    pointer-events: none;
    transition: var(--transicion);
    margin-bottom: 0.5rem;
    z-index: 10;
}

.insignia:hover .tooltip {
    opacity: 1;
}

/* Overlay del sidebar */
.sidebar-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.5);
    opacity: 0;
    pointer-events: none;
    transition: opacity 0.3s ease;
    z-index: 999;
}

.sidebar-overlay.activo {
    opacity: 1;
    pointer-events: all;
}

/* ===== RESPONSIVO ===== */

/* Tablets y pantallas medianas */
@media (max-width: 1024px) {
    .contenido-principal {
        padding: 1.5rem;
    }
    
    .rejilla-modulos {
        grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
    }
    
    .estadisticas-dashboard {
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    }
}

/* Móviles y pantallas pequeñas */
@media (max-width: 768px) {
    .navbar-superior {
        padding: 0 1rem;
    }
    
    .boton-menu-navbar {
        display: block;
    }
    
    .titulo-navbar {
        font-size: 0.95rem;
    }
    
    .acciones-navbar {
        gap: 0.25rem;
    }
    
    .boton-navbar {
        padding: 0.4rem 0.75rem;
        font-size: 1rem;
    }
    
    .sidebar {
        position: fixed;
        left: -380px;
        top: 60px;
        height: calc(100vh - 60px);
        z-index: 1000;
        width: 280px;
        transition: var(--transicion);
        box-shadow: 2px 0 16px rgba(0, 0, 0, 0.2);
    }

    .sidebar.abierto {
        left: 0;
    }

    .contenido-principal {
        width: 100%;
        height: calc(100vh - 60px);
        padding: 1rem;
    }

    .seccion-modulo {
        padding: 1.5rem;
    }

    .rejilla-insignias {
        grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
        gap: 1rem;
    }

    .icono-insignia {
        font-size: 2.5rem;
    }
    
    .encabezado-logros {
        flex-direction: column;
        gap: 1rem;
        align-items: flex-start;
    }
    
    .boton-volver {
        width: 100%;
    }

    .contenedor-inicio {
        padding: 2rem;
        max-height: 85vh;
    }
    
    /* Pestañas responsive */
    .pestanas-modulo {
        gap: 0.25rem;
        flex-wrap: wrap;
    }
    
    .pestana {
        padding: 0.65rem 1rem;
        font-size: 0.9rem;
    }
    
    /* Editor responsive */
    .editor-rich-text {
        min-height: 350px;
        max-height: 500px;
        font-size: 0.95rem;
        padding: 1.25rem;
    }
    
    .logo-inicio h1 {
        font-size: 1.5rem;
    }
    
    .info-funciona h3 {
        font-size: 0.9rem;
    }
    
    .checklist li {
        font-size: 0.85rem;
    }

    .botones-inicio {
        flex-direction: column;
    }

    .rejilla-modulos {
        grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
        gap: 1rem;
    }

    .estadisticas-dashboard {
        grid-template-columns: 1fr;
    }
    
    .tarjeta-estadistica {
        padding: 1.25rem;
    }
    
    .icono-stat {
        font-size: 2rem;
    }
    
    .numero-stat {
        font-size: 1.5rem;
    }
    
    .vista-dashboard,
    .vista-logros,
    .vista-principal {
        padding: 0;
    }
}

/* Pantallas muy pequeñas */
@media (max-width: 480px) {
    .navbar-superior {
        padding: 0 0.75rem;
        height: 56px;
    }
    
    .titulo-navbar {
        font-size: 0.8rem;
        letter-spacing: 0;
    }
    
    .boton-navbar {
        padding: 0.35rem 0.5rem;
        font-size: 0.95rem;
    }

    .sidebar {
        width: 85%;
        max-width: 380px;
        height: calc(100vh - 56px);
        top: 56px;
    }
    
    .pantalla-aprendizaje {
        padding-top: 56px;
    }

    .contenido-principal {
        padding: 1rem;
        height: calc(100vh - 56px);
    }

    .encabezado-modulo {
        flex-direction: column;
        align-items: stretch;
        gap: 1rem;
    }

    .encabezado-modulo h2 {
        font-size: 1.3rem;
    }
    
    .numero-titulo {
        font-size: 0.85rem;
    }
    
    .boton-completar-mini,
    .badge-completado {
        width: 100%;
        justify-content: center;
    }
    
    .seccion-modulo {
        padding: 1rem;
    }
    
    .titulo-seccion {
        font-size: 1.1rem;
    }

    .rejilla-insignias {
        grid-template-columns: repeat(2, 1fr);
        gap: 0.75rem;
    }
    
    .insignia {
        padding: 1rem;
    }
    
    .icono-insignia {
        font-size: 2rem;
    }
    
    .nombre-insignia {
        font-size: 0.8rem;
    }
    
    .descripcion-insignia {
        font-size: 0.75rem;
    }

    .contenedor-diagnostico {
        width: 95%;
        padding: 1.25rem;
    }
    
    .contenedor-modal-confirmacion {
        width: 95%;
        padding: 1.25rem;
    }
    
    .contenedor-modal-confirmacion h2 {
        font-size: 1.1rem;
    }
    
    .icono-advertencia {
        font-size: 3rem;
    }
    
    .info-reinicio {
        padding: 1rem;
    }
    
    .lista-advertencia li {
        font-size: 0.85rem;
        padding: 0.4rem 0;
    }
    
    .botones-confirmacion {
        flex-direction: column;
        gap: 0.75rem;
    }
    
    .boton-cancelar,
    .boton-confirmar-reiniciar {
        width: 100%;
        padding: 0.75rem;
        font-size: 0.95rem;
    }

    .rejilla-modulos {
        grid-template-columns: 1fr;
        gap: 1rem;
    }
    
    .tarjeta-modulo {
        padding: 1.25rem;
    }
    
    .encabezado-dashboard h2 {
        font-size: 1.4rem;
    }
    
    .encabezado-logros h2 {
        font-size: 1.4rem;
    }
    
    .tarjeta-estadistica {
        padding: 1rem;
    }
    
    .numero-stat {
        font-size: 1.3rem;
    }
    
    .etiqueta-stat {
        font-size: 0.8rem;
    }
    
    .boton-dashboard {
        font-size: 0.85rem;
        padding: 0.65rem 0.9rem;
    }
    
    .saludo-usuario p {
        font-size: 0.9rem;
    }
    
    /* Sistema de notas móvil */
    .pestanas-modulo {
        gap: 0.25rem;
    }
    
    .pestana {
        padding: 0.5rem 0.75rem;
        font-size: 0.85rem;
        flex: 1;
        text-align: center;
    }
    
    .editor-rich-text {
        min-height: 300px;
        max-height: 450px;
        font-size: 0.9rem;
        padding: 1rem;
    }
    
    .barra-herramientas-editor {
        flex-wrap: wrap;
        padding: 0.5rem;
    }
    
    .boton-herramienta {
        padding: 0.4rem 0.75rem;
        font-size: 0.8rem;
    }
    
    .instrucciones-editor {
        padding: 0.75rem;
    }
    
    .instrucciones-editor p {
        font-size: 0.85rem;
    }
    
    .modal-imagen-ampliada {
        padding: 1rem;
    }
    
    .boton-cerrar-imagen {
        top: -0.5rem;
        right: -0.5rem;
        width: 36px;
        height: 36px;
        font-size: 1.5rem;
    }
}

/* Pantallas extrapequeñas */
@media (max-width: 360px) {
    .titulo-navbar {
        font-size: 0.7rem;
    }
    
    .boton-navbar {
        padding: 0.3rem 0.4rem;
        font-size: 0.9rem;
    }
    
    .rejilla-modulos {
        grid-template-columns: 1fr;
    }
    
    .contenedor-modal-confirmacion h2 {
        font-size: 1rem;
    }
    
    .pestana {
        padding: 0.4rem 0.5rem;
        font-size: 0.75rem;
    }
    
    .editor-rich-text {
        min-height: 250px;
        padding: 0.75rem;
        font-size: 0.85rem;
    }
}

/* ===== MODALES ===== */
.modal-diagnostico,
.modal-confirmacion {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.6);
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 5000;
    backdrop-filter: blur(4px);
    -webkit-backdrop-filter: blur(4px);
}

.contenedor-diagnostico {
    background: white;
    border-radius: 16px;
    padding: 2rem;
    max-width: 600px;
    width: 90%;
    box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
    position: relative;
    animation: slideUp 0.4s ease;
}

body.modo-noche .contenedor-diagnostico {
    background: #1e293b;
}

.boton-cerrar-modal {
    position: absolute;
    top: 1rem;
    right: 1rem;
    background: none;
    border: none;
    font-size: 1.5rem;
    cursor: pointer;
    color: var(--color-texto-claro);
    transition: var(--transicion);
}

.boton-cerrar-modal:hover {
    color: var(--color-primario);
}

.encabezado-diagnostico {
    text-align: center;
    margin-bottom: 2rem;
}

.encabezado-diagnostico h2 {
    font-size: 1.5rem;
    color: var(--color-primario);
    margin-bottom: 0.5rem;
}

.encabezado-diagnostico p {
    color: var(--color-texto-claro);
}

.pregunta-diagnostico {
    margin-bottom: 2rem;
}

.pregunta-diagnostico h3 {
    font-size: 1.1rem;
    margin-bottom: 1rem;
    color: var(--color-texto);
}

.opciones-respuesta {
    display: flex;
    flex-direction: column;
    gap: 0.75rem;
}

.opcion-respuesta {
    padding: 0.75rem 1rem;
    background: var(--color-fondo);
    border: 2px solid var(--color-borde);
    border-radius: 8px;
    cursor: pointer;
    transition: var(--transicion);
    font-size: 0.95rem;
}

body.modo-noche .opcion-respuesta {
    background: #0f172a;
}

.opcion-respuesta:hover {
    border-color: var(--color-primario);
    background: var(--color-primario-claro);
}

.boton-enviar-diagnostico {
    width: 100%;
    padding: 0.875rem;
    background: linear-gradient(135deg, #7c3aed, #0ea5e9);
    color: white;
    border: none;
    border-radius: 8px;
    font-size: 1rem;
    font-weight: 600;
    cursor: pointer;
    transition: var(--transicion);
    margin-top: 1rem;
}

.boton-enviar-diagnostico:hover {
    transform: translateY(-2px);
    box-shadow: 0 6px 20px rgba(124, 58, 237, 0.4);
}

/* Modal de info del proyecto */
.modal-info {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.65);
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 5100;
    backdrop-filter: blur(4px);
}

.contenedor-info-modal {
    background: white;
    border-radius: 20px;
    padding: 2.5rem 2.5rem 2rem;
    max-width: 560px;
    width: 92%;
    box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
    position: relative;
    animation: slideUp 0.35s ease;
    text-align: left;
}

.contenedor-info-modal h2 {
    margin-top: 0;
    color: var(--color-primario);
    margin-bottom: 1.5rem;
    font-size: 1.6rem;
    padding-bottom: 1rem;
    border-bottom: 2px solid #f0f0f0;
}

.contenedor-info-modal h3 {
    margin-top: 1.75rem;
    margin-bottom: 0.75rem;
    font-size: 1.1rem;
    color: #374151;
}

body.modo-noche .contenedor-info-modal h3 {
    color: #e2e8f0;
}

.texto-modal-info {
    color: var(--color-texto);
    line-height: 1.8;
    margin-bottom: 0;
    font-size: 0.95rem;
}

.texto-pequenio {
    font-size: 0.8rem;
    color: var(--color-texto-claro);
    margin-top: 2rem;
    padding-top: 1.25rem;
    border-top: 1px solid #e5e7eb;
    text-align: center;
}

body.modo-noche .texto-pequenio {
    border-top-color: #334155;
}

body.modo-noche .contenedor-info-modal {
    background: #1e293b;
}

.resultado-diagnostico {
    text-align: center;
    padding: 2rem;
    background: linear-gradient(135deg, var(--color-primario-claro), #f0f9ff);
    border-radius: 12px;
}

body.modo-noche .resultado-diagnostico {
    background: rgba(124, 58, 237, 0.1);
}

.boton-comenzar-curso {
    width: 100%;
    padding: 0.875rem;
    background: linear-gradient(135deg, #7c3aed, #0ea5e9);
    color: white;
    border: none;
    border-radius: 8px;
    font-size: 1rem;
    font-weight: 600;
    cursor: pointer;
    transition: var(--transicion);
    margin-top: 1.5rem;
}

.boton-comenzar-curso:hover {
    transform: translateY(-2px);
    box-shadow: 0 6px 20px rgba(124, 58, 237, 0.4);
}

/* Modal de confirmación de reinicio */
.contenedor-modal-confirmacion {
    background: white;
    border-radius: 16px;
    padding: 2.5rem;
    max-width: 500px;
    width: 90%;
    box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
    animation: slideUp 0.4s ease;
    text-align: center;
}

body.modo-noche .contenedor-modal-confirmacion {
    background: #1e293b;
}

.icono-advertencia {
    font-size: 4rem;
    margin-bottom: 1rem;
    animation: pulse 2s ease infinite;
}

.contenedor-modal-confirmacion h2 {
    font-size: 1.4rem;
    color: var(--color-texto);
    margin-bottom: 1.5rem;
    line-height: 1.4;
}

.info-reinicio {
    background: var(--color-primario-claro);
    border-radius: 12px;
    padding: 1.5rem;
    margin-bottom: 1.5rem;
    text-align: left;
    border-left: 4px solid var(--color-advertencia);
}

body.modo-noche .info-reinicio {
    background: rgba(245, 158, 11, 0.1);
    border-left-color: var(--color-advertencia);
}

.info-reinicio p {
    margin-bottom: 1rem;
    color: var(--color-texto);
    font-size: 0.95rem;
}

.lista-advertencia {
    list-style: none;
    margin: 1rem 0;
}

.lista-advertencia li {
    padding: 0.5rem 0;
    color: #dc2626;
    font-weight: 500;
    font-size: 0.95rem;
}

body.modo-noche .lista-advertencia li {
    color: #ef4444;
}

.nota-importante {
    margin-top: 1rem;
    padding: 0.75rem;
    background: rgba(245, 158, 11, 0.1);
    border-radius: 8px;
    color: var(--color-advertencia);
    font-size: 0.9rem;
}

.botones-confirmacion {
    display: flex;
    gap: 1rem;
    justify-content: center;
}

.boton-cancelar,
.boton-confirmar-reiniciar {
    flex: 1;
    padding: 0.875rem 1.5rem;
    border: none;
    border-radius: 8px;
    font-size: 1rem;
    font-weight: 600;
    cursor: pointer;
    transition: var(--transicion);
}

.boton-cancelar {
    background: var(--color-fondo);
    border: 2px solid var(--color-borde);
    color: var(--color-texto);
}

body.modo-noche .boton-cancelar {
    background: #1e293b;
    border-color: #475569;
}

.boton-cancelar:hover {
    background: var(--color-primario-claro);
    border-color: var(--color-primario);
    color: var(--color-primario);
}

.boton-confirmar-reiniciar {
    background: linear-gradient(135deg, #ef4444, #dc2626);
    color: white;
    box-shadow: 0 4px 12px rgba(239, 68, 68, 0.3);
}

.boton-confirmar-reiniciar:hover {
    transform: translateY(-2px);
    box-shadow: 0 6px 16px rgba(239, 68, 68, 0.4);
}

/* ===== SISTEMA DE PESTAÑAS Y NOTAS ===== */

.pestanas-modulo {
    display: flex;
    gap: 0.5rem;
    margin-bottom: 1.5rem;
    border-bottom: 2px solid var(--color-borde);
    padding-bottom: 0.5rem;
}

.pestana {
    padding: 0.75rem 1.5rem;
    background: transparent;
    border: none;
    border-bottom: 3px solid transparent;
    cursor: pointer;
    font-size: 0.95rem;
    font-weight: 600;
    color: var(--color-texto-claro);
    transition: var(--transicion);
    position: relative;
    margin-bottom: -2px;
}

.pestana:hover {
    color: var(--color-primario);
    background: var(--color-primario-claro);
    border-radius: 8px 8px 0 0;
}

.pestana.activa {
    color: var(--color-primario);
    border-bottom-color: var(--color-primario);
}

.contenido-pestana {
    display: none;
}

.contenido-pestana.activo {
    display: block;
}

/* Editor de notas tipo Word */
.seccion-notas {
    background: linear-gradient(135deg, rgba(124, 58, 237, 0.03), rgba(14, 165, 233, 0.03));
}

.instrucciones-editor {
    padding: 1rem;
    background: rgba(124, 58, 237, 0.08);
    border-radius: 8px;
    border-left: 4px solid var(--color-primario);
    margin-bottom: 1rem;
}

.instrucciones-editor p {
    margin: 0;
    color: var(--color-texto);
    font-size: 0.9rem;
}

.barra-herramientas-editor {
    display: flex;
    gap: 0.5rem;
    margin-bottom: 1rem;
    padding: 0.75rem;
    background: var(--color-fondo);
    border-radius: 8px;
    border: 1px solid var(--color-borde);
}

body.modo-noche .barra-herramientas-editor {
    background: #0f172a;
}

.boton-herramienta {
    padding: 0.5rem 1rem;
    background: white;
    border: 2px solid var(--color-borde);
    border-radius: 6px;
    font-size: 0.85rem;
    font-weight: 600;
    cursor: pointer;
    transition: var(--transicion);
    color: var(--color-texto);
}

body.modo-noche .boton-herramienta {
    background: #1e293b;
    border-color: #475569;
    color: #f8fafc;
}

.boton-herramienta:hover {
    background: var(--color-primario-claro);
    border-color: var(--color-primario);
    color: var(--color-primario);
}

.editor-rich-text {
    min-height: 400px;
    max-height: 600px;
    overflow-y: auto;
    padding: 1.5rem;
    border: 2px solid var(--color-borde);
    border-radius: 8px;
    font-family: inherit;
    font-size: 1rem;
    line-height: 1.8;
    color: var(--color-texto);
    background: white;
    transition: var(--transicion);
    cursor: text;
}

body.modo-noche .editor-rich-text {
    background: #0f172a;
    border-color: #475569;
    color: #f8fafc;
}

.editor-rich-text:focus {
    outline: none;
    border-color: var(--color-primario);
    box-shadow: 0 0 0 3px var(--color-glow);
}

/* Placeholder para el editor */
.editor-rich-text:empty:before {
    content: attr(data-placeholder);
    color: var(--color-texto-claro);
    font-style: italic;
    white-space: pre-wrap;
}

/* Imágenes dentro del editor */
/* Wrapper redimensionable para imágenes */
.imagen-wrapper-redimensionable {
    position: relative;
    display: inline-block;
    margin: 15px auto;
    transition: var(--transicion);
    outline: none;
    border-radius: 8px;
}

.imagen-wrapper-redimensionable:hover .controles-imagen,
.imagen-wrapper-redimensionable.seleccionada .controles-imagen {
    opacity: 1;
}

.imagen-wrapper-redimensionable.seleccionada {
    outline: 3px solid rgba(124, 58, 237, 0.6);
    outline-offset: 2px;
}

.editor-rich-text img {
    max-width: 100%;
    width: 100%;
    height: auto;
    border-radius: 8px;
    display: block;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
    transition: var(--transicion);
    cursor: pointer;
}

.editor-rich-text img:hover {
    box-shadow: 0 4px 16px rgba(124, 58, 237, 0.3);
}

/* Controles de redimensionamiento */
.controles-imagen {
    position: absolute;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    opacity: 0;
    transition: opacity 0.2s ease;
    z-index: 10;
    pointer-events: none;
}

.imagen-wrapper-redimensionable:hover .controles-imagen {
    opacity: 1;
    pointer-events: auto;
}

/* Handles de redimensionamiento en las esquinas */
.handle-resize {
    position: absolute;
    width: 12px;
    height: 12px;
    background: rgba(124, 58, 237, 0.9);
    border: 2px solid white;
    border-radius: 50%;
    pointer-events: auto;
    transition: all 0.2s ease;
    box-shadow: 0 2px 6px rgba(0, 0, 0, 0.3);
}

.handle-resize:hover {
    background: rgba(124, 58, 237, 1);
    transform: scale(1.3);
}

/* Posicionamiento de handles */
.handle-ne {
    top: -6px;
    right: -6px;
    cursor: ne-resize;
}

.handle-se {
    bottom: -6px;
    right: -6px;
    cursor: se-resize;
}

.handle-sw {
    bottom: -6px;
    left: -6px;
    cursor: sw-resize;
}

.handle-nw {
    top: -6px;
    left: -6px;
    cursor: nw-resize;
}

/* Estilos para el contenido del editor */
.editor-rich-text p {
    margin: 0.5rem 0;
}

.editor-rich-text h1,
.editor-rich-text h2,
.editor-rich-text h3 {
    margin: 1rem 0 0.5rem 0;
    color: var(--color-primario);
}

.editor-rich-text ul,
.editor-rich-text ol {
    margin: 0.5rem 0;
    padding-left: 2rem;
}

.editor-rich-text a {
    color: var(--color-primario);
    text-decoration: underline;
}

.editor-rich-text code {
    background: var(--color-primario-claro);
    padding: 0.2rem 0.4rem;
    border-radius: 4px;
    font-family: 'Courier New', monospace;
    font-size: 0.9em;
}

.editor-rich-text pre {
    background: var(--color-fondo);
    padding: 1rem;
    border-radius: 8px;
    overflow-x: auto;
    border: 1px solid var(--color-borde);
}

body.modo-noche .editor-rich-text pre {
    background: #1e293b;
}

/* Modal de imagen ampliada */
.modal-imagen-ampliada {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.9);
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 6000;
    padding: 2rem;
    animation: fadeIn 0.3s ease;
}

@keyframes fadeIn {
    from { opacity: 0; }
    to { opacity: 1; }
}

.contenedor-imagen-ampliada {
    position: relative;
    max-width: 90vw;
    max-height: 90vh;
    animation: zoomIn 0.3s ease;
}

@keyframes zoomIn {
    from { transform: scale(0.8); opacity: 0; }
    to { transform: scale(1); opacity: 1; }
}

.imagen-ampliada {
    max-width: 100%;
    max-height: 90vh;
    border-radius: 8px;
    box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
}

.boton-cerrar-imagen {
    position: absolute;
    top: -1rem;
    right: -1rem;
    width: 40px;
    height: 40px;
    background: white;
    color: #1f2937;
    border: none;
    border-radius: 50%;
    font-size: 1.8rem;
    line-height: 1;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: var(--transicion);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
}

.boton-cerrar-imagen:hover {
    background: #ef4444;
    color: white;
    transform: rotate(90deg) scale(1.1);
}

/* ===== BARRA DE HERRAMIENTAS DE FORMATO ===== */
.separador-herramientas {
    width: 1px;
    height: 24px;
    background: var(--color-borde);
    margin: 0 0.5rem;
}

.boton-herramienta.boton-peligro {
    background: rgba(239, 68, 68, 0.1);
    color: #ef4444;
    border-color: #ef4444;
}

.boton-herramienta.boton-peligro:hover {
    background: #ef4444;
    color: white;
}

body.modo-noche .boton-herramienta.boton-peligro {
    background: rgba(239, 68, 68, 0.2);
}

/* Modo noche para botón completar */
body.modo-noche .badge-completado {
    background: linear-gradient(135deg, rgba(16, 185, 129, 0.25), rgba(52, 211, 153, 0.25));
    border-color: #34d399;
}

/* Mejoras de contraste para modo noche */
body.modo-noche .titulo-seccion {
    color: #e9d5ff;
}

body.modo-noche .encabezado-modulo h2 {
    color: #c084fc;
}

body.modo-noche .numero-titulo {
    color: #cbd5e1;
}

body.modo-noche .pestana {
    color: #e2e8f0;
}

body.modo-noche .pestana:hover {
    color: #c084fc;
    background: rgba(168, 85, 247, 0.15);
}

body.modo-noche .pestana.activa {
    color: #c084fc;
    border-bottom-color: #c084fc;
}

body.modo-noche .pestana.activa:hover {
    background: rgba(168, 85, 247, 0.2);
}

body.modo-noche .descripcion-modulo {
    color: #cbd5e1;
}

body.modo-noche .encabezado-dashboard h2 {
    color: #c084fc;
}

body.modo-noche .encabezado-logros h2 {
    color: #c084fc;
}

/* Mejoras específicas de contraste para navbar y sidebar en modo nocturno */
body.modo-noche .titulo-navbar {
    color: #e9d5ff;
}

body.modo-noche .boton-dashboard {
    background: rgba(124, 58, 237, 0.3);
    border-color: rgba(124, 58, 237, 0.5);
    color: #f8fafc;
}

body.modo-noche .boton-dashboard:hover {
    background: rgba(124, 58, 237, 0.5);
    border-color: #7c3aed;
}

body.modo-noche .etiqueta-progreso {
    color: #e2e8f0;
}

body.modo-noche .porcentaje-progreso {
    color: #f8fafc;
}

body.modo-noche .item-modulo .numero-modulo {
    color: #cbd5e1;
}

body.modo-noche .item-modulo .titulo-modulo {
    color: #f8fafc;
}

body.modo-noche .estado-modulo {
    filter: brightness(1.3);
}

/* Controles de imagen en modo noche */
body.modo-noche .imagen-wrapper-redimensionable.seleccionada {
    outline-color: rgba(168, 85, 247, 0.8);
}

body.modo-noche .handle-resize {
    background: rgba(168, 85, 247, 0.9);
    border-color: #0f172a;
}

body.modo-noche .handle-resize:hover {
    background: rgba(168, 85, 247, 1);
}

/* ===== FOOTER ===== */
.footer-proyecto {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white;
    padding: 3rem 2rem 1rem;
    margin-top: 4rem;
    position: relative;
}

.contenido-footer {
    max-width: 1200px;
    margin: 0 auto;
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 2rem;
    margin-bottom: 2rem;
}

.seccion-footer h3 {
    font-size: 1.2rem;
    margin-bottom: 1rem;
    font-weight: 600;
    display: flex;
    align-items: center;
    gap: 0.5rem;
}

.seccion-footer p {
    font-size: 0.95rem;
    line-height: 1.6;
    opacity: 0.95;
}

.seccion-footer strong {
    font-weight: 700;
    color: #fff;
}

.copyright-footer {
    text-align: center;
    padding-top: 1.5rem;
    border-top: 1px solid rgba(255, 255, 255, 0.2);
    font-size: 0.9rem;
    opacity: 0.9;
}

/* Footer en modo noche */
body.modo-noche .footer-proyecto {
    background: linear-gradient(135deg, #1e293b 0%, #0f172a 100%);
    border-top: 1px solid #334155;
}

body.modo-noche .seccion-footer h3 {
    color: #c084fc;
}

body.modo-noche .copyright-footer {
    border-top-color: #334155;
}

/* Responsive footer */
@media (max-width: 768px) {
    .footer-proyecto {
        padding: 2rem 1.5rem 1rem;
        margin-top: 3rem;
    }
    
    .contenido-footer {
        grid-template-columns: 1fr;
        gap: 1.5rem;
    }
    
    .seccion-footer h3 {
        font-size: 1.1rem;
    }
    
    .seccion-footer p {
        font-size: 0.9rem;
    }
    
    .copyright-footer {
        font-size: 0.85rem;
    }
}

/* Estilos para la pestaña de Archivos y Bibliografía */
.subseccion-recursos {
    margin-bottom: 2rem;
}

.subtitulo-seccion {
    font-size: 1.1rem;
    font-weight: 600;
    margin-bottom: 0.75rem;
    color: var(--color-primario);
    display: flex;
    align-items: center;
    gap: 0.5rem;
}

.lista-recursos {
    margin-top: 0.5rem;
}

.ejemplo-recurso {
    margin-top: 1rem;
    padding: 1rem;
    background: rgba(124, 58, 237, 0.05);
    border-left: 4px solid var(--color-primario);
    border-radius: 4px;
}

body.modo-noche .ejemplo-recurso {
    background: rgba(124, 58, 237, 0.1);
}

/* ===== ESTILOS PARA TABLAS COMPARATIVAS ===== */
.tabla-comparativa {
    width: 100%;
    border-collapse: collapse;
    margin: 1.5rem 0;
    background: white;
    border-radius: 8px;
    overflow: hidden;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
}

.tabla-comparativa thead {
    background: linear-gradient(135deg, var(--color-primario), var(--color-acento));
    color: white;
}

.tabla-comparativa th {
    padding: 1rem;
    text-align: left;
    font-weight: 600;
    font-size: 1rem;
}

.tabla-comparativa td {
    padding: 1rem;
    border-bottom: 1px solid var(--color-borde);
    vertical-align: top;
}

.tabla-comparativa tbody tr:last-child td {
    border-bottom: none;
}

.tabla-comparativa tbody tr:nth-child(even) {
    background: rgba(124, 58, 237, 0.02);
}

.tabla-comparativa tbody tr:hover {
    background: rgba(124, 58, 237, 0.05);
    transition: var(--transicion);
}

body.modo-noche .tabla-comparativa {
    background: var(--color-fondo-oscuro);
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
}

body.modo-noche .tabla-comparativa td {
    border-bottom-color: var(--color-borde);
    color: var(--color-texto);
}

body.modo-noche .tabla-comparativa tbody tr:nth-child(even) {
    background: rgba(124, 58, 237, 0.05);
}

body.modo-noche .tabla-comparativa tbody tr:hover {
    background: rgba(124, 58, 237, 0.1);
}

/* Estilos para contenido teórico */
.contenido-teoria h2 {
    color: var(--color-primario);
    margin-top: 2rem;
    margin-bottom: 1rem;
    font-size: 1.75rem;
    border-bottom: 2px solid var(--color-primario);
    padding-bottom: 0.5rem;
}

.contenido-teoria h3 {
    color: var(--color-acento);
    margin-top: 1.5rem;
    margin-bottom: 0.75rem;
    font-size: 1.5rem;
}

.contenido-teoria h4 {
    color: var(--color-texto);
    margin-top: 1.25rem;
    margin-bottom: 0.5rem;
    font-size: 1.25rem;
    font-weight: 600;
}

.contenido-teoria h5 {
    color: var(--color-texto);
    margin-top: 1rem;
    margin-bottom: 0.5rem;
    font-size: 1.1rem;
    font-weight: 600;
}

.contenido-teoria ul, .contenido-teoria ol {
    margin: 1rem 0;
    padding-left: 2rem;
    line-height: 1.8;
}

.contenido-teoria li {
    margin: 0.5rem 0;
}

.contenido-teoria strong {
    color: var(--color-primario);
    font-weight: 600;
}

body.modo-noche .contenido-teoria h2 {
    color: var(--color-primario-claro);
    border-bottom-color: var(--color-primario);
}

body.modo-noche .contenido-teoria h3 {
    color: var(--color-acento);
}

body.modo-noche .contenido-teoria strong {
    color: var(--color-primario-claro);
}

/* Info box para módulos especiales */
.info-box {
    padding: 1rem;
    background: rgba(14, 165, 233, 0.1);
    border-left: 4px solid var(--color-acento);
    border-radius: 4px;
    margin: 1rem 0;
    color: var(--color-texto);
}

body.modo-noche .info-box {
    background: rgba(14, 165, 233, 0.15);
}

/* ===== SISTEMA DE NAVEGACIÓN SECUENCIAL ===== */
.contenedor-secuencial {
    position: relative;
    min-height: 400px;
}

/* Indicador de progreso */
.indicador-progreso-secciones {
    margin-bottom: 2rem;
    padding: 1rem;
    background: rgba(124, 58, 237, 0.05);
    border-radius: 12px;
    border: 1px solid var(--color-borde);
}

.barra-progreso-secciones {
    width: 100%;
    height: 8px;
    background: var(--color-borde);
    border-radius: 4px;
    overflow: hidden;
    margin-bottom: 0.5rem;
}

.progreso-secciones {
    height: 100%;
    background: linear-gradient(90deg, var(--color-primario), var(--color-acento));
    border-radius: 4px;
    transition: width 0.5s ease;
}

.contador-secciones {
    font-size: 0.875rem;
    color: var(--color-texto-claro);
    font-weight: 500;
}

/* Sección secuencial */
.seccion-secuencial {
    background: white;
    border-radius: 16px;
    border: 2px solid var(--color-borde);
    padding: 2rem;
    margin-bottom: 2rem;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
    transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    opacity: 1;
    transform: translateX(0);
}

.seccion-secuencial.activa {
    border-color: var(--color-primario);
    box-shadow: 0 8px 24px rgba(124, 58, 237, 0.2);
}

body.modo-noche .seccion-secuencial {
    background: var(--color-fondo-oscuro);
    border-color: var(--color-borde);
}

.header-seccion-secuencial {
    display: flex;
    align-items: center;
    gap: 1rem;
    margin-bottom: 1.5rem;
    padding-bottom: 1rem;
    border-bottom: 2px solid var(--color-borde);
    position: relative;
}

.titulo-seccion-secuencial {
    flex: 1;
    margin: 0;
}

.emoji-seccion {
    font-size: 2rem;
    line-height: 1;
}

.titulo-seccion-secuencial {
    margin: 0;
    font-size: 1.75rem;
    font-weight: 700;
    color: var(--color-primario);
    flex: 1;
}

body.modo-noche .titulo-seccion-secuencial {
    color: var(--color-primario-claro);
}

.badge-completada {
    background: var(--color-exito);
    color: white;
    padding: 0.5rem 1rem;
    border-radius: 20px;
    font-size: 0.875rem;
    font-weight: 600;
}

.contenido-seccion-secuencial {
    line-height: 1.8;
    transition: opacity 0.3s ease;
}

.acciones-seccion {
    margin-top: 2rem;
    padding-top: 1.5rem;
    border-top: 2px solid var(--color-borde);
    text-align: center;
}

/* Checkbox discreto para completar sección */
.checkbox-completar-seccion {
    position: relative;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    margin-left: auto;
    width: 32px;
    height: 32px;
    flex-shrink: 0;
}

.checkbox-completar-seccion input[type="checkbox"] {
    position: absolute;
    opacity: 0;
    cursor: pointer;
    width: 100%;
    height: 100%;
    margin: 0;
    z-index: 2;
}

.checkbox-completar-seccion .checkmark {
    position: absolute;
    width: 28px;
    height: 28px;
    border: 2px solid var(--color-borde);
    border-radius: 6px;
    background: white;
    transition: all 0.2s ease;
    display: flex;
    align-items: center;
    justify-content: center;
}

.checkbox-completar-seccion:hover .checkmark {
    border-color: var(--color-primario);
    background: rgba(124, 58, 237, 0.05);
    transform: scale(1.1);
}

.checkbox-completar-seccion input[type="checkbox"]:checked ~ .checkmark {
    background: linear-gradient(135deg, var(--color-primario), var(--color-acento));
    border-color: var(--color-primario);
}

.checkbox-completar-seccion input[type="checkbox"]:checked ~ .checkmark::after {
    content: '✓';
    color: white;
    font-size: 18px;
    font-weight: bold;
    line-height: 1;
}

.checkbox-completar-seccion.completada .checkmark {
    background: linear-gradient(135deg, var(--color-primario), var(--color-acento));
    border-color: var(--color-primario);
    animation: checkmarkPop 0.3s ease;
}

.checkbox-completar-seccion.completada .checkmark::after {
    content: '✓';
    color: white;
    font-size: 18px;
    font-weight: bold;
    line-height: 1;
}

@keyframes checkmarkPop {
    0% {
        transform: scale(0.8);
    }
    50% {
        transform: scale(1.15);
    }
    100% {
        transform: scale(1);
    }
}

body.modo-noche .checkbox-completar-seccion .checkmark {
    background: var(--color-fondo-oscuro);
    border-color: var(--color-borde);
}

body.modo-noche .checkbox-completar-seccion:hover .checkmark {
    background: rgba(124, 58, 237, 0.15);
}

/* Navegación entre secciones */
.navegacion-secciones {
    display: flex;
    justify-content: space-between;
    align-items: center;
    gap: 1rem;
    padding: 1.5rem;
    background: transparent;
    border-radius: 12px;
    margin-top: 2rem;
}

/* Ocultar navegación si está vacía */
.navegacion-secciones:empty {
    display: none;
    margin: 0;
    padding: 0;
}

.boton-navegacion {
    background: white;
    border: 2px solid var(--color-primario);
    color: var(--color-primario);
    padding: 0.875rem 1.5rem;
    border-radius: 10px;
    font-size: 1rem;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.3s ease;
    display: flex;
    align-items: center;
    gap: 0.5rem;
}

.boton-navegacion:hover:not(.deshabilitado) {
    background: var(--color-primario);
    color: white;
    transform: translateX(5px);
}

.boton-navegacion.deshabilitado {
    opacity: 0.5;
    cursor: not-allowed;
    border-color: var(--color-borde);
    color: var(--color-texto-claro);
}

.boton-navegacion .flecha {
    font-size: 1.25rem;
    transition: transform 0.3s ease;
}

.boton-navegacion:hover:not(.deshabilitado) .flecha {
    transform: translateX(3px);
}

.boton-navegacion:first-child:hover:not(.deshabilitado) .flecha {
    transform: translateX(-3px);
}

body.modo-noche .boton-navegacion {
    background: var(--color-fondo-oscuro);
}

/* Indicador de puntos de secciones */
.indicador-seccion {
    display: flex;
    gap: 0.75rem;
    align-items: center;
    flex: 1;
    justify-content: center;
    min-height: 20px; /* Evitar expansión excesiva */
}

/* Ocultar el indicador si está vacío (sin puntos) */
.indicador-seccion:empty {
    display: none;
}

.punto-seccion {
    width: 12px;
    height: 12px;
    border-radius: 50%;
    background: var(--color-borde);
    cursor: pointer;
    transition: all 0.3s ease;
    position: relative;
}

.punto-seccion:hover {
    transform: scale(1.3);
    background: var(--color-primario);
}

.punto-seccion.activa {
    width: 16px;
    height: 16px;
    background: var(--color-primario);
    box-shadow: 0 0 0 4px rgba(124, 58, 237, 0.2);
}

.punto-seccion.completada {
    background: var(--color-exito);
}

.punto-seccion.completada.activa {
    background: var(--color-exito);
    box-shadow: 0 0 0 4px rgba(16, 185, 129, 0.2);
}

/* Secciones expandibles en sidebar */
.contenedor-modulo-sidebar {
    margin-bottom: 0.5rem;
}

.icono-expandir-modulo {
    margin-left: auto;
    font-size: 0.875rem;
    color: var(--color-primario);
    transition: transform 0.3s ease, background 0.2s ease;
    cursor: pointer;
    padding: 0.25rem 0.5rem;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    min-width: 24px;
    user-select: none;
    flex-shrink: 0;
    border-radius: 4px;
}

.icono-expandir-modulo:hover {
    background: rgba(124, 58, 237, 0.15);
}

/* Icono en módulo activo */
.item-modulo.activo .icono-expandir-modulo {
    color: white;
    opacity: 0.9;
}

.item-modulo.activo .icono-expandir-modulo:hover {
    background: rgba(255, 255, 255, 0.2);
    opacity: 1;
}

.secciones-modulo-sidebar {
    max-height: 0;
    overflow: hidden;
    transition: max-height 0.3s ease;
    background: rgba(124, 58, 237, 0.02);
    border-radius: 0 0 8px 8px;
}

.secciones-modulo-sidebar.expandido {
    max-height: 1000px;
}

.item-seccion-sidebar {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.625rem 1rem 0.625rem 2.5rem;
    cursor: pointer;
    transition: all 0.2s ease;
    font-size: 0.875rem;
    border-left: 3px solid transparent;
}

.item-seccion-sidebar:hover {
    background: rgba(124, 58, 237, 0.08);
    border-left-color: var(--color-primario);
}

.item-seccion-sidebar.activa {
    background: rgba(124, 58, 237, 0.12);
    border-left-color: var(--color-primario);
    font-weight: 600;
    color: var(--color-primario);
}

.item-seccion-sidebar.completada {
    border-left-color: var(--color-exito);
}

.numero-seccion-sidebar {
    width: 20px;
    height: 20px;
    border-radius: 50%;
    background: var(--color-primario);
    color: white;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 0.7rem;
    font-weight: 600;
    flex-shrink: 0;
}

.item-seccion-sidebar.completada .numero-seccion-sidebar {
    background: var(--color-exito);
}

.emoji-seccion-sidebar {
    font-size: 1rem;
    flex-shrink: 0;
}

.titulo-seccion-sidebar {
    flex: 1;
    font-size: 0.875rem;
    color: var(--color-texto);
    line-height: 1.3;
}

.check-seccion-sidebar {
    color: var(--color-exito);
    font-size: 1rem;
    flex-shrink: 0;
}

body.modo-noche .secciones-modulo-sidebar {
    background: rgba(124, 58, 237, 0.05);
}

body.modo-noche .item-seccion-sidebar:hover {
    background: rgba(124, 58, 237, 0.1);
}

body.modo-noche .item-seccion-sidebar.activa {
    background: rgba(124, 58, 237, 0.15);
}

/* Pestaña bloqueada */
.pestana.bloqueada {
    opacity: 0.6;
    cursor: not-allowed;
    position: relative;
}

.pestana.bloqueada:hover {
    background: rgba(0, 0, 0, 0.05);
}

body.modo-noche .pestana.bloqueada:hover {
    background: rgba(255, 255, 255, 0.05);
}

/* Botón siguiente módulo */
.boton-siguiente-modulo {
    background: linear-gradient(135deg, var(--color-exito), #059669);
    color: white;
    border: none;
    padding: 0.75rem 1.5rem;
    border-radius: 10px;
    font-size: 0.9rem;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.3s ease;
    box-shadow: 0 4px 12px rgba(16, 185, 129, 0.3);
}

.boton-siguiente-modulo:hover {
    transform: translateY(-2px);
    box-shadow: 0 6px 20px rgba(16, 185, 129, 0.4);
}

/* Transiciones fluidas */
.contenedor-secuencial {
    transition: opacity 0.2s ease-out, transform 0.2s ease-out;
    will-change: opacity, transform;
}

.contenedor-secuencial.fade-out {
    opacity: 0;
    transform: translateY(-10px);
    pointer-events: none;
}

.contenedor-secuencial.fade-in {
    opacity: 1;
    transform: translateY(0);
    animation: slideInFade 0.25s ease-out;
}

@keyframes slideInFade {
    from {
        opacity: 0;
        transform: translateY(10px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

.seccion-secuencial {
    animation: fadeInUp 0.5s ease;
}

@keyframes fadeInUp {
    from {
        opacity: 0;
        transform: translateY(20px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

/* ===== MEJORAS DE FORMATO ===== */
.contenido-mejorado,
.contenido-seccion-interactiva {
    line-height: 1.8;
}

.parrafo-mejorado {
    margin: 1.25rem 0;
    line-height: 1.8;
    color: var(--color-texto);
    font-size: 1rem;
}

.lista-mejorada {
    margin: 1.25rem 0;
    padding-left: 2rem;
    line-height: 2;
}

.item-lista-mejorado {
    margin: 0.75rem 0;
    padding-left: 0.5rem;
    line-height: 1.8;
}

.contenido-mejorado h2,
.contenido-seccion-interactiva h2 {
    color: var(--color-primario);
    margin: 2rem 0 1rem 0;
    font-size: 1.75rem;
    font-weight: 700;
    padding-bottom: 0.5rem;
    border-bottom: 3px solid var(--color-primario);
}

.contenido-mejorado h3,
.contenido-seccion-interactiva h3 {
    color: var(--color-acento);
    margin: 1.75rem 0 1rem 0;
    font-size: 1.5rem;
    font-weight: 600;
}

.contenido-mejorado h4,
.contenido-seccion-interactiva h4 {
    color: var(--color-texto);
    margin: 1.5rem 0 0.75rem 0;
    font-size: 1.25rem;
    font-weight: 600;
}

.contenido-mejorado h5,
.contenido-seccion-interactiva h5 {
    color: var(--color-texto);
    margin: 1.25rem 0 0.5rem 0;
    font-size: 1.1rem;
    font-weight: 600;
}

.contenido-mejorado strong,
.contenido-seccion-interactiva strong {
    color: var(--color-primario);
    font-weight: 600;
}

body.modo-noche .contenido-mejorado h2,
body.modo-noche .contenido-seccion-interactiva h2 {
    color: var(--color-primario-claro);
    border-bottom-color: var(--color-primario);
}

body.modo-noche .contenido-mejorado strong,
body.modo-noche .contenido-seccion-interactiva strong {
    color: var(--color-primario-claro);
}

/* Espaciado mejorado para tablas */
.contenido-mejorado .tabla-comparativa,
.contenido-seccion-interactiva .tabla-comparativa {
    margin: 2rem 0;
}

/* Mejor espaciado general */
.contenido-mejorado > *:first-child,
.contenido-seccion-interactiva > *:first-child {
    margin-top: 0;
}

.contenido-mejorado > *:last-child,
.contenido-seccion-interactiva > *:last-child {
    margin-bottom: 0;
}

/* Clases adicionales para mejor formato */
.titulo-principal {
    margin-top: 2.5rem !important;
    margin-bottom: 1.5rem !important;
}

.titulo-secundario {
    margin-top: 2rem !important;
    margin-bottom: 1rem !important;
}

.titulo-terciario {
    margin-top: 1.5rem !important;
    margin-bottom: 0.75rem !important;
}

.titulo-cuaternario {
    margin-top: 1.25rem !important;
    margin-bottom: 0.5rem !important;
}

.texto-destacado {
    color: var(--color-primario);
    font-weight: 600;
}

body.modo-noche .texto-destacado {
    color: var(--color-primario-claro);
}

.tabla-mejorada {
    margin: 2rem 0;
    width: 100%;
    border-collapse: collapse;
}

/* Mejorar espaciado entre elementos */
.contenido-seccion-interactiva > p + p {
    margin-top: 1.25rem;
}

.contenido-seccion-interactiva > p + ul,
.contenido-seccion-interactiva > p + ol {
    margin-top: 1rem;
}

.contenido-seccion-interactiva > ul + p,
.contenido-seccion-interactiva > ol + p {
    margin-top: 1.25rem;
}

.contenido-seccion-interactiva > h3 + p,
.contenido-seccion-interactiva > h4 + p {
    margin-top: 0.75rem;
}

/* ===== ESTILOS PARA CONTENIDO TEÓRICO DETALLADO ===== */

/* Resumen destacado */
.resumen-destacado {
    background: linear-gradient(135deg, rgba(124, 58, 237, 0.08), rgba(14, 165, 233, 0.08));
    padding: 1.5rem;
    border-radius: 12px;
    border-left: 4px solid var(--color-primario);
    margin: 1.5rem 0;
}

body.modo-noche .resumen-destacado {
    background: linear-gradient(135deg, rgba(124, 58, 237, 0.15), rgba(14, 165, 233, 0.15));
    border-left-color: #a78bfa;
}

.resumen-destacado p {
    margin: 1rem 0;
    color: var(--color-texto);
}

/* Caja importante */
.caja-importante {
    background: rgba(124, 58, 237, 0.08);
    padding: 1.25rem;
    border-radius: 10px;
    border: 2px solid rgba(124, 58, 237, 0.2);
    margin: 1.5rem 0;
}

body.modo-noche .caja-importante {
    background: rgba(124, 58, 237, 0.15);
    border-color: rgba(168, 85, 247, 0.4);
}

.caja-importante p {
    color: var(--color-texto);
    margin: 0.5rem 0;
}

/* Concepto box */
.concepto-box {
    background: white;
    padding: 1.5rem;
    border-radius: 10px;
    border: 2px solid var(--color-borde);
    margin: 1.5rem 0;
    box-shadow: 0 2px 8px var(--color-sombra);
}

body.modo-noche .concepto-box {
    background: #1e293b;
    border-color: #475569;
}

.concepto-box h4, .concepto-box h5 {
    color: var(--color-primario);
    margin-top: 0;
    margin-bottom: 1rem;
}

body.modo-noche .concepto-box h4,
body.modo-noche .concepto-box h5 {
    color: #c084fc;
}

.concepto-box p {
    color: var(--color-texto);
    margin: 0.75rem 0;
}

/* Propiedad box (similar a concepto box pero con ligero gradiente) */
.propiedad-box {
    background: linear-gradient(135deg, white, rgba(124, 58, 237, 0.02));
    padding: 1.5rem;
    border-radius: 10px;
    border: 2px solid var(--color-borde);
    margin: 1.5rem 0;
    box-shadow: 0 2px 8px var(--color-sombra);
}

body.modo-noche .propiedad-box {
    background: linear-gradient(135deg, #1e293b, rgba(124, 58, 237, 0.08));
    border-color: #475569;
}

.propiedad-box h4, .propiedad-box h5 {
    color: var(--color-primario);
    margin-top: 0;
    margin-bottom: 1rem;
}

body.modo-noche .propiedad-box h4,
body.modo-noche .propiedad-box h5 {
    color: #c084fc;
}

/* Ejemplo práctico */
.ejemplo-practico {
    background: rgba(14, 165, 233, 0.08);
    padding: 1.25rem;
    border-radius: 10px;
    border-left: 4px solid var(--color-acento);
    margin: 1.5rem 0;
}

body.modo-noche .ejemplo-practico {
    background: rgba(14, 165, 233, 0.15);
    border-left-color: #38bdf8;
}

.ejemplo-practico p, .ejemplo-practico ul, .ejemplo-practico ol {
    color: var(--color-texto);
}

.ejemplo-practico h4, .ejemplo-practico h5 {
    color: var(--color-acento);
    margin-top: 0;
    margin-bottom: 0.75rem;
}

body.modo-noche .ejemplo-practico h4,
body.modo-noche .ejemplo-practico h5 {
    color: #38bdf8;
}

/* Ejemplos (lista de ejemplos) */
.ejemplos {
    margin: 1rem 0;
}

.ejemplos p, .ejemplos ul, .ejemplos ol {
    color: var(--color-texto);
}

/* Alerta / Advertencia */
.alerta {
    background: rgba(245, 158, 11, 0.1);
    padding: 1.25rem;
    border-radius: 10px;
    border-left: 4px solid var(--color-advertencia);
    margin: 1.5rem 0;
}

body.modo-noche .alerta {
    background: rgba(245, 158, 11, 0.18);
    border-left-color: #fbbf24;
}

.alerta p, .alerta ul, .alerta ol {
    color: var(--color-texto);
}

/* Nota importante (ya existía pero la mejoro) */
.nota-importante {
    background: rgba(124, 58, 237, 0.06);
    padding: 1.25rem;
    border-radius: 10px;
    border: 2px solid rgba(124, 58, 237, 0.15);
    margin: 1.5rem 0;
}

body.modo-noche .nota-importante {
    background: rgba(124, 58, 237, 0.12);
    border-color: rgba(168, 85, 247, 0.3);
}

.nota-importante p, .nota-importante ul, .nota-importante ol {
    color: var(--color-texto);
}

/* Cita destacada */
.cita-destacada {
    background: linear-gradient(135deg, rgba(124, 58, 237, 0.08), rgba(14, 165, 233, 0.08));
    padding: 1.5rem 2rem;
    border-radius: 12px;
    border-left: 5px solid var(--color-primario);
    margin: 2rem 0;
    font-style: italic;
}

body.modo-noche .cita-destacada {
    background: linear-gradient(135deg, rgba(124, 58, 237, 0.15), rgba(14, 165, 233, 0.15));
    border-left-color: #a78bfa;
}

.cita-destacada p {
    color: var(--color-texto);
    margin: 0.5rem 0;
}

/* Conclusión de unidad */
.conclusion-unidad {
    background: linear-gradient(135deg, rgba(16, 185, 129, 0.08), rgba(5, 150, 105, 0.08));
    padding: 2rem;
    border-radius: 12px;
    border: 2px solid var(--color-exito);
    margin: 2.5rem 0;
}

body.modo-noche .conclusion-unidad {
    background: linear-gradient(135deg, rgba(16, 185, 129, 0.15), rgba(5, 150, 105, 0.15));
    border-color: #34d399;
}

.conclusion-unidad h3 {
    color: var(--color-exito);
    margin-top: 0;
    margin-bottom: 1.25rem;
}

body.modo-noche .conclusion-unidad h3 {
    color: #34d399;
}

.conclusion-unidad p, .conclusion-unidad ul, .conclusion-unidad ol {
    color: var(--color-texto);
}

/* Conclusión parcial */
.conclusion-parcial {
    background: rgba(124, 58, 237, 0.05);
    padding: 1.5rem;
    border-radius: 10px;
    border-left: 4px solid var(--color-primario);
    margin: 1.5rem 0;
}

body.modo-noche .conclusion-parcial {
    background: rgba(124, 58, 237, 0.12);
    border-left-color: #a78bfa;
}

.conclusion-parcial h4 {
    color: var(--color-primario);
    margin-top: 0;
    margin-bottom: 1rem;
}

body.modo-noche .conclusion-parcial h4 {
    color: #c084fc;
}

/* Taxonomía grid */
.taxonomia-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    gap: 1.25rem;
    margin: 1.5rem 0;
}

.tipo-sistema {
    background: white;
    padding: 1.25rem;
    border-radius: 10px;
    border: 2px solid var(--color-borde);
    transition: var(--transicion);
}

body.modo-noche .tipo-sistema {
    background: #1e293b;
    border-color: #475569;
}

.tipo-sistema:hover {
    border-color: var(--color-primario);
    box-shadow: 0 4px 12px rgba(124, 58, 237, 0.15);
    transform: translateY(-2px);
}

.tipo-sistema h4 {
    color: var(--color-primario);
    margin-top: 0;
    margin-bottom: 0.75rem;
}

body.modo-noche .tipo-sistema h4 {
    color: #c084fc;
}

.tipo-sistema p {
    color: var(--color-texto);
    margin: 0.5rem 0;
    font-size: 0.95rem;
}

.tipo-sistema em {
    color: var(--color-texto-claro);
    font-style: italic;
}

/* Tipo Card - Variante expandida */
.tipo-card {
    background: white;
    border-radius: 12px;
    border: 2px solid var(--color-borde);
    overflow: hidden;
    transition: var(--transicion);
    margin: 0.5rem 0;
}

body.modo-noche .tipo-card {
    background: #1e293b;
    border-color: #475569;
}

.tipo-card:hover {
    border-color: var(--color-primario);
    box-shadow: 0 4px 12px rgba(124, 58, 237, 0.15);
}

.tipo-header {
    background: linear-gradient(135deg, rgba(124, 58, 237, 0.1), rgba(14, 165, 233, 0.1));
    padding: 1rem 1.25rem;
    display: flex;
    align-items: center;
    gap: 0.75rem;
    border-bottom: 1px solid var(--color-borde);
}

body.modo-noche .tipo-header {
    background: linear-gradient(135deg, rgba(124, 58, 237, 0.2), rgba(14, 165, 233, 0.2));
}

.tipo-header .tipo-icono {
    font-size: 1.5rem;
}

.tipo-header .tipo-nombre {
    font-weight: 600;
    color: var(--color-primario);
}

body.modo-noche .tipo-header .tipo-nombre {
    color: #c084fc;
}

.tipo-content {
    padding: 1rem 1.25rem;
}

.tipo-content .tipo-desc {
    color: var(--color-texto);
    line-height: 1.6;
}

/* Principios lista */
.principios-lista {
    margin: 1.5rem 0;
}

.principios-lista ol {
    background: rgba(124, 58, 237, 0.05);
    padding: 1.5rem 2rem;
    border-radius: 10px;
    border-left: 4px solid var(--color-primario);
}

body.modo-noche .principios-lista ol {
    background: rgba(124, 58, 237, 0.12);
    border-left-color: #a78bfa;
}

.principios-lista li {
    margin: 1rem 0;
    color: var(--color-texto);
    line-height: 1.7;
}

/* Arquetipo box */
.arquetipo-box {
    padding: 1.5rem;
    border-radius: 12px;
    margin: 2rem 0;
    border: 2px solid;
}

.arquetipo-box h4 {
    margin-top: 0;
    margin-bottom: 1rem;
    font-size: 1.3rem;
}

.arquetipo-box h5 {
    margin-top: 1rem;
    margin-bottom: 0.75rem;
}

/* Tablas en contenido - mejorar contraste */
.contenido-seccion-secuencial table {
    width: 100%;
    border-collapse: collapse;
    margin: 1.5rem 0;
    background: white;
    border-radius: 8px;
    overflow: hidden;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
}

body.modo-noche .contenido-seccion-secuencial table {
    background: #1e293b;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
}

.contenido-seccion-secuencial table thead {
    background: linear-gradient(135deg, var(--color-primario), var(--color-acento));
    color: white;
}

.contenido-seccion-secuencial table th {
    padding: 1rem;
    text-align: left;
    font-weight: 600;
    color: white !important;
    border: none;
}

.contenido-seccion-secuencial table td {
    padding: 1rem;
    border: 1px solid var(--color-borde);
    color: var(--color-texto);
    background: white;
}

body.modo-noche .contenido-seccion-secuencial table td {
    background: #0f172a;
    border-color: #475569;
    color: var(--color-texto);
}

.contenido-seccion-secuencial table tbody tr:nth-child(even) td {
    background: rgba(124, 58, 237, 0.03);
}

body.modo-noche .contenido-seccion-secuencial table tbody tr:nth-child(even) td {
    background: rgba(124, 58, 237, 0.08);
}

.contenido-seccion-secuencial table tbody tr:hover td {
    background: rgba(124, 58, 237, 0.08);
}

body.modo-noche .contenido-seccion-secuencial table tbody tr:hover td {
    background: rgba(124, 58, 237, 0.15);
}

/* ===== NUEVOS ESTILOS PARA CONTENIDO REESTRUCTURADO ===== */

/* Lista destacada */
.lista-destacada {
    background: rgba(124, 58, 237, 0.05);
    padding: 1.5rem;
    border-radius: 10px;
    margin: 1rem 0;
}

.lista-destacada li {
    padding: 0.75rem 0;
    border-bottom: 1px dotted var(--color-borde);
}

.lista-destacada li:last-child {
    border-bottom: none;
}

/* Ejemplos grid */
.ejemplos-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
    gap: 1rem;
    margin: 1.5rem 0;
}

.ejemplo-mini {
    background: rgba(14, 165, 233, 0.08);
    padding: 1rem;
    border-radius: 8px;
    text-align: center;
    font-size: 0.95em;
    border: 2px solid rgba(14, 165, 233, 0.2);
}

/* Tabla simple */
.tabla-simple {
    width: 100%;
    margin: 1rem 0;
    border-collapse: collapse;
}

.tabla-simple td {
    padding: 0.75rem;
    border: 1px solid var(--color-borde);
}

.tabla-simple tr:nth-child(even) {
    background: rgba(124, 58, 237, 0.03);
}

body.modo-noche .tabla-simple tr:nth-child(even) {
    background: rgba(124, 58, 237, 0.08);
}

/* Tabla ejemplos */
.tabla-ejemplos {
    width: 100%;
    border-collapse: collapse;
    margin: 1.5rem 0;
    background: white;
    border-radius: 8px;
    overflow: hidden;
}

.tabla-ejemplos thead {
    background: linear-gradient(135deg, var(--color-primario), var(--color-acento));
}

.tabla-ejemplos th {
    padding: 1rem;
    color: white !important;
    font-weight: 600;
    text-align: left;
}

.tabla-ejemplos td {
    padding: 1rem;
    border: 1px solid var(--color-borde);
}

body.modo-noche .tabla-ejemplos {
    background: #1e293b;
}

/* Principios box */
.principios-box {
    background: white;
    padding: 1.75rem;
    border-radius: 12px;
    border: 2px solid var(--color-primario);
    margin: 1.5rem 0;
}

.principios-box p {
    margin-bottom: 1rem;
    color: var(--color-texto);
}

body.modo-noche .principios-box {
    background: #1e293b;
}

/* Concepto vs (comparación lado a lado) */
.concepto-vs {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 1.5rem;
    margin: 1.5rem 0;
}

.vs-item {
    padding: 1.25rem;
    border-radius: 10px;
    border: 2px solid;
}

.vs-item.negativo {
    background: rgba(239, 68, 68, 0.05);
    border-color: #ef4444;
}

.vs-item.positivo {
    background: rgba(16, 185, 129, 0.05);
    border-color: var(--color-exito);
}

.vs-item h5 {
    margin: 0 0 1rem 0;
}

.vs-item.negativo h5 {
    color: #dc2626;
}

.vs-item.positivo h5 {
    color: var(--color-exito);
}

/* Lista con checks */
.lista-check {
    list-style: none;
    padding-left: 0;
}

.lista-check li {
    padding: 0.5rem 0;
}

/* Feedback negativo y positivo */
.feedback-negativo {
    background: rgba(14, 165, 233, 0.08);
    padding: 1.25rem;
    border-radius: 10px;
    border-left: 4px solid var(--color-acento);
    margin: 1rem 0;
}

.feedback-positivo {
    background: rgba(245, 158, 11, 0.08);
    padding: 1.25rem;
    border-radius: 10px;
    border-left: 4px solid var(--color-advertencia);
    margin: 1rem 0;
}

/* Texto pequeño */
.texto-pequeno {
    font-size: 0.85em;
    color: var(--color-texto-claro);
    margin-top: 0.5rem;
}

/* Tabla simple con thead */
.tabla-simple thead {
    background: rgba(124, 58, 237, 0.1);
    font-weight: 600;
}

.tabla-simple thead th {
    padding: 0.75rem;
    color: var(--color-primario);
}

body.modo-noche .tabla-simple thead {
    background: rgba(124, 58, 237, 0.2);
}

/* vs-item sin clase negativo/positivo */
.vs-item {
    background: white;
    padding: 1.25rem;
    border-radius: 10px;
    border: 2px solid var(--color-borde);
}

.vs-item h4, .vs-item h5 {
    color: var(--color-primario);
    margin: 0 0 1rem 0;
}

body.modo-noche .vs-item {
    background: #1e293b;
}

/* Responsive para concepto-vs */
@media (max-width: 768px) {
    .concepto-vs {
        grid-template-columns: 1fr;
    }
}

/* ===== FIN NUEVOS ESTILOS ===== */

/* Bienvenida principal (contenedor) */
.bienvenida-principal {
    margin-bottom: 2rem;
}

/* Bienvenida box */
.bienvenida-box {
    background: linear-gradient(135deg, #7c3aed, #0ea5e9);
    color: white !important;
    padding: 2rem;
    border-radius: 16px;
    margin: 2rem 0;
    text-align: center;
    box-shadow: 0 8px 24px rgba(124, 58, 237, 0.3);
}

.bienvenida-box * {
    color: white !important;
}

.bienvenida-box .titulo-bienvenida {
    margin: 0 0 1rem 0;
    font-size: 1.5em;
    font-weight: 700;
}

.bienvenida-box p {
    margin: 0.5rem 0;
    font-size: 1.05em;
}

.titulo-motivacion {
    font-size: 1.3em;
    font-weight: 700;
    margin-bottom: 1rem;
}

.titulo-card {
    font-weight: 700;
    font-size: 1.1em;
    color: var(--color-primario);
    margin: 0.5rem 0;
}

.desc-card {
    font-size: 0.95em;
    color: var(--color-texto-claro);
    margin: 0.5rem 0 0 0;
}

.titulo-paso {
    font-weight: 700;
    color: var(--color-primario);
    margin: 0 0 0.5rem 0;
}

/* Intro unidad */
.intro-unidad {
    background: rgba(124, 58, 237, 0.06);
    padding: 1.5rem;
    border-radius: 12px;
    border-left: 4px solid var(--color-primario);
    margin-bottom: 2rem;
}

.intro-unidad p {
    margin: 0.75rem 0;
    font-size: 1.05em;
    color: var(--color-texto);
}

/* Unidades overview - En la sección de bienvenida */
.unidades-overview {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 2rem;
    margin: 2rem 0;
}

.unidad-card {
    background: white;
    padding: 2rem 1.75rem;
    border-radius: 16px;
    border: 2px solid var(--color-borde);
    transition: all 0.3s ease;
    position: relative;
    padding-top: 4.5rem;
    box-shadow: 0 2px 12px rgba(0, 0, 0, 0.06);
    min-height: 180px;
}

.unidad-card:hover {
    transform: translateY(-5px);
    border-color: var(--color-primario);
    box-shadow: 0 8px 24px rgba(124, 58, 237, 0.25);
}

.numero-unidad {
    position: absolute;
    top: 1.5rem;
    left: 1.5rem;
    width: 50px;
    height: 50px;
    line-height: 50px;
    background: linear-gradient(135deg, var(--color-primario), var(--color-acento));
    color: white;
    border-radius: 50%;
    font-weight: bold;
    font-size: 1.4em;
    text-align: center;
    box-shadow: 0 2px 8px rgba(124, 58, 237, 0.3);
}

.titulo-card {
    font-weight: 700;
    font-size: 1.15em;
    color: var(--color-primario);
    margin: 0 0 1rem 0;
    line-height: 1.3;
}

.desc-card {
    font-size: 0.95em;
    color: var(--color-texto-claro);
    margin: 0;
    line-height: 1.5;
}

body.modo-noche .unidad-card {
    background: #1e293b;
}

/* Guía de navegación */
.guia-navegacion {
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
    margin: 2rem 0;
}

.paso-guia {
    display: flex;
    gap: 1rem;
    align-items: flex-start;
    background: white;
    padding: 1.25rem 1.5rem;
    border-radius: 12px;
    border-left: 4px solid var(--color-primario);
    box-shadow: 0 2px 8px var(--color-sombra);
}

.paso-guia .numero-paso {
    margin-top: 0.15rem;
}

.icono-paso {
    font-size: 2em;
    flex-shrink: 0;
    font-weight: 700;
    color: var(--color-primario);
}

.paso-guia > div {
    flex: 1;
}

.paso-guia h4 {
    color: var(--color-primario);
    margin: 0 0 0.5rem 0;
}

.paso-guia p, .paso-guia ul {
    margin: 0.5rem 0;
    color: var(--color-texto);
}

body.modo-noche .paso-guia {
    background: #1e293b;
}

/* Tabla de evaluaciones */
.tabla-evaluaciones {
    width: 100%;
    border-collapse: collapse;
    margin: 1.5rem 0;
    background: white;
    border-radius: 8px;
    overflow: hidden;
}

.tabla-evaluaciones thead {
    background: linear-gradient(135deg, var(--color-primario), var(--color-acento));
}

.tabla-evaluaciones th {
    padding: 1rem;
    color: white !important;
    font-weight: 600;
    text-align: left;
}

.tabla-evaluaciones td {
    padding: 1rem;
    border: 1px solid var(--color-borde);
}

.tabla-evaluaciones tbody tr:nth-child(even) {
    background: rgba(124, 58, 237, 0.03);
}

body.modo-noche .tabla-evaluaciones {
    background: #1e293b;
}

body.modo-noche .tabla-evaluaciones tbody tr:nth-child(even) {
    background: rgba(124, 58, 237, 0.08);
}

/* Evaluación info */
.evaluacion-info {
    background: white;
    padding: 2rem;
    border-radius: 12px;
    border: 2px solid var(--color-borde);
    margin: 2rem 0;
}

body.modo-noche .evaluacion-info {
    background: #1e293b;
}

/* Consejos box */
.consejos-box {
    background: rgba(16, 185, 129, 0.08);
    padding: 2rem;
    border-radius: 12px;
    border: 2px solid var(--color-exito);
    margin: 2rem 0;
}

.lista-consejos {
    list-style: none;
    padding-left: 0;
}

.lista-consejos li {
    padding: 0.75rem;
    margin: 0.5rem 0;
    background: white;
    border-radius: 8px;
    border-left: 4px solid var(--color-exito);
}

body.modo-noche .lista-consejos li {
    background: #1e293b;
}

/* Motivación box */
.motivacion-box {
    background: linear-gradient(135deg, rgba(245, 158, 11, 0.1), rgba(251, 146, 60, 0.1));
    padding: 2rem;
    border-radius: 12px;
    border: 2px solid var(--color-advertencia);
    margin: 2rem 0;
}

.motivacion-box h4 {
    color: var(--color-advertencia);
    margin: 0 0 1rem 0;
}

.motivacion-box ul {
    margin: 1rem 0;
}

.texto-centrado {
    text-align: center;
    font-weight: 600;
    font-size: 1.1em;
    margin-top: 1.5rem;
}

/* Botón especial para ir a Unidad I */
.boton-ir-unidad-1 {
    background: linear-gradient(135deg, var(--color-primario), var(--color-acento)) !important;
    color: white !important;
    border-color: var(--color-primario) !important;
    font-weight: 700;
}

.boton-ir-unidad-1:hover {
    transform: translateX(8px) !important;
    box-shadow: 0 4px 16px rgba(124, 58, 237, 0.4) !important;
}

/* Responsive para bienvenida */
@media (max-width: 768px) {
    .unidades-overview {
        grid-template-columns: 1fr;
    }
    
    .paso-guia {
        flex-direction: column;
        text-align: center;
    }
}

/* Resumen de unidad */
.resumen-unidad {
    background: linear-gradient(135deg, rgba(124, 58, 237, 0.08), rgba(14, 165, 233, 0.08));
    padding: 1.5rem;
    border-radius: 12px;
    border-left: 4px solid var(--color-primario);
    margin-bottom: 2rem;
}

.resumen-unidad h3 {
    color: var(--color-primario);
    margin: 0 0 1rem 0;
}

.resumen-unidad p {
    margin: 0.5rem 0;
    color: var(--color-texto);
}

/* Concepto destacado */
.concepto-destacado {
    background: linear-gradient(135deg, #7c3aed, #0ea5e9);
    color: white !important;
    padding: 1.5rem;
    border-radius: 12px;
    margin: 1.5rem 0;
    text-align: center;
}

.concepto-destacado * {
    color: white !important;
}

.concepto-destacado p {
    margin: 0.5rem 0;
    font-size: 1.05em;
}

.titulo-concepto {
    font-size: 1.3em;
    font-weight: 700;
    margin-bottom: 0.75rem;
    display: block;
}

.titulo-ejemplo {
    font-size: 1.15em;
    font-weight: 700;
    color: var(--color-acento);
    margin-bottom: 0.75rem;
    display: block;
}

body.modo-noche .titulo-ejemplo {
    color: #38bdf8;
}

/* Intro seccion (para inicio de unidades) */
.intro-seccion {
    margin-bottom: 2rem;
}

/* Paso de guía mejorado */
.numero-paso {
    width: 36px;
    height: 36px;
    min-width: 36px;
    background: linear-gradient(135deg, #7c3aed, #a855f7);
    color: white;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: 700;
    font-size: 1em;
    line-height: 1;
    flex-shrink: 0;
}

.contenido-paso {
    flex: 1;
}

.contenido-paso .titulo-paso {
    font-weight: 600;
    color: var(--color-primario);
    margin-bottom: 0.25rem;
}

body.modo-noche .contenido-paso .titulo-paso {
    color: #a78bfa;
}

/* Lista limpia */
.lista-clean {
    list-style: none;
    padding-left: 0;
}

.lista-clean li {
    padding: 0.5rem 0;
    border-bottom: 1px solid var(--color-borde);
}

.lista-clean li:last-child {
    border-bottom: none;
}

/* Tipos grid */
.tipos-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 1.5rem;
    margin: 2rem 0;
}

.tipo-item {
    background: white;
    padding: 1.25rem;
    border-radius: 10px;
    border: 2px solid var(--color-borde);
    transition: all 0.3s ease;
}

.tipo-item:hover {
    border-color: var(--color-primario);
    transform: translateY(-3px);
    box-shadow: 0 4px 12px rgba(124, 58, 237, 0.15);
}

.tipo-item h4 {
    color: var(--color-primario);
    margin: 0 0 0.75rem 0;
}

body.modo-noche .tipo-item {
    background: #1e293b;
}

/* Ejemplo box */
.ejemplo-box {
    background: rgba(14, 165, 233, 0.08);
    padding: 1rem;
    border-radius: 8px;
    border-left: 4px solid var(--color-acento);
    margin: 1rem 0;
}

.ejemplo-mini {
    font-size: 0.9em;
    color: var(--color-texto-claro);
    margin-top: 0.5rem;
}

/* Componentes grid */
.componentes-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 1rem;
    margin: 1.5rem 0;
}

.componente-item {
    background: white;
    padding: 1.25rem;
    border-radius: 10px;
    border: 2px solid var(--color-borde);
    text-align: center;
}

.componente-item h4 {
    color: var(--color-primario);
    margin: 0 0 0.75rem 0;
    font-size: 1.1em;
}

body.modo-noche .componente-item {
    background: #1e293b;
}

/* Ley de Ashby destacada */
.ley-ashby {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white !important;
    padding: 2rem;
    border-radius: 12px;
    margin: 2rem 0;
    text-align: center;
}

.ley-ashby * {
    color: white !important;
}

.titulo-ley h4 {
    font-size: 1.5em;
    margin: 0 0 1rem 0;
}

/* Estrategias box */
.estrategias-box {
    background: rgba(16, 185, 129, 0.08);
    padding: 1.25rem;
    border-radius: 10px;
    border-left: 4px solid var(--color-exito);
    margin: 1rem 0;
}

/* Ciclo de control */
.ciclo-control {
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 0.5rem;
    margin: 2rem 0;
    padding: 1.5rem;
    background: white;
    border-radius: 12px;
    border: 2px solid var(--color-borde);
    flex-wrap: wrap;
}

.paso-ciclo {
    flex: 1;
    min-width: 150px;
    text-align: center;
    padding: 1rem;
    background: rgba(124, 58, 237, 0.05);
    border-radius: 8px;
}

/* numero-paso para ciclo de control - usa clase específica */
.ciclo-control .numero-paso-ciclo {
    display: inline-block;
    width: 30px;
    height: 30px;
    line-height: 30px;
    background: var(--color-primario);
    color: white;
    border-radius: 50%;
    font-weight: bold;
    margin-bottom: 0.5rem;
}

.flecha-ciclo {
    font-size: 1.5em;
    color: var(--color-primario);
    font-weight: bold;
}

body.modo-noche .ciclo-control {
    background: #1e293b;
}

/* Tabla de órdenes */
.tabla-ordenes,
.tabla-niveles {
    width: 100%;
    border-collapse: collapse;
    margin: 1.5rem 0;
    background: white;
    border-radius: 8px;
    overflow: hidden;
}

.tabla-ordenes thead,
.tabla-niveles thead {
    background: linear-gradient(135deg, var(--color-primario), var(--color-acento));
    color: white;
}

.tabla-ordenes th,
.tabla-niveles th {
    padding: 1rem;
    text-align: left;
    font-weight: 600;
    color: white !important;
}

.tabla-ordenes td,
.tabla-niveles td {
    padding: 1rem;
    border: 1px solid var(--color-borde);
}

body.modo-noche .tabla-ordenes,
body.modo-noche .tabla-niveles {
    background: #1e293b;
}

/* Alerta box */
.alerta-box {
    background: rgba(245, 158, 11, 0.1);
    padding: 1rem;
    border-radius: 8px;
    border-left: 4px solid var(--color-advertencia);
    margin: 1rem 0;
}

/* Estrategias grid */
.estrategias-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 1.5rem;
    margin: 2rem 0;
}

.estrategia-item {
    background: white;
    padding: 1.5rem;
    border-radius: 10px;
    border: 2px solid var(--color-borde);
}

.estrategia-item h4 {
    color: var(--color-primario);
    margin: 0 0 0.75rem 0;
}

body.modo-noche .estrategia-item {
    background: #1e293b;
}

/* Fases SDLC */
.fases-sdlc {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
    gap: 1.25rem;
    margin: 2rem 0;
}

.fase-item {
    background: white;
    padding: 1.25rem;
    border-radius: 10px;
    border: 2px solid var(--color-borde);
    text-align: center;
    transition: all 0.3s ease;
}

.fase-item:hover {
    border-color: var(--color-primario);
    transform: scale(1.05);
}

.numero-fase {
    display: inline-block;
    width: 35px;
    height: 35px;
    line-height: 35px;
    background: var(--color-primario);
    color: white;
    border-radius: 50%;
    font-weight: bold;
    margin-bottom: 0.75rem;
}

.fase-item h4 {
    color: var(--color-primario);
    margin: 0.5rem 0;
    font-size: 1em;
}

body.modo-noche .fase-item {
    background: #1e293b;
}

/* Modelo box */
.modelo-box {
    background: white;
    padding: 1.5rem;
    border-radius: 10px;
    border: 2px solid var(--color-borde);
    margin: 1.5rem 0;
}

.modelo-box h4 {
    color: var(--color-primario);
    margin: 0 0 1rem 0;
}

body.modo-noche .modelo-box {
    background: #1e293b;
}

/* Pros y contras */
.pros-contras {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 1rem;
    margin-top: 1rem;
}

.pros {
    background: rgba(16, 185, 129, 0.08);
    padding: 1rem;
    border-radius: 8px;
}

.contras {
    background: rgba(239, 68, 68, 0.08);
    padding: 1rem;
    border-radius: 8px;
}

/* Agile box */
.agile-box {
    background: rgba(124, 58, 237, 0.08);
    padding: 1.5rem;
    border-radius: 12px;
    border: 2px solid rgba(124, 58, 237, 0.2);
    margin: 1.5rem 0;
}

.lista-agile {
    list-style: none;
    padding-left: 0;
}

.lista-agile li {
    padding: 0.75rem;
    background: white;
    margin: 0.5rem 0;
    border-radius: 6px;
    border-left: 4px solid var(--color-primario);
}

body.modo-noche .lista-agile li {
    background: #1e293b;
}

/* Metodologías grid */
.metodologias-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 1.5rem;
    margin: 1.5rem 0;
}

.metodologia-item {
    background: white;
    padding: 1.25rem;
    border-radius: 10px;
    border: 2px solid var(--color-borde);
    text-align: center;
}

.metodologia-item h4 {
    color: var(--color-primario);
    margin: 0 0 0.5rem 0;
}

body.modo-noche .metodologia-item {
    background: #1e293b;
}

/* Conclusion box */
.conclusion-box {
    background: linear-gradient(135deg, rgba(16, 185, 129, 0.08), rgba(5, 150, 105, 0.08));
    padding: 1.5rem;
    border-radius: 12px;
    border: 2px solid var(--color-exito);
    margin: 2rem 0;
}

.conclusion-box h4 {
    color: var(--color-exito);
    margin: 0 0 1rem 0;
}

body.modo-noche .conclusion-box {
    background: linear-gradient(135deg, rgba(16, 185, 129, 0.15), rgba(5, 150, 105, 0.15));
    border-color: #34d399;
}

/* Disciplinas grid */
.disciplinas-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
    gap: 1.5rem;
    margin: 2rem 0;
}

.disciplina-item {
    background: white;
    padding: 1.5rem;
    border-radius: 12px;
    border: 2px solid var(--color-borde);
    text-align: center;
    transition: all 0.3s ease;
}

.disciplina-item:hover {
    border-color: var(--color-primario);
    transform: translateY(-5px);
    box-shadow: 0 6px 16px rgba(124, 58, 237, 0.2);
}

.icono-disciplina {
    font-size: 2.5em;
    margin-bottom: 0.75rem;
}

.disciplina-item h4 {
    color: var(--color-primario);
    margin: 0 0 0.75rem 0;
}

body.modo-noche .disciplina-item {
    background: #1e293b;
}

/* Leyes lista */
.leyes-lista {
    display: flex;
    flex-direction: column;
    gap: 1.25rem;
    margin: 2rem 0;
}

.ley-item {
    background: white;
    padding: 1.25rem;
    border-radius: 10px;
    border-left: 5px solid var(--color-primario);
    box-shadow: 0 2px 8px var(--color-sombra);
}

.ley-item h4 {
    color: var(--color-primario);
    margin: 0 0 0.75rem 0;
}

body.modo-noche .ley-item {
    background: #1e293b;
}

/* Arquetipos */
.arquetipo-box {
    background: white;
    padding: 1.75rem;
    border-radius: 12px;
    margin: 1.75rem 0;
    border-left: 6px solid;
    box-shadow: 0 4px 12px var(--color-sombra);
}

.arquetipo-crecimiento {
    border-left-color: #4caf50;
    background: rgba(76, 175, 80, 0.05);
}

.arquetipo-carga {
    border-left-color: #ff9800;
    background: rgba(255, 152, 0, 0.05);
}

.arquetipo-erosion {
    border-left-color: #f44336;
    background: rgba(244, 67, 54, 0.05);
}

.arquetipo-subinversion {
    border-left-color: #2196f3;
    background: rgba(33, 150, 243, 0.05);
}

.arquetipo-box h4 {
    margin: 0 0 1rem 0;
}

body.modo-noche .arquetipo-box {
    background: rgba(124, 58, 237, 0.08);
}

/* Barreras lista */
.barreras-lista {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    gap: 1.25rem;
    margin: 2rem 0;
}

.barrera-item {
    background: rgba(239, 68, 68, 0.08);
    padding: 1.25rem;
    border-radius: 10px;
    border: 2px solid rgba(239, 68, 68, 0.2);
}

.barrera-item h4 {
    color: #dc2626;
    margin: 0 0 0.75rem 0;
}

/* Palanca destacada */
.palanca-destacada {
    background: linear-gradient(135deg, #fbbf24, #f59e0b);
    color: white;
    padding: 1.75rem;
    border-radius: 12px;
    margin: 2rem 0;
    text-align: center;
    font-size: 1.1em;
}

.palanca-destacada p {
    margin: 0.5rem 0;
}

/* Comparación grid */
.comparacion-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 1.5rem;
    margin: 2rem 0;
}

.item-positivo {
    background: rgba(16, 185, 129, 0.08);
    padding: 1.25rem;
    border-radius: 10px;
    border: 2px solid var(--color-exito);
}

.item-negativo {
    background: rgba(239, 68, 68, 0.08);
    padding: 1.25rem;
    border-radius: 10px;
    border: 2px solid #ef4444;
}

.item-positivo h4 {
    color: var(--color-exito);
    margin: 0 0 1rem 0;
}

.item-negativo h4 {
    color: #dc2626;
    margin: 0 0 1rem 0;
}

/* Nota info */
.nota-info {
    background: rgba(14, 165, 233, 0.08);
    padding: 1rem;
    border-radius: 8px;
    border-left: 4px solid var(--color-acento);
    margin-top: 1rem;
}

/* Gestion box */
.gestion-box {
    background: white;
    padding: 1.25rem;
    border-radius: 10px;
    border: 2px solid var(--color-borde);
    margin: 1.5rem 0;
}

body.modo-noche .gestion-box {
    background: #1e293b;
}

/* Responsive para nuevos componentes */
@media (max-width: 768px) {
    .tipos-grid,
    .componentes-grid,
    .estrategias-grid,
    .fases-sdlc,
    .disciplinas-grid,
    .barreras-lista {
        grid-template-columns: 1fr;
    }
    
    .comparacion-grid,
    .pros-contras {
        grid-template-columns: 1fr;
    }
    
    .ciclo-control {
        flex-direction: column;
    }
    
    .flecha-ciclo {
        transform: rotate(90deg);
    }
}

/* Elementos inline con colores - asegurar legibilidad */
.contenido-seccion-secuencial div[style*="background-color: #f0f0f0"],
.contenido-seccion-secuencial div[style*="background-color:#f0f0f0"] {
    background-color: var(--color-fondo) !important;
}

.contenido-seccion-secuencial div[style*="background-color: #f8f9fa"],
.contenido-seccion-secuencial div[style*="background-color:#f8f9fa"] {
    background-color: var(--color-fondo) !important;
}

body.modo-noche .contenido-seccion-secuencial div[style*="background-color: #f8f9fa"],
body.modo-noche .contenido-seccion-secuencial div[style*="background-color:#f8f9fa"],
body.modo-noche .contenido-seccion-secuencial div[style*="background-color: #f0f0f0"],
body.modo-noche .contenido-seccion-secuencial div[style*="background-color:#f0f0f0"] {
    background-color: #1e293b !important;
}

/* Elementos con color de texto inline */
.contenido-seccion-secuencial div[style*="color: #6b46c1"],
.contenido-seccion-secuencial h4[style*="color: #6b46c1"],
.contenido-seccion-secuencial h5[style*="color: #6b46c1"] {
    color: var(--color-primario) !important;
}

body.modo-noche .contenido-seccion-secuencial div[style*="color: #6b46c1"],
body.modo-noche .contenido-seccion-secuencial h4[style*="color: #6b46c1"],
body.modo-noche .contenido-seccion-secuencial h5[style*="color: #6b46c1"] {
    color: #c084fc !important;
}

/* Divs con gradientes oscuros necesitan texto blanco */
.contenido-seccion-secuencial div[style*="#667eea"],
.contenido-seccion-secuencial div[style*="#764ba2"] {
    color: white !important;
}

.contenido-seccion-secuencial div[style*="#667eea"] h3,
.contenido-seccion-secuencial div[style*="#667eea"] h4,
.contenido-seccion-secuencial div[style*="#667eea"] h5,
.contenido-seccion-secuencial div[style*="#667eea"] p,
.contenido-seccion-secuencial div[style*="#764ba2"] h3,
.contenido-seccion-secuencial div[style*="#764ba2"] h4,
.contenido-seccion-secuencial div[style*="#764ba2"] h5,
.contenido-seccion-secuencial div[style*="#764ba2"] p {
    color: white !important;
}

/* Divs con otros gradientes oscuros comunes */
.contenido-seccion-secuencial div[style*="linear-gradient"][style*="#7c3aed"],
.contenido-seccion-secuencial div[style*="linear-gradient"][style*="#0ea5e9"] {
    color: white !important;
}

.contenido-seccion-secuencial div[style*="linear-gradient"][style*="#7c3aed"] *,
.contenido-seccion-secuencial div[style*="linear-gradient"][style*="#0ea5e9"] * {
    color: white !important;
}

/* Cajas con colores específicos - adaptarlas al modo nocturno */
.contenido-seccion-secuencial div[style*="background-color: #e8f5e9"] {
    background-color: rgba(16, 185, 129, 0.08) !important;
    border-color: var(--color-exito);
}

body.modo-noche .contenido-seccion-secuencial div[style*="background-color: #e8f5e9"] {
    background-color: rgba(16, 185, 129, 0.15) !important;
}

.contenido-seccion-secuencial div[style*="background-color: #e3f2fd"] {
    background-color: rgba(33, 150, 243, 0.08) !important;
}

body.modo-noche .contenido-seccion-secuencial div[style*="background-color: #e3f2fd"] {
    background-color: rgba(33, 150, 243, 0.15) !important;
}

.contenido-seccion-secuencial div[style*="background-color: #fff3e0"] {
    background-color: rgba(255, 152, 0, 0.08) !important;
}

body.modo-noche .contenido-seccion-secuencial div[style*="background-color: #fff3e0"] {
    background-color: rgba(255, 152, 0, 0.15) !important;
}

.contenido-seccion-secuencial div[style*="background-color: #ffebee"] {
    background-color: rgba(244, 67, 54, 0.08) !important;
}

body.modo-noche .contenido-seccion-secuencial div[style*="background-color: #ffebee"] {
    background-color: rgba(244, 67, 54, 0.15) !important;
}

.contenido-seccion-secuencial div[style*="background-color: #f3e5f5"] {
    background-color: rgba(156, 39, 176, 0.08) !important;
}

body.modo-noche .contenido-seccion-secuencial div[style*="background-color: #f3e5f5"] {
    background-color: rgba(156, 39, 176, 0.15) !important;
}

.contenido-seccion-secuencial div[style*="background-color: #fff9c4"] {
    background-color: rgba(251, 192, 45, 0.1) !important;
}

body.modo-noche .contenido-seccion-secuencial div[style*="background-color: #fff9c4"] {
    background-color: rgba(251, 192, 45, 0.18) !important;
}

.contenido-seccion-secuencial div[style*="background-color: #fff3cd"] {
    background-color: rgba(255, 193, 7, 0.1) !important;
}

body.modo-noche .contenido-seccion-secuencial div[style*="background-color: #fff3cd"] {
    background-color: rgba(255, 193, 7, 0.18) !important;
}

/* Gradientes con texto blanco deben oscurecerse en modo nocturno */
body.modo-noche .contenido-seccion-secuencial div[style*="linear-gradient(135deg, #667eea 0%, #764ba2 100%)"] {
    background: linear-gradient(135deg, rgba(102, 126, 234, 0.25), rgba(118, 75, 162, 0.25)) !important;
    border-color: rgba(167, 139, 250, 0.35) !important;
    color: var(--color-texto) !important;
}

body.modo-noche .contenido-seccion-secuencial div[style*="linear-gradient(135deg, #667eea 0%, #764ba2 100%)"] h3,
body.modo-noche .contenido-seccion-secuencial div[style*="linear-gradient(135deg, #667eea 0%, #764ba2 100%)"] h4,
body.modo-noche .contenido-seccion-secuencial div[style*="linear-gradient(135deg, #667eea 0%, #764ba2 100%)"] h5,
body.modo-noche .contenido-seccion-secuencial div[style*="linear-gradient(135deg, #667eea 0%, #764ba2 100%)"] p,
body.modo-noche .contenido-seccion-secuencial div[style*="linear-gradient(135deg, #667eea 0%, #764ba2 100%)"] span,
body.modo-noche .contenido-seccion-secuencial div[style*="linear-gradient(135deg, #667eea 0%, #764ba2 100%)"] strong,
body.modo-noche .contenido-seccion-secuencial div[style*="linear-gradient(135deg, #667eea 0%, #764ba2 100%)"] li,
body.modo-noche .contenido-seccion-secuencial div[style*="linear-gradient(135deg, #667eea 0%, #764ba2 100%)"] ul {
    color: var(--color-texto) !important;
}

/* Colores de texto específicos - hacer más legibles */
.contenido-seccion-secuencial div[style*="color: #666"] {
    color: var(--color-texto-claro) !important;
}

.contenido-seccion-secuencial div[style*="color: white"],
.contenido-seccion-secuencial p[style*="color: white"],
.contenido-seccion-secuencial h4[style*="color: white"],
.contenido-seccion-secuencial h5[style*="color: white"],
.contenido-seccion-secuencial ul[style*="color: white"] {
    color: var(--color-texto) !important;
}

/* Headings con colores inline específicos */
.contenido-seccion-secuencial h4[style*="color: #1976d2"],
.contenido-seccion-secuencial h5[style*="color: #1976d2"] {
    color: #2196f3 !important;
}

body.modo-noche .contenido-seccion-secuencial h4[style*="color: #1976d2"],
body.modo-noche .contenido-seccion-secuencial h5[style*="color: #1976d2"] {
    color: #64b5f6 !important;
}

.contenido-seccion-secuencial h4[style*="color: #2e7d32"],
.contenido-seccion-secuencial h5[style*="color: #2e7d32"] {
    color: #4caf50 !important;
}

body.modo-noche .contenido-seccion-secuencial h4[style*="color: #2e7d32"],
body.modo-noche .contenido-seccion-secuencial h5[style*="color: #2e7d32"] {
    color: #66bb6a !important;
}

.contenido-seccion-secuencial h4[style*="color: #f57c00"],
.contenido-seccion-secuencial h5[style*="color: #f57c00"] {
    color: #ff9800 !important;
}

body.modo-noche .contenido-seccion-secuencial h4[style*="color: #f57c00"],
body.modo-noche .contenido-seccion-secuencial h5[style*="color: #f57c00"] {
    color: #ffa726 !important;
}

.contenido-seccion-secuencial h4[style*="color: #d32f2f"],
.contenido-seccion-secuencial h5[style*="color: #d32f2f"] {
    color: #f44336 !important;
}

body.modo-noche .contenido-seccion-secuencial h4[style*="color: #d32f2f"],
body.modo-noche .contenido-seccion-secuencial h5[style*="color: #d32f2f"] {
    color: #ef5350 !important;
}

.contenido-seccion-secuencial h4[style*="color: #7b1fa2"],
.contenido-seccion-secuencial h5[style*="color: #7b1fa2"] {
    color: #9c27b0 !important;
}

body.modo-noche .contenido-seccion-secuencial h4[style*="color: #7b1fa2"],
body.modo-noche .contenido-seccion-secuencial h5[style*="color: #7b1fa2"] {
    color: #ba68c8 !important;
}

.contenido-seccion-secuencial h4[style*="color: #f57f17"] {
    color: #fbc02d !important;
}

body.modo-noche .contenido-seccion-secuencial h4[style*="color: #f57f17"] {
    color: #fdd835 !important;
}

/* Backgrounds con colores inline - adaptarlos */
.contenido-seccion-secuencial div[style*="background-color: white"] {
    background-color: white !important;
}

body.modo-noche .contenido-seccion-secuencial div[style*="background-color: white"] {
    background-color: #1e293b !important;
}

/* Bordes con colores específicos */
.contenido-seccion-secuencial div[style*="border-left: 4px solid #4caf50"] {
    border-left-color: var(--color-exito) !important;
}

.contenido-seccion-secuencial div[style*="border-left: 4px solid #2196f3"] {
    border-left-color: #2196f3 !important;
}

body.modo-noche .contenido-seccion-secuencial div[style*="border-left: 4px solid #2196f3"] {
    border-left-color: #64b5f6 !important;
}

.contenido-seccion-secuencial div[style*="border-left: 4px solid #ff9800"] {
    border-left-color: #ff9800 !important;
}

body.modo-noche .contenido-seccion-secuencial div[style*="border-left: 4px solid #ff9800"] {
    border-left-color: #ffa726 !important;
}

.contenido-seccion-secuencial div[style*="border-left: 4px solid #9c27b0"] {
    border-left-color: #9c27b0 !important;
}

body.modo-noche .contenido-seccion-secuencial div[style*="border-left: 4px solid #9c27b0"] {
    border-left-color: #ba68c8 !important;
}

.contenido-seccion-secuencial div[style*="border-left: 4px solid #ffc107"] {
    border-left-color: #ffc107 !important;
}

body.modo-noche .contenido-seccion-secuencial div[style*="border-left: 4px solid #ffc107"] {
    border-left-color: #ffd54f !important;
}

/* Grids de comparación */
.contenido-seccion-secuencial div[style*="display: grid"] {
    margin: 1.5rem 0;
}

/* Textos en general dentro del contenido */
.contenido-seccion-secuencial p {
    color: var(--color-texto);
    line-height: 1.8;
}

.contenido-seccion-secuencial ul,
.contenido-seccion-secuencial ol {
    color: var(--color-texto);
}

.contenido-seccion-secuencial li {
    color: var(--color-texto);
    margin: 0.5rem 0;
}

.contenido-seccion-secuencial strong {
    color: var(--color-primario);
    font-weight: 600;
}

body.modo-noche .contenido-seccion-secuencial strong {
    color: #c084fc;
}

.contenido-seccion-secuencial em {
    color: var(--color-texto-claro);
}

/* H4 y H5 generales */
.contenido-seccion-secuencial h4 {
    color: var(--color-primario);
    margin: 1.5rem 0 1rem 0;
    font-size: 1.25rem;
    font-weight: 600;
}

.contenido-seccion-secuencial h5 {
    color: var(--color-texto);
    margin: 1.25rem 0 0.75rem 0;
    font-size: 1.1rem;
    font-weight: 600;
}

body.modo-noche .contenido-seccion-secuencial h4 {
    color: #c084fc;
}

body.modo-noche .contenido-seccion-secuencial h5 {
    color: #e9d5ff;
}

/* Bordes de elementos */
.contenido-seccion-secuencial div[style*="border: 1px solid #ddd"] {
    border-color: var(--color-borde) !important;
}

body.modo-noche .contenido-seccion-secuencial div[style*="border: 1px solid #ddd"] {
    border-color: #475569 !important;
}

.contenido-seccion-secuencial div[style*="border: 2px solid"] {
    border-color: var(--color-borde);
}

/* Shadow boxes - cajas con colores y gradientes */
.contenido-seccion-secuencial div[style*="box-shadow: 0 2px 4px rgba(0,0,0,0.1)"] {
    box-shadow: 0 2px 4px var(--color-sombra) !important;
}

/* Asegurar que los textos en cajas con backgrounds de colores sean legibles */
.contenido-seccion-secuencial div[style*="background: linear-gradient"][style*="color: white"] p,
.contenido-seccion-secuencial div[style*="background: linear-gradient"][style*="color: white"] ul,
.contenido-seccion-secuencial div[style*="background: linear-gradient"][style*="color: white"] li,
.contenido-seccion-secuencial div[style*="background: linear-gradient"][style*="color: white"] h4,
.contenido-seccion-secuencial div[style*="background: linear-gradient"][style*="color: white"] h5 {
    color: inherit;
}

/* Padding y margin generales para divs de contenido */
.contenido-seccion-secuencial > div {
    margin: 1rem 0;
}

/* Colores de fondo verde - éxito */
.contenido-seccion-secuencial div[style*="background-color: #e8f5e9"][style*="padding"] {
    background-color: rgba(16, 185, 129, 0.1) !important;
    border-radius: 8px;
}

body.modo-noche .contenido-seccion-secuencial div[style*="background-color: #e8f5e9"][style*="padding"] {
    background-color: rgba(16, 185, 129, 0.18) !important;
}

/* Colores de fondo azul - info */
.contenido-seccion-secuencial div[style*="background-color: #e3f2fd"][style*="padding"] {
    background-color: rgba(33, 150, 243, 0.1) !important;
}

body.modo-noche .contenido-seccion-secuencial div[style*="background-color: #e3f2fd"][style*="padding"] {
    background-color: rgba(33, 150, 243, 0.18) !important;
}

/* Colores de fondo naranja - warning */
.contenido-seccion-secuencial div[style*="background-color: #fff3e0"][style*="padding"] {
    background-color: rgba(255, 152, 0, 0.1) !important;
}

body.modo-noche .contenido-seccion-secuencial div[style*="background-color: #fff3e0"][style*="padding"] {
    background-color: rgba(255, 152, 0, 0.18) !important;
}

/* Colores de fondo rojo - peligro */
.contenido-seccion-secuencial div[style*="background-color: #ffebee"][style*="padding"] {
    background-color: rgba(244, 67, 54, 0.1) !important;
}

body.modo-noche .contenido-seccion-secuencial div[style*="background-color: #ffebee"][style*="padding"] {
    background-color: rgba(244, 67, 54, 0.18) !important;
}

/* Colores de fondo morado */
.contenido-seccion-secuencial div[style*="background-color: #f3e5f5"][style*="padding"] {
    background-color: rgba(156, 39, 176, 0.1) !important;
}

body.modo-noche .contenido-seccion-secuencial div[style*="background-color: #f3e5f5"][style*="padding"] {
    background-color: rgba(156, 39, 176, 0.18) !important;
}

/* Colores de fondo amarillo */
.contenido-seccion-secuencial div[style*="background-color: #fff9c4"][style*="padding"],
.contenido-seccion-secuencial div[style*="background-color: #fff3cd"][style*="padding"] {
    background-color: rgba(255, 193, 7, 0.12) !important;
}

body.modo-noche .contenido-seccion-secuencial div[style*="background-color: #fff9c4"][style*="padding"],
body.modo-noche .contenido-seccion-secuencial div[style*="background-color: #fff3cd"][style*="padding"] {
    background-color: rgba(255, 193, 7, 0.2) !important;
}

/* Cajas con gradiente - modo nocturno */
body.modo-noche .contenido-seccion-secuencial div[style*="background: linear-gradient"][style*="#667eea"] {
    opacity: 1;
}

/* Mejorar colores de borders específicos */
.contenido-seccion-secuencial div[style*="border: 2px solid #f44336"] {
    border-color: #f44336 !important;
}

body.modo-noche .contenido-seccion-secuencial div[style*="border: 2px solid #f44336"] {
    border-color: #ef5350 !important;
}

.contenido-seccion-secuencial div[style*="border: 2px solid #4caf50"] {
    border-color: #4caf50 !important;
}

body.modo-noche .contenido-seccion-secuencial div[style*="border: 2px solid #4caf50"] {
    border-color: #66bb6a !important;
}

.contenido-seccion-secuencial div[style*="border: 2px solid #2196f3"] {
    border-color: #2196f3 !important;
}

body.modo-noche .contenido-seccion-secuencial div[style*="border: 2px solid #2196f3"] {
    border-color: #64b5f6 !important;
}

/* Asegurar que los textos de color específico sean legibles */
.contenido-seccion-secuencial [style*="color: #d32f2f"] {
    color: #f44336 !important;
}

body.modo-noche .contenido-seccion-secuencial [style*="color: #d32f2f"] {
    color: #ef5350 !important;
}

.contenido-seccion-secuencial [style*="color: #2e7d32"] {
    color: #4caf50 !important;
}

body.modo-noche .contenido-seccion-secuencial [style*="color: #2e7d32"] {
    color: #66bb6a !important;
}

.contenido-seccion-secuencial [style*="color: #1976d2"] {
    color: #2196f3 !important;
}

body.modo-noche .contenido-seccion-secuencial [style*="color: #1976d2"] {
    color: #64b5f6 !important;
}

.contenido-seccion-secuencial [style*="color: #f57c00"] {
    color: #ff9800 !important;
}

body.modo-noche .contenido-seccion-secuencial [style*="color: #f57c00"] {
    color: #ffa726 !important;
}

.contenido-seccion-secuencial [style*="color: #7b1fa2"] {
    color: #9c27b0 !important;
}

body.modo-noche .contenido-seccion-secuencial [style*="color: #7b1fa2"] {
    color: #ba68c8 !important;
}

.contenido-seccion-secuencial [style*="color: #f57f17"] {
    color: #fbc02d !important;
}

body.modo-noche .contenido-seccion-secuencial [style*="color: #f57f17"] {
    color: #fdd835 !important;
}

/* Bordes con colores - 6px de ancho */
.contenido-seccion-secuencial div[style*="border-left: 6px solid #4caf50"] {
    border-left-color: var(--color-exito) !important;
}

.contenido-seccion-secuencial div[style*="border-left: 6px solid #ff9800"] {
    border-left-color: #ff9800 !important;
}

body.modo-noche .contenido-seccion-secuencial div[style*="border-left: 6px solid #ff9800"] {
    border-left-color: #ffa726 !important;
}

.contenido-seccion-secuencial div[style*="border-left: 6px solid #f44336"] {
    border-left-color: #f44336 !important;
}

body.modo-noche .contenido-seccion-secuencial div[style*="border-left: 6px solid #f44336"] {
    border-left-color: #ef5350 !important;
}

.contenido-seccion-secuencial div[style*="border-left: 6px solid #2196f3"] {
    border-left-color: #2196f3 !important;
}

body.modo-noche .contenido-seccion-secuencial div[style*="border-left: 6px solid #2196f3"] {
    border-left-color: #64b5f6 !important;
}

.contenido-seccion-secuencial div[style*="border-left: 6px solid #9c27b0"] {
    border-left-color: #9c27b0 !important;
}

body.modo-noche .contenido-seccion-secuencial div[style*="border-left: 6px solid #9c27b0"] {
    border-left-color: #ba68c8 !important;
}

.contenido-seccion-secuencial div[style*="border-left: 6px solid #fbc02d"] {
    border-left-color: #fbc02d !important;
}

body.modo-noche .contenido-seccion-secuencial div[style*="border-left: 6px solid #fbc02d"] {
    border-left-color: #fdd835 !important;
}

/* Backgrounds específicos de arquetipos */
.contenido-seccion-secuencial div[style*="background-color: #4caf50"][style*="color: white"] {
    background-color: #4caf50 !important;
}

body.modo-noche .contenido-seccion-secuencial div[style*="background-color: #4caf50"][style*="color: white"] {
    background-color: #43a047 !important;
}

.contenido-seccion-secuencial div[style*="background-color: #ff9800"][style*="color: white"] {
    background-color: #ff9800 !important;
}

body.modo-noche .contenido-seccion-secuencial div[style*="background-color: #ff9800"][style*="color: white"] {
    background-color: #fb8c00 !important;
}

.contenido-seccion-secuencial div[style*="background-color: #f44336"][style*="color: white"] {
    background-color: #f44336 !important;
}

body.modo-noche .contenido-seccion-secuencial div[style*="background-color: #f44336"][style*="color: white"] {
    background-color: #e53935 !important;
}

.contenido-seccion-secuencial div[style*="background-color: #2196f3"][style*="color: white"] {
    background-color: #2196f3 !important;
}

body.modo-noche .contenido-seccion-secuencial div[style*="background-color: #2196f3"][style*="color: white"] {
    background-color: #1e88e5 !important;
}

.contenido-seccion-secuencial div[style*="background-color: #9c27b0"][style*="color: white"] {
    background-color: #9c27b0 !important;
}

body.modo-noche .contenido-seccion-secuencial div[style*="background-color: #9c27b0"][style*="color: white"] {
    background-color: #8e24aa !important;
}

.contenido-seccion-secuencial div[style*="background-color: #fbc02d"][style*="color: white"] {
    background-color: #fbc02d !important;
    color: #333 !important;
}

body.modo-noche .contenido-seccion-secuencial div[style*="background-color: #fbc02d"][style*="color: white"] {
    background-color: #f9a825 !important;
    color: #000 !important;
}

/* Asegurar que las listas dentro de divs con texto blanco sean blancas */
.contenido-seccion-secuencial div[style*="color: white"] ul,
.contenido-seccion-secuencial div[style*="color: white"] ol,
.contenido-seccion-secuencial div[style*="color: white"] li,
.contenido-seccion-secuencial div[style*="color: white"] p {
    color: white !important;
}

/* Pero si el fondo es amarillo claro, el texto debe ser oscuro */
body.modo-noche .contenido-seccion-secuencial div[style*="background-color: #fbc02d"][style*="color: white"] ul,
body.modo-noche .contenido-seccion-secuencial div[style*="background-color: #fbc02d"][style*="color: white"] ol,
body.modo-noche .contenido-seccion-secuencial div[style*="background-color: #fbc02d"][style*="color: white"] li,
body.modo-noche .contenido-seccion-secuencial div[style*="background-color: #fbc02d"][style*="color: white"] p {
    color: #000 !important;
}

/* Grid de comparación de paradigmas */
.contenido-seccion-secuencial div[style*="display: grid"][style*="grid-template-columns: 1fr 1fr"] div {
    border-radius: 8px;
}

/* Asegurar legibilidad de textos en cajas de colores */
.contenido-seccion-secuencial div[style*="border-radius: 8px"][style*="padding: 15px"] {
    transition: var(--transicion);
}

.contenido-seccion-secuencial div[style*="border-radius: 12px"][style*="padding: 20px"] {
    transition: var(--transicion);
}

/* Mejorar contraste de borders en cajas */
.contenido-seccion-secuencial div[style*="border: 2px solid"][style*="border-radius"] {
    border-width: 2px;
    border-style: solid;
}

/* Arquetipos con backgrounds semi-transparentes */
.contenido-seccion-secuencial .arquetipo-box[style*="background-color: rgba(76, 175, 80"],
.contenido-seccion-secuencial .arquetipo-box[style*="background-color: rgba(255, 152, 0"],
.contenido-seccion-secuencial .arquetipo-box[style*="background-color: rgba(244, 67, 54"],
.contenido-seccion-secuencial .arquetipo-box[style*="background-color: rgba(33, 150, 243"],
.contenido-seccion-secuencial .arquetipo-box[style*="background-color: rgba(156, 39, 176"],
.contenido-seccion-secuencial .arquetipo-box[style*="background-color: rgba(251, 192, 45"] {
    transition: var(--transicion);
}

body.modo-noche .contenido-seccion-secuencial .arquetipo-box[style*="background-color: rgba(76, 175, 80"] {
    background-color: rgba(76, 175, 80, 0.15) !important;
}

body.modo-noche .contenido-seccion-secuencial .arquetipo-box[style*="background-color: rgba(255, 152, 0"] {
    background-color: rgba(255, 152, 0, 0.15) !important;
}

body.modo-noche .contenido-seccion-secuencial .arquetipo-box[style*="background-color: rgba(244, 67, 54"] {
    background-color: rgba(244, 67, 54, 0.15) !important;
}

body.modo-noche .contenido-seccion-secuencial .arquetipo-box[style*="background-color: rgba(33, 150, 243"] {
    background-color: rgba(33, 150, 243, 0.15) !important;
}

body.modo-noche .contenido-seccion-secuencial .arquetipo-box[style*="background-color: rgba(156, 39, 176"] {
    background-color: rgba(156, 39, 176, 0.15) !important;
}

body.modo-noche .contenido-seccion-secuencial .arquetipo-box[style*="background-color: rgba(251, 192, 45"] {
    background-color: rgba(251, 192, 45, 0.15) !important;
}

/* Cajas de lección y estrategia dentro de arquetipos */
.contenido-seccion-secuencial .arquetipo-box div[style*="border: 2px solid"] {
    transition: var(--transicion);
}

body.modo-noche .contenido-seccion-secuencial .arquetipo-box div[style*="background-color: rgba(76, 175, 80, 0.12)"] {
    background-color: rgba(76, 175, 80, 0.18) !important;
}

body.modo-noche .contenido-seccion-secuencial .arquetipo-box div[style*="background-color: rgba(255, 152, 0, 0.12)"] {
    background-color: rgba(255, 152, 0, 0.18) !important;
}

body.modo-noche .contenido-seccion-secuencial .arquetipo-box div[style*="background-color: rgba(244, 67, 54, 0.12)"] {
    background-color: rgba(244, 67, 54, 0.18) !important;
}

body.modo-noche .contenido-seccion-secuencial .arquetipo-box div[style*="background-color: rgba(33, 150, 243, 0.12)"] {
    background-color: rgba(33, 150, 243, 0.18) !important;
}

body.modo-noche .contenido-seccion-secuencial .arquetipo-box div[style*="background-color: rgba(156, 39, 176, 0.12)"] {
    background-color: rgba(156, 39, 176, 0.18) !important;
}

body.modo-noche .contenido-seccion-secuencial .arquetipo-box div[style*="background-color: rgba(251, 192, 45, 0.12)"] {
    background-color: rgba(251, 192, 45, 0.18) !important;
}

/* Borders de arquetipos en modo nocturno */
body.modo-noche .contenido-seccion-secuencial .arquetipo-box[style*="border: 2px solid rgba(76, 175, 80"] {
    border-color: rgba(76, 175, 80, 0.5) !important;
}

body.modo-noche .contenido-seccion-secuencial .arquetipo-box[style*="border: 2px solid rgba(255, 152, 0"] {
    border-color: rgba(255, 152, 0, 0.5) !important;
}

body.modo-noche .contenido-seccion-secuencial .arquetipo-box[style*="border: 2px solid rgba(244, 67, 54"] {
    border-color: rgba(244, 67, 54, 0.5) !important;
}

body.modo-noche .contenido-seccion-secuencial .arquetipo-box[style*="border: 2px solid rgba(33, 150, 243"] {
    border-color: rgba(33, 150, 243, 0.5) !important;
}

body.modo-noche .contenido-seccion-secuencial .arquetipo-box[style*="border: 2px solid rgba(156, 39, 176"] {
    border-color: rgba(156, 39, 176, 0.5) !important;
}

body.modo-noche .contenido-seccion-secuencial .arquetipo-box[style*="border: 2px solid rgba(251, 192, 45"] {
    border-color: rgba(251, 192, 45, 0.5) !important;
}

/* Asegurar que backgrounds rgba con baja opacidad usen bien el modo nocturno */
body.modo-noche .contenido-seccion-secuencial div[style*="background-color: rgba(14, 165, 233, 0.08)"] {
    background-color: rgba(14, 165, 233, 0.15) !important;
}

body.modo-noche .contenido-seccion-secuencial div[style*="background-color: rgba(124, 58, 237, 0.06)"] {
    background-color: rgba(124, 58, 237, 0.12) !important;
}

/* Borders dentro de cajas en modo nocturno */
body.modo-noche .contenido-seccion-secuencial div[style*="border: 2px solid #4caf50"] {
    border-color: #66bb6a !important;
}

body.modo-noche .contenido-seccion-secuencial div[style*="border: 2px solid #ff9800"] {
    border-color: #ffa726 !important;
}

body.modo-noche .contenido-seccion-secuencial div[style*="border: 2px solid #f44336"] {
    border-color: #ef5350 !important;
}

body.modo-noche .contenido-seccion-secuencial div[style*="border: 2px solid #2196f3"] {
    border-color: #64b5f6 !important;
}

body.modo-noche .contenido-seccion-secuencial div[style*="border: 2px solid #9c27b0"] {
    border-color: #ba68c8 !important;
}

body.modo-noche .contenido-seccion-secuencial div[style*="border: 2px solid #fbc02d"] {
    border-color: #fdd835 !important;
}

/* Border-left de 4px en modo nocturno */
body.modo-noche .contenido-seccion-secuencial div[style*="border-left: 4px solid #0ea5e9"] {
    border-left-color: #38bdf8 !important;
}

/* Responsive para taxonomía grid */
@media (max-width: 768px) {
    .taxonomia-grid {
        grid-template-columns: 1fr;
    }
    
    .contenido-seccion-secuencial div[style*="display: grid"][style*="grid-template-columns"] {
        grid-template-columns: 1fr !important;
    }
    
    /* Hacer scrollable las tablas en móvil */
    .contenido-seccion-secuencial table {
        display: block;
        overflow-x: auto;
        white-space: nowrap;
    }
}

/* ===== ESCAPE ROOM - EVALUACIÓN GAMIFICADA ===== */

.escape-room-container {
    max-width: 800px;
    margin: 0 auto;
    text-align: center;
}

/* Intro del Escape Room */
.escape-room-intro {
    text-align: center;
    padding: 2rem;
}

.escape-header {
    margin-bottom: 1.5rem;
}

.escape-icono {
    font-size: 4rem;
    margin-bottom: 1rem;
    animation: float 3s ease-in-out infinite;
}

.escape-titulo {
    font-size: 1.75rem;
    color: var(--color-primario);
    margin: 0;
    background: linear-gradient(135deg, var(--color-primario), #4f46e5);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
}

.escape-descripcion {
    font-size: 1.1rem;
    color: var(--color-texto);
    max-width: 600px;
    margin: 1rem auto;
    line-height: 1.6;
}

.escape-info-grid {
    display: flex;
    justify-content: center;
    gap: 2rem;
    margin: 2rem 0;
}

.escape-info-item {
    display: flex;
    flex-direction: column;
    align-items: center;
    padding: 1rem 1.5rem;
    background: var(--color-primario-claro);
    border-radius: 12px;
    min-width: 100px;
}

.info-numero {
    font-size: 2rem;
    font-weight: 700;
    color: var(--color-primario);
}

.info-label {
    font-size: 0.85rem;
    color: var(--color-texto-claro);
    margin-top: 0.25rem;
}

.escape-habitaciones-preview {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: 0.75rem;
    margin: 2rem 0;
}

.habitacion-preview {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.5rem 1rem;
    background: white;
    border: 2px solid #e5e7eb;
    border-radius: 20px;
    font-size: 0.9rem;
}

.habitacion-numero {
    width: 24px;
    height: 24px;
    display: flex;
    align-items: center;
    justify-content: center;
    background: var(--color-primario);
    color: white;
    border-radius: 50%;
    font-size: 0.8rem;
    font-weight: 600;
}

.boton-iniciar-escape {
    padding: 1rem 2.5rem;
    font-size: 1.1rem;
    font-weight: 600;
    color: white;
    background: linear-gradient(135deg, var(--color-primario), #4f46e5);
    border: none;
    border-radius: 12px;
    cursor: pointer;
    transition: all 0.3s ease;
    margin-top: 1rem;
}

.boton-iniciar-escape:hover {
    transform: translateY(-3px);
    box-shadow: 0 8px 25px rgba(124, 58, 237, 0.4);
}

/* Juego del Escape Room */
.habitacion-container {
    background: white;
    border-radius: 16px;
    padding: 2rem;
    box-shadow: 0 4px 20px rgba(0,0,0,0.08);
}

.habitacion-header {
    text-align: center;
    margin-bottom: 2rem;
    padding-bottom: 1.5rem;
    border-bottom: 2px solid #e5e7eb;
}

.habitacion-progreso {
    margin-bottom: 1.5rem;
}

.progreso-barra {
    height: 8px;
    background: #e5e7eb;
    border-radius: 4px;
    overflow: hidden;
    margin-bottom: 0.5rem;
}

.progreso-relleno {
    height: 100%;
    background: linear-gradient(90deg, var(--color-primario), #4f46e5);
    border-radius: 4px;
    transition: width 0.5s ease;
}

.progreso-texto {
    font-size: 0.85rem;
    color: var(--color-texto-claro);
}

.habitacion-titulo {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 0.75rem;
    margin-bottom: 0.75rem;
}

.habitacion-icono {
    font-size: 2rem;
}

.habitacion-titulo h3 {
    font-size: 1.5rem;
    color: var(--color-primario);
    margin: 0;
}

.habitacion-descripcion {
    color: var(--color-texto-claro);
    font-size: 1rem;
    margin: 0;
}

/* Preguntas */
.habitacion-preguntas {
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
}

.pregunta-escape {
    display: flex;
    gap: 1rem;
    padding: 1.5rem;
    background: #f8f9fa;
    border-radius: 12px;
    border: 2px solid transparent;
    transition: all 0.3s ease;
}

.pregunta-escape.sin-responder {
    border-color: #f59e0b;
    animation: shake 0.3s ease;
}

.pregunta-escape.pregunta-correcta {
    background: rgba(16, 185, 129, 0.1);
    border-color: var(--color-exito);
}

.pregunta-escape.pregunta-incorrecta {
    background: rgba(239, 68, 68, 0.1);
    border-color: var(--color-error);
}

.pregunta-numero {
    width: 32px;
    height: 32px;
    display: flex;
    align-items: center;
    justify-content: center;
    background: var(--color-primario);
    color: white;
    border-radius: 50%;
    font-weight: 600;
    flex-shrink: 0;
}

.pregunta-contenido {
    flex: 1;
}

.pregunta-texto {
    font-size: 1.05rem;
    font-weight: 500;
    color: var(--color-texto);
    margin: 0 0 1rem 0;
    line-height: 1.5;
}

.opciones-container {
    display: flex;
    flex-direction: column;
    gap: 0.75rem;
}

.opcion-escape {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    padding: 0.875rem 1rem;
    background: white;
    border: 2px solid #e5e7eb;
    border-radius: 10px;
    cursor: pointer;
    transition: all 0.2s ease;
}

.opcion-escape:hover {
    border-color: var(--color-primario);
    background: var(--color-primario-claro);
}

.opcion-escape.seleccionada {
    border-color: var(--color-primario);
    background: var(--color-primario-claro);
}

.opcion-escape.correcta {
    border-color: var(--color-exito) !important;
    background: rgba(16, 185, 129, 0.15) !important;
}

.opcion-escape.incorrecta {
    border-color: var(--color-error) !important;
    background: rgba(239, 68, 68, 0.15) !important;
}

.opcion-escape input {
    display: none;
}

.opcion-texto {
    flex: 1;
    font-size: 0.95rem;
    color: var(--color-texto);
}

.opcion-indicador {
    width: 20px;
    height: 20px;
    border: 2px solid #d1d5db;
    border-radius: 50%;
    flex-shrink: 0;
    transition: all 0.2s ease;
}

.opcion-escape.seleccionada .opcion-indicador {
    border-color: var(--color-primario);
    background: var(--color-primario);
}

.opcion-escape.correcta .opcion-indicador {
    border-color: var(--color-exito);
    background: var(--color-exito);
}

.opcion-escape.correcta .opcion-indicador::after,
.opcion-escape.incorrecta .opcion-indicador::after {
    content: '';
    display: block;
    width: 100%;
    height: 100%;
    background-size: 12px;
    background-position: center;
    background-repeat: no-repeat;
}

.opcion-escape.correcta .opcion-indicador::after {
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='white'%3E%3Cpath d='M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z'/%3E%3C/svg%3E");
}

.opcion-escape.incorrecta .opcion-indicador {
    border-color: var(--color-error);
    background: var(--color-error);
}

.opcion-escape.incorrecta .opcion-indicador::after {
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='white'%3E%3Cpath d='M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z'/%3E%3C/svg%3E");
}

/* Explicación */
.explicacion-container {
    margin-top: 1rem;
    padding: 1rem;
    background: linear-gradient(135deg, rgba(124, 58, 237, 0.1), rgba(79, 70, 229, 0.1));
    border-radius: 8px;
    border-left: 4px solid var(--color-primario);
}

.explicacion-texto {
    margin: 0;
    font-size: 0.9rem;
    color: var(--color-texto);
    line-height: 1.5;
}

/* Acciones de habitación */
.habitacion-acciones {
    margin-top: 2rem;
    text-align: center;
}

.boton-verificar-habitacion {
    padding: 1rem 2rem;
    font-size: 1rem;
    font-weight: 600;
    color: white;
    background: linear-gradient(135deg, var(--color-primario), #4f46e5);
    border: none;
    border-radius: 10px;
    cursor: pointer;
    transition: all 0.3s ease;
}

.boton-verificar-habitacion:hover {
    transform: translateY(-2px);
    box-shadow: 0 6px 20px rgba(124, 58, 237, 0.35);
}

.boton-verificar-habitacion.boton-siguiente {
    background: linear-gradient(135deg, #10b981, #059669);
}

.boton-verificar-habitacion.boton-finalizar {
    background: linear-gradient(135deg, #f59e0b, #d97706);
}

/* Resultados */
.resultado-container {
    text-align: center;
    padding: 3rem 2rem;
    background: white;
    border-radius: 20px;
    box-shadow: 0 8px 30px rgba(0,0,0,0.1);
}

.resultado-container.aprobado {
    border-top: 5px solid var(--color-exito);
}

.resultado-container.desaprobado {
    border-top: 5px solid var(--color-error);
}

.resultado-icono {
    font-size: 5rem;
    margin-bottom: 1rem;
}

.resultado-titulo {
    font-size: 1.75rem;
    margin: 0 0 2rem 0;
}

.aprobado .resultado-titulo {
    color: var(--color-exito);
}

.desaprobado .resultado-titulo {
    color: var(--color-error);
}

.resultado-score {
    margin: 2rem 0;
}

.score-circulo {
    width: 140px;
    height: 140px;
    margin: 0 auto 1rem;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: 50%;
    border: 8px solid;
}

.score-circulo.score-aprobado {
    border-color: var(--color-exito);
    background: rgba(16, 185, 129, 0.1);
}

.score-circulo.score-desaprobado {
    border-color: var(--color-error);
    background: rgba(239, 68, 68, 0.1);
}

.score-numero {
    font-size: 2.5rem;
    font-weight: 700;
}

.score-aprobado .score-numero {
    color: var(--color-exito);
}

.score-desaprobado .score-numero {
    color: var(--color-error);
}

.score-detalle {
    color: var(--color-texto-claro);
    font-size: 1rem;
    margin: 0;
}

.resultado-mensaje {
    max-width: 500px;
    margin: 2rem auto;
    font-size: 1.05rem;
    line-height: 1.6;
    color: var(--color-texto);
}

.resultado-acciones {
    display: flex;
    gap: 1rem;
    justify-content: center;
    flex-wrap: wrap;
    margin-top: 2rem;
}

.boton-resultado {
    padding: 1rem 2rem;
    font-size: 1rem;
    font-weight: 600;
    border: none;
    border-radius: 10px;
    cursor: pointer;
    transition: all 0.3s ease;
}

.boton-continuar {
    color: white;
    background: linear-gradient(135deg, var(--color-exito), #059669);
}

.boton-reintentar {
    color: white;
    background: linear-gradient(135deg, var(--color-primario), #4f46e5);
}

.boton-revisar {
    color: var(--color-primario);
    background: var(--color-primario-claro);
    border: 2px solid var(--color-primario);
}

.boton-resultado:hover {
    transform: translateY(-2px);
    box-shadow: 0 6px 20px rgba(0,0,0,0.15);
}

/* Placeholder de evaluación */
.evaluacion-placeholder {
    text-align: center;
    padding: 3rem;
    background: #f8f9fa;
    border-radius: 16px;
    border: 2px dashed #d1d5db;
}

.icono-placeholder {
    font-size: 4rem;
    margin-bottom: 1rem;
}

.evaluacion-placeholder h3 {
    color: var(--color-texto);
    margin: 0 0 1rem 0;
}

.evaluacion-placeholder p {
    color: var(--color-texto-claro);
    margin: 0.5rem 0;
}

/* Modo noche */
body.modo-noche .habitacion-container,
body.modo-noche .resultado-container {
    background: var(--color-fondo-tarjeta);
}

body.modo-noche .pregunta-escape {
    background: rgba(255,255,255,0.05);
}

body.modo-noche .opcion-escape {
    background: rgba(255,255,255,0.08);
    border-color: rgba(255,255,255,0.1);
}

body.modo-noche .opcion-escape:hover {
    background: rgba(124, 58, 237, 0.2);
}

body.modo-noche .habitacion-preview {
    background: var(--color-fondo-tarjeta);
    border-color: rgba(255,255,255,0.1);
}

/* Responsive */
@media (max-width: 768px) {
    .escape-info-grid {
        gap: 1rem;
    }
    
    .escape-info-item {
        padding: 0.75rem 1rem;
        min-width: 80px;
    }
    
    .info-numero {
        font-size: 1.5rem;
    }
    
    .pregunta-escape {
        flex-direction: column;
        gap: 0.75rem;
    }
    
    .pregunta-numero {
        align-self: flex-start;
    }
    
    .resultado-acciones {
        flex-direction: column;
    }
    
    .boton-resultado {
        width: 100%;
    }
}

/* ===== ESCAPE ROOM - FORMATO UNA PREGUNTA A LA VEZ ===== */

.pregunta-unica-container {
    max-width: 700px;
    margin: 0 auto;
}

.pregunta-header {
    margin-bottom: 2rem;
}

.progreso-info {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-top: 0.5rem;
}

.habitacion-actual {
    font-size: 0.9rem;
    color: var(--color-primario);
    font-weight: 600;
    background: var(--color-primario-claro);
    padding: 0.25rem 0.75rem;
    border-radius: 15px;
}

.pregunta-contenido-unica {
    background: white;
    border-radius: 16px;
    padding: 2rem;
    box-shadow: 0 4px 20px rgba(0,0,0,0.08);
    margin-bottom: 1.5rem;
}

.pregunta-texto-grande {
    font-size: 1.25rem;
    font-weight: 600;
    color: var(--color-texto);
    margin: 0 0 1.5rem 0;
    line-height: 1.5;
}

.opciones-unica {
    display: flex;
    flex-direction: column;
    gap: 0.75rem;
}

.opcion-btn {
    display: flex;
    align-items: center;
    gap: 1rem;
    width: 100%;
    padding: 1rem 1.25rem;
    background: #f8f9fa;
    border: 2px solid #e5e7eb;
    border-radius: 12px;
    cursor: pointer;
    text-align: left;
    transition: all 0.2s ease;
    font-size: 1rem;
}

.opcion-btn:hover:not(.disabled) {
    border-color: var(--color-primario);
    background: var(--color-primario-claro);
    transform: translateX(5px);
}

.opcion-btn.disabled {
    cursor: not-allowed;
    opacity: 0.8;
}

.opcion-btn.correcta {
    border-color: var(--color-exito) !important;
    background: rgba(16, 185, 129, 0.15) !important;
}

.opcion-btn.incorrecta {
    border-color: var(--color-error) !important;
    background: rgba(239, 68, 68, 0.15) !important;
}

.opcion-letra {
    width: 32px;
    height: 32px;
    display: flex;
    align-items: center;
    justify-content: center;
    background: var(--color-primario);
    color: white;
    border-radius: 50%;
    font-weight: 600;
    flex-shrink: 0;
}

.opcion-btn.correcta .opcion-letra {
    background: var(--color-exito);
}

.opcion-btn.incorrecta .opcion-letra {
    background: var(--color-error);
}

/* Feedback */
.pregunta-feedback {
    margin-top: 1rem;
}

.feedback-box {
    padding: 1.5rem;
    border-radius: 12px;
    margin-bottom: 1rem;
}

.feedback-correcto {
    background: rgba(16, 185, 129, 0.1);
    border: 2px solid var(--color-exito);
}

.feedback-incorrecto {
    background: rgba(239, 68, 68, 0.1);
    border: 2px solid var(--color-error);
}

.feedback-icono {
    font-size: 2rem;
    margin-bottom: 0.5rem;
}

.feedback-texto {
    margin-bottom: 1rem;
}

.feedback-texto strong {
    font-size: 1.1rem;
}

.feedback-texto p {
    margin: 0.5rem 0 0 0;
    font-size: 0.95rem;
}

.btn-ver-explicacion {
    padding: 0.5rem 1rem;
    background: transparent;
    border: 2px solid var(--color-primario);
    color: var(--color-primario);
    border-radius: 8px;
    cursor: pointer;
    font-size: 0.9rem;
    font-weight: 500;
    transition: all 0.2s ease;
}

.btn-ver-explicacion:hover {
    background: var(--color-primario);
    color: white;
}

.explicacion-oculta {
    margin-top: 1rem;
    padding: 1rem;
    background: rgba(124, 58, 237, 0.08);
    border-radius: 8px;
    border-left: 4px solid var(--color-primario);
}

.explicacion-oculta p {
    margin: 0;
    font-size: 0.95rem;
    line-height: 1.5;
    color: var(--color-texto);
}

.feedback-acciones {
    display: flex;
    justify-content: center;
    margin-top: 1rem;
}

.btn-siguiente-pregunta,
.btn-ver-resultados {
    padding: 1rem 2rem;
    font-size: 1rem;
    font-weight: 600;
    color: white;
    border: none;
    border-radius: 10px;
    cursor: pointer;
    transition: all 0.3s ease;
}

.btn-siguiente-pregunta {
    background: linear-gradient(135deg, var(--color-primario), #4f46e5);
}

.btn-ver-resultados {
    background: linear-gradient(135deg, #f59e0b, #d97706);
}

.btn-siguiente-pregunta:hover,
.btn-ver-resultados:hover {
    transform: translateY(-2px);
    box-shadow: 0 6px 20px rgba(0,0,0,0.2);
}

/* Estado aprobado/desaprobado */
.score-estado {
    font-size: 1.25rem;
    font-weight: 700;
    margin-top: 1rem;
    padding: 0.5rem 1.5rem;
    border-radius: 25px;
    display: inline-block;
}

.estado-aprobado {
    background: rgba(16, 185, 129, 0.15);
    color: var(--color-exito);
}

.estado-desaprobado {
    background: rgba(239, 68, 68, 0.15);
    color: var(--color-error);
}

/* Modo noche */
body.modo-noche .pregunta-contenido-unica {
    background: var(--color-fondo-tarjeta);
}

body.modo-noche .opcion-btn {
    background: rgba(255,255,255,0.05);
    border-color: rgba(255,255,255,0.1);
}

body.modo-noche .opcion-btn:hover:not(.disabled) {
    background: rgba(124, 58, 237, 0.2);
}

body.modo-noche .feedback-box {
    background: rgba(0,0,0,0.2);
}

body.modo-noche .explicacion-oculta {
    background: rgba(124, 58, 237, 0.15);
}

/* Responsive */
@media (max-width: 768px) {
    .pregunta-texto-grande {
        font-size: 1.1rem;
    }
    
    .opcion-btn {
        padding: 0.875rem 1rem;
    }
    
    .progreso-info {
        flex-direction: column;
        gap: 0.5rem;
        align-items: flex-start;
    }
}

/* ===== ESCAPE ROOM - FORMATO HABITACIONES CON NARRATIVA ===== */

.habitacion-escape {
    max-width: 800px;
    margin: 0 auto;
    text-align: left;
}

.escape-progreso-bar {
    height: 6px;
    background: #e5e7eb;
    border-radius: 3px;
    overflow: hidden;
    margin-bottom: 0.5rem;
}

.escape-progreso-texto {
    text-align: center;
    font-size: 0.9rem;
    color: var(--color-primario);
    font-weight: 600;
    margin-bottom: 1.5rem;
}

/* Narrativa */
.narrativa-box {
    background: linear-gradient(135deg, #1e1b4b, #312e81);
    color: white;
    padding: 1.5rem;
    border-radius: 12px;
    margin-bottom: 1.5rem;
    display: flex;
    gap: 1rem;
    align-items: flex-start;
}

.narrativa-icono {
    font-size: 2rem;
    flex-shrink: 0;
}

.narrativa-texto {
    margin: 0;
    font-size: 1rem;
    line-height: 1.6;
    font-style: italic;
}

.narrativa-exito {
    background: linear-gradient(135deg, #065f46, #047857);
    color: white;
    padding: 1.5rem;
    border-radius: 12px;
    margin-top: 1.5rem;
    display: flex;
    gap: 1rem;
    align-items: flex-start;
    animation: fadeInUp 0.5s ease;
}

@keyframes fadeInUp {
    from {
        opacity: 0;
        transform: translateY(20px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

/* Header de habitación */
.habitacion-header-game {
    text-align: center;
    margin-bottom: 2rem;
}

.habitacion-nombre-grande {
    font-size: 1.75rem;
    color: var(--color-primario);
    margin: 0 0 0.5rem 0;
}

.habitacion-tema {
    display: inline-block;
    background: var(--color-primario-claro);
    color: var(--color-primario);
    padding: 0.25rem 1rem;
    border-radius: 15px;
    font-size: 0.9rem;
    font-weight: 500;
}

/* Preguntas de la habitación */
.preguntas-habitacion {
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
}

.pregunta-card {
    background: white;
    border-radius: 16px;
    padding: 1.5rem;
    box-shadow: 0 4px 15px rgba(0,0,0,0.08);
    border: 2px solid transparent;
    transition: all 0.3s ease;
    text-align: left;
}

.pregunta-card:hover {
    box-shadow: 0 6px 20px rgba(0,0,0,0.12);
}

.pregunta-header-card {
    margin-bottom: 1rem;
}

.pregunta-badge {
    display: inline-block;
    background: linear-gradient(135deg, var(--color-primario), #4f46e5);
    color: white;
    padding: 0.25rem 0.75rem;
    border-radius: 15px;
    font-size: 0.8rem;
    font-weight: 600;
}

.pregunta-texto-card {
    font-size: 1.1rem;
    font-weight: 500;
    color: var(--color-texto);
    margin: 0 0 1.25rem 0;
    line-height: 1.5;
}

/* Opciones en grid */
.opciones-grid {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 0.75rem;
}

@media (max-width: 600px) {
    .opciones-grid {
        grid-template-columns: 1fr;
    }
}

.opcion-card {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    padding: 1rem;
    background: #f8f9fa;
    border: 2px solid #e5e7eb;
    border-radius: 10px;
    cursor: pointer;
    text-align: left;
    transition: all 0.2s ease;
    font-size: 0.95rem;
}

.opcion-card:hover:not(:disabled) {
    border-color: var(--color-primario);
    background: var(--color-primario-claro);
}

.opcion-card.seleccionada {
    border-color: var(--color-primario);
    background: var(--color-primario-claro);
}

.opcion-card:disabled {
    cursor: not-allowed;
}

.opcion-card.correcta {
    border-color: var(--color-exito) !important;
    background: rgba(16, 185, 129, 0.15) !important;
}

.opcion-card.incorrecta {
    border-color: var(--color-error) !important;
    background: rgba(239, 68, 68, 0.15) !important;
}

.opcion-letra-card {
    width: 28px;
    height: 28px;
    display: flex;
    align-items: center;
    justify-content: center;
    background: var(--color-primario);
    color: white;
    border-radius: 50%;
    font-weight: 600;
    font-size: 0.85rem;
    flex-shrink: 0;
}

.opcion-card.correcta .opcion-letra-card {
    background: var(--color-exito);
}

.opcion-card.incorrecta .opcion-letra-card {
    background: var(--color-error);
}

.opcion-texto-card {
    flex: 1;
    color: var(--color-texto);
}

/* Resultado inline de pregunta */
.resultado-pregunta {
    margin-top: 1rem;
}

.resultado-inline {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    padding: 0.75rem 1rem;
    border-radius: 8px;
    margin-bottom: 0.5rem;
}

.resultado-correcto {
    background: rgba(16, 185, 129, 0.1);
    border: 1px solid var(--color-exito);
}

.resultado-incorrecto {
    background: rgba(239, 68, 68, 0.1);
    border: 1px solid var(--color-error);
}

.resultado-icon {
    font-size: 1.25rem;
}

.resultado-text {
    font-weight: 600;
    flex: 1;
}

.resultado-correcto .resultado-text {
    color: var(--color-exito);
}

.resultado-incorrecto .resultado-text {
    color: var(--color-error);
}

.btn-explicacion-mini {
    padding: 0.375rem 0.75rem;
    background: transparent;
    border: 1px solid var(--color-primario);
    color: var(--color-primario);
    border-radius: 6px;
    cursor: pointer;
    font-size: 0.8rem;
    transition: all 0.2s ease;
}

.btn-explicacion-mini:hover {
    background: var(--color-primario);
    color: white;
}

.explicacion-inline {
    padding: 1rem;
    background: rgba(124, 58, 237, 0.08);
    border-radius: 8px;
    border-left: 3px solid var(--color-primario);
}

.respuesta-correcta-text {
    margin: 0 0 0.5rem 0;
    color: var(--color-exito);
    font-size: 0.9rem;
}

.explicacion-text {
    margin: 0;
    font-size: 0.9rem;
    line-height: 1.5;
    color: var(--color-texto);
}

/* Acciones de habitación */
.acciones-habitacion {
    margin-top: 2rem;
    text-align: center;
}

.boton-verificar-escape {
    padding: 1rem 2.5rem;
    font-size: 1.1rem;
    font-weight: 600;
    color: white;
    background: linear-gradient(135deg, var(--color-primario), #4f46e5);
    border: none;
    border-radius: 12px;
    cursor: pointer;
    transition: all 0.3s ease;
}

.boton-verificar-escape:hover {
    transform: translateY(-2px);
    box-shadow: 0 8px 25px rgba(124, 58, 237, 0.4);
}

.boton-verificar-escape.boton-avanzar {
    background: linear-gradient(135deg, #10b981, #059669);
}

.boton-verificar-escape.boton-avanzar:hover {
    box-shadow: 0 8px 25px rgba(16, 185, 129, 0.4);
}

/* Resultado final */
.resultado-final-escape {
    text-align: center;
    padding: 3rem 2rem;
    background: white;
    border-radius: 20px;
    box-shadow: 0 8px 30px rgba(0,0,0,0.1);
}

.resultado-final-escape.escape-exitoso {
    border-top: 6px solid var(--color-exito);
}

.resultado-final-escape.escape-fallido {
    border-top: 6px solid var(--color-error);
}

.resultado-header {
    margin-bottom: 2rem;
}

.resultado-icono-grande {
    font-size: 5rem;
    margin-bottom: 1rem;
    animation: bounce 1s ease infinite;
}

@keyframes bounce {
    0%, 100% { transform: translateY(0); }
    50% { transform: translateY(-10px); }
}

.resultado-titulo-grande {
    font-size: 2rem;
    margin: 0;
}

.escape-exitoso .resultado-titulo-grande {
    color: var(--color-exito);
}

.escape-fallido .resultado-titulo-grande {
    color: var(--color-error);
}

.resultado-narrativa {
    max-width: 600px;
    margin: 0 auto 2rem;
    padding: 1.5rem;
    background: linear-gradient(135deg, rgba(124, 58, 237, 0.05), rgba(79, 70, 229, 0.05));
    border-radius: 12px;
    font-style: italic;
    color: var(--color-texto);
    line-height: 1.6;
}

.resultado-stats {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 2rem;
    margin: 2rem 0;
    flex-wrap: wrap;
}

.stat-circulo {
    width: 150px;
    height: 150px;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: 50%;
    border: 8px solid;
}

.stat-circulo.stat-aprobado {
    border-color: var(--color-exito);
    background: rgba(16, 185, 129, 0.1);
}

.stat-circulo.stat-desaprobado {
    border-color: var(--color-error);
    background: rgba(239, 68, 68, 0.1);
}

.stat-porcentaje {
    font-size: 2.5rem;
    font-weight: 700;
}

.stat-aprobado .stat-porcentaje {
    color: var(--color-exito);
}

.stat-desaprobado .stat-porcentaje {
    color: var(--color-error);
}

.stat-detalle {
    text-align: left;
}

.stat-correctas {
    font-size: 1.1rem;
    margin: 0 0 0.5rem 0;
    color: var(--color-texto);
}

.stat-estado {
    font-size: 1.5rem;
    font-weight: 700;
    margin: 0 0 0.5rem 0;
}

.stat-estado.estado-aprobado {
    color: var(--color-exito);
}

.stat-estado.estado-desaprobado {
    color: var(--color-error);
}

.stat-minimo {
    font-size: 0.9rem;
    color: var(--color-texto-claro);
    margin: 0;
}

.resultado-acciones-final {
    display: flex;
    gap: 1rem;
    justify-content: center;
    flex-wrap: wrap;
    margin-top: 2rem;
}

.boton-accion {
    padding: 1rem 2rem;
    font-size: 1rem;
    font-weight: 600;
    border: none;
    border-radius: 10px;
    cursor: pointer;
    transition: all 0.3s ease;
}

.boton-continuar-modulo {
    background: linear-gradient(135deg, var(--color-exito), #059669);
    color: white;
}

.boton-reintentar-escape {
    background: linear-gradient(135deg, var(--color-primario), #4f46e5);
    color: white;
}

.boton-revisar-teoria {
    background: white;
    color: var(--color-primario);
    border: 2px solid var(--color-primario);
}

.boton-accion:hover {
    transform: translateY(-2px);
    box-shadow: 0 6px 20px rgba(0,0,0,0.15);
}

/* Modo noche */
body.modo-noche .pregunta-card {
    background: var(--color-fondo-tarjeta);
}

body.modo-noche .opcion-card {
    background: rgba(255,255,255,0.05);
    border-color: rgba(255,255,255,0.1);
}

body.modo-noche .resultado-final-escape {
    background: var(--color-fondo-tarjeta);
}

body.modo-noche .narrativa-box {
    background: linear-gradient(135deg, #0f0d24, #1a1744);
}

/* ===== ESCAPE ROOM - MEJOR PUNTAJE Y SALIR ===== */

.mejor-puntaje-box {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 1rem;
    background: linear-gradient(135deg, rgba(251, 191, 36, 0.15), rgba(245, 158, 11, 0.15));
    border: 2px solid #f59e0b;
    border-radius: 12px;
    padding: 1rem 1.5rem;
    margin: 1.5rem auto;
    max-width: 320px;
    text-align: left;
}

.mejor-puntaje-icono {
    font-size: 2rem;
    flex-shrink: 0;
}

.mejor-puntaje-info {
    display: flex;
    flex-direction: column;
    gap: 0.15rem;
}

.mejor-puntaje-label {
    font-size: 0.8rem;
    color: #92400e;
    font-weight: 500;
    text-transform: uppercase;
    letter-spacing: 0.5px;
}

.mejor-puntaje-valor {
    font-size: 1.5rem;
    font-weight: 700;
    color: #d97706;
    line-height: 1.1;
}

.mejor-puntaje-detalle {
    font-size: 0.8rem;
    color: #92400e;
}

/* Sin puntaje todavía */
.mejor-puntaje-box.sin-puntaje {
    background: linear-gradient(135deg, rgba(139, 92, 246, 0.1), rgba(99, 102, 241, 0.1));
    border-color: #8b5cf6;
}

.mejor-puntaje-box.sin-puntaje .mejor-puntaje-label {
    color: #6d28d9;
}

.mejor-puntaje-box.sin-puntaje .mejor-puntaje-detalle {
    color: #7c3aed;
}

.mejor-puntaje-valor.sin-intento {
    font-size: 1.2rem;
    color: #8b5cf6;
}

/* Top bar de la habitación */
.habitacion-top-bar {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 1rem;
}

.boton-salir-escape {
    padding: 0.5rem 1rem;
    background: transparent;
    border: 2px solid #dc2626;
    color: #dc2626;
    border-radius: 8px;
    font-size: 0.9rem;
    font-weight: 500;
    cursor: pointer;
    transition: all 0.2s ease;
}

.boton-salir-escape:hover {
    background: #dc2626;
    color: white;
}

/* Modo noche */
body.modo-noche .mejor-puntaje-box {
    background: linear-gradient(135deg, rgba(251, 191, 36, 0.1), rgba(245, 158, 11, 0.1));
}

body.modo-noche .mejor-puntaje-label,
body.modo-noche .mejor-puntaje-detalle {
    color: #fbbf24;
}

body.modo-noche .mejor-puntaje-box.sin-puntaje {
    background: linear-gradient(135deg, rgba(139, 92, 246, 0.15), rgba(99, 102, 241, 0.15));
}

body.modo-noche .mejor-puntaje-box.sin-puntaje .mejor-puntaje-label,
body.modo-noche .mejor-puntaje-box.sin-puntaje .mejor-puntaje-detalle {
    color: #a78bfa;
}

body.modo-noche .mejor-puntaje-valor.sin-intento {
    color: #a78bfa;
}

/* ===== MODAL SALIR ESCAPE ROOM ===== */

.modal-salir-escape {
    max-width: 400px;
    text-align: center;
}

.icono-modal-salir {
    font-size: 3.5rem;
    margin-bottom: 0.75rem;
}

.texto-modal-salir {
    color: #64748b;
    font-size: 0.95rem;
    line-height: 1.6;
    margin: 1rem 0 1.5rem 0;
}

.boton-confirmar-salir {
    background: linear-gradient(135deg, #dc2626, #b91c1c);
    color: white;
    border: none;
    padding: 0.75rem 1.5rem;
    border-radius: 8px;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.2s ease;
}

.boton-confirmar-salir:hover {
    background: linear-gradient(135deg, #b91c1c, #991b1b);
    transform: translateY(-2px);
}

body.modo-noche .texto-modal-salir {
    color: #94a3b8;
}

/* ===== PASAPALABRA - EVALUACIÓN UNIDAD II ===== */

.pasapalabra-container {
    max-width: 800px;
    margin: 0 auto;
    text-align: center;
}

.pasapalabra-header {
    margin-bottom: 1.5rem;
}

.pasapalabra-icono {
    font-size: 4rem;
    margin-bottom: 1rem;
}

.pasapalabra-titulo {
    font-size: 1.75rem;
    color: var(--color-primario);
    margin: 0;
}

.pasapalabra-descripcion {
    font-size: 1.1rem;
    color: var(--color-texto);
    max-width: 600px;
    margin: 1rem auto;
    line-height: 1.6;
}

.pasapalabra-reglas {
    background: rgba(124, 58, 237, 0.08);
    border-radius: 12px;
    padding: 1.25rem;
    margin: 1.5rem auto;
    max-width: 500px;
    text-align: left;
}

.pasapalabra-reglas h4 {
    color: var(--color-primario);
    margin: 0 0 0.75rem 0;
    text-align: center;
}

.pasapalabra-reglas ul {
    list-style: none;
    padding: 0;
    margin: 0;
}

.pasapalabra-reglas li {
    padding: 0.4rem 0;
    color: var(--color-texto);
}

.pasapalabra-rosco-preview {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: 0.5rem;
    margin: 1.5rem auto;
    max-width: 500px;
}

.letra-preview {
    width: 32px;
    height: 32px;
    display: flex;
    align-items: center;
    justify-content: center;
    background: linear-gradient(135deg, #7c3aed, #a855f7);
    color: white;
    border-radius: 50%;
    font-weight: 700;
    font-size: 0.9rem;
}

.boton-iniciar-pasapalabra {
    background: linear-gradient(135deg, #7c3aed, #a855f7);
    color: white;
    border: none;
    padding: 1rem 2.5rem;
    border-radius: 12px;
    font-size: 1.1rem;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.3s ease;
    margin-top: 1rem;
}

.boton-iniciar-pasapalabra:hover {
    transform: translateY(-3px);
    box-shadow: 0 8px 25px rgba(124, 58, 237, 0.4);
}

/* Pasapalabra - Juego */
.pasapalabra-juego {
    max-width: 700px;
    margin: 0 auto;
}

.pasapalabra-top-bar {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 1rem;
}

.boton-salir-pasapalabra {
    padding: 0.5rem 1rem;
    background: transparent;
    border: 2px solid #dc2626;
    color: #dc2626;
    border-radius: 8px;
    font-size: 0.9rem;
    font-weight: 500;
    cursor: pointer;
    transition: all 0.2s ease;
}

.boton-salir-pasapalabra:hover {
    background: #dc2626;
    color: white;
}

.timer-pasapalabra {
    background: linear-gradient(135deg, #7c3aed, #a855f7);
    color: white;
    padding: 0.5rem 1rem;
    border-radius: 20px;
    font-weight: 700;
    font-size: 1.1rem;
    min-width: 80px;
    text-align: center;
}

.timer-pasapalabra.tiempo-bajo {
    background: linear-gradient(135deg, #f59e0b, #d97706);
    animation: pulse-timer 1s ease-in-out infinite;
}

.timer-pasapalabra.tiempo-critico {
    background: linear-gradient(135deg, #ef4444, #dc2626);
    animation: pulse-timer 0.5s ease-in-out infinite;
}

@keyframes pulse-timer {
    0%, 100% { transform: scale(1); }
    50% { transform: scale(1.05); }
}

.pasapalabra-stats {
    display: flex;
    align-items: center;
    gap: 1.2rem;
    font-weight: 600;
}

.pasapalabra-stats span {
    display: flex;
    align-items: center;
    gap: 0.3rem;
    font-size: 1rem;
}

.stat-correctas {
    color: #22c55e;
}

.stat-incorrectas {
    color: #ef4444;
}

.stat-pasadas {
    color: #3b82f6;
}

.stat-correctas { color: #22c55e; }
.stat-incorrectas { color: #ef4444; }
.stat-pasadas { color: #3b82f6; }

.pasapalabra-progreso-bar {
    height: 6px;
    background: #e5e7eb;
    border-radius: 3px;
    margin-bottom: 1.5rem;
    overflow: hidden;
}

.pasapalabra-progreso-bar .progreso-relleno {
    height: 100%;
    background: linear-gradient(135deg, #7c3aed, #a855f7);
    border-radius: 3px;
    transition: width 0.3s ease;
}

.segunda-vuelta-aviso {
    background: linear-gradient(135deg, #3b82f6, #1d4ed8);
    color: white;
    padding: 0.75rem 1rem;
    border-radius: 8px;
    margin-bottom: 1rem;
    font-weight: 600;
}

/* Rosco visual */
.pasapalabra-rosco {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: 0.4rem;
    margin-bottom: 1.5rem;
}

.rosco-letra {
    width: 36px;
    height: 36px;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: 50%;
    font-weight: 700;
    font-size: 0.85rem;
    transition: all 0.3s ease;
}

.rosco-letra.pendiente {
    background: #e5e7eb;
    color: #6b7280;
}

.rosco-letra.actual {
    background: linear-gradient(135deg, #7c3aed, #a855f7);
    color: white;
    transform: scale(1.2);
    box-shadow: 0 4px 15px rgba(124, 58, 237, 0.4);
}

.rosco-letra.correcta {
    background: linear-gradient(135deg, #22c55e, #16a34a) !important;
    color: white !important;
    border-color: #16a34a !important;
}

.rosco-letra.incorrecta {
    background: linear-gradient(135deg, #ef4444, #dc2626) !important;
    color: white !important;
    border-color: #dc2626 !important;
}

.rosco-letra.pasada {
    background: linear-gradient(135deg, #3b82f6, #2563eb);
    color: white;
}

/* Pregunta actual */
.pasapalabra-pregunta-card {
    background: white;
    border-radius: 16px;
    padding: 2rem;
    box-shadow: 0 4px 20px rgba(0,0,0,0.1);
    text-align: center;
}

body.modo-noche .pasapalabra-pregunta-card {
    background: var(--color-fondo-tarjeta);
}

.letra-grande {
    width: 80px;
    height: 80px;
    display: flex;
    align-items: center;
    justify-content: center;
    background: linear-gradient(135deg, #7c3aed, #a855f7);
    color: white;
    border-radius: 50%;
    font-size: 2.5rem;
    font-weight: 700;
    margin: 0 auto 1.5rem;
}

.definicion-pasapalabra {
    font-size: 1.15rem;
    color: var(--color-texto);
    margin-bottom: 1.5rem;
    line-height: 1.6;
}

.opciones-pasapalabra {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 0.75rem;
    margin-bottom: 1rem;
}

.opcion-pasapalabra {
    padding: 1rem;
    background: #f3f4f6;
    border: 2px solid #e5e7eb;
    border-radius: 10px;
    font-size: 1rem;
    cursor: pointer;
    transition: all 0.2s ease;
    text-align: center;
}

body.modo-noche .opcion-pasapalabra {
    background: rgba(255,255,255,0.05);
    border-color: rgba(255,255,255,0.1);
    color: var(--color-texto);
}

.opcion-pasapalabra:hover:not(:disabled) {
    border-color: var(--color-primario);
    background: rgba(124, 58, 237, 0.1);
}

.opcion-pasapalabra.correcta {
    background: rgba(34, 197, 94, 0.2);
    border-color: #22c55e;
    color: #166534;
}

.opcion-pasapalabra.incorrecta {
    background: rgba(239, 68, 68, 0.2);
    border-color: #ef4444;
    color: #991b1b;
}

body.modo-noche .opcion-pasapalabra.correcta {
    background: rgba(34, 197, 94, 0.3);
    color: #4ade80;
}

body.modo-noche .opcion-pasapalabra.incorrecta {
    background: rgba(239, 68, 68, 0.3);
    color: #f87171;
}

.boton-pasapalabra-skip {
    padding: 0.75rem 1.5rem;
    background: transparent;
    border: 2px solid #3b82f6;
    color: #3b82f6;
    border-radius: 8px;
    font-size: 1rem;
    font-weight: 500;
    cursor: pointer;
    transition: all 0.2s ease;
}

.boton-pasapalabra-skip:hover {
    background: #3b82f6;
    color: white;
}

.aviso-segunda-vuelta {
    color: #ef4444;
    font-size: 0.9rem;
    font-style: italic;
    margin-top: 0.5rem;
}

/* Tipos de preguntas */
.tipo-pregunta {
    display: inline-block;
    padding: 0.3rem 0.8rem;
    border-radius: 15px;
    font-size: 0.85rem;
    font-weight: 600;
    margin-bottom: 0.8rem;
}

.tipo-empieza {
    background: linear-gradient(135deg, #7c3aed, #a855f7);
    color: white;
}

.tipo-contiene {
    background: linear-gradient(135deg, #0891b2, #22d3ee);
    color: white;
}

.tipo-completa {
    background: linear-gradient(135deg, #ea580c, #f97316);
    color: white;
}

/* Feedback rápido para respuestas correctas */
.feedback-rapido {
    animation: fadeInScale 0.3s ease-out;
}

@keyframes fadeInScale {
    from {
        opacity: 0;
        transform: scale(0.8);
    }
    to {
        opacity: 1;
        transform: scale(1);
    }
}

.explicacion-pasapalabra-rapida {
    background: #fef2f2;
    border: 1px solid #ef4444;
    border-radius: 8px;
    padding: 0.8rem 1rem;
    margin-top: 0.5rem;
    text-align: center;
}

.explicacion-pasapalabra-rapida p {
    margin: 0;
    color: #b91c1c;
    font-size: 0.95rem;
}

/* Resumen detallado de respuestas */
.resumen-detallado {
    margin-top: 2rem;
    padding: 1.5rem;
    background: var(--color-fondo);
    border-radius: 12px;
    max-height: 400px;
    overflow-y: auto;
}

.resumen-titulo {
    font-size: 1.2rem;
    font-weight: 700;
    margin-bottom: 1rem;
    color: var(--color-texto);
    text-align: center;
}

.resumen-lista {
    display: flex;
    flex-direction: column;
    gap: 0.8rem;
}

.resumen-item {
    display: flex;
    align-items: flex-start;
    gap: 1rem;
    padding: 1rem;
    border-radius: 10px;
    background: var(--color-superficie);
    border-left: 4px solid;
}

.resumen-correcto {
    border-left-color: #22c55e;
}

.resumen-incorrecto {
    border-left-color: #ef4444;
}

.resumen-no-respondida {
    border-left-color: #f59e0b;
}

.resumen-letra {
    font-size: 1.5rem;
    font-weight: 800;
    width: 40px;
    height: 40px;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: 50%;
    background: linear-gradient(135deg, #7c3aed, #a855f7);
    color: white;
    flex-shrink: 0;
}

.resumen-contenido {
    flex: 1;
}

.resumen-definicion {
    font-size: 0.9rem;
    color: var(--color-texto-secundario);
    margin-bottom: 0.5rem;
}

.resumen-respuesta {
    font-size: 0.95rem;
    color: #22c55e;
}

.resumen-tu-respuesta {
    font-size: 0.9rem;
    color: #ef4444;
    margin-top: 0.3rem;
}

.resumen-estado {
    font-size: 1.5rem;
    flex-shrink: 0;
}

.resumen-explicacion {
    font-size: 0.9rem;
    color: var(--color-primario);
    background: rgba(124, 58, 237, 0.08);
    padding: 0.5rem 0.75rem;
    border-radius: 6px;
    margin-top: 0.5rem;
    font-style: italic;
}

body.modo-noche .resumen-explicacion {
    background: rgba(124, 58, 237, 0.15);
    color: #c084fc;
}

.resumen-habitacion {
    font-size: 0.8rem;
    color: var(--color-primario);
    margin-bottom: 0.3rem;
    font-weight: 600;
}

/* Resumen de Casos Prácticos */
.resumen-caso-completo {
    background: var(--color-superficie);
    border-radius: 12px;
    margin-bottom: 1rem;
    overflow: hidden;
    border: 1px solid var(--color-borde);
}

.resumen-caso-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 1rem;
    background: linear-gradient(135deg, rgba(124, 58, 237, 0.1), rgba(79, 70, 229, 0.1));
    border-bottom: 1px solid var(--color-borde);
}

.resumen-preguntas-caso {
    padding: 1rem;
    display: flex;
    flex-direction: column;
    gap: 0.75rem;
}

.resumen-pregunta-caso {
    padding: 0.75rem;
    border-radius: 8px;
    border-left: 3px solid;
}

.resumen-pregunta-caso.correcto {
    background: rgba(34, 197, 94, 0.08);
    border-left-color: #22c55e;
}

.resumen-pregunta-caso.incorrecto {
    background: rgba(239, 68, 68, 0.08);
    border-left-color: #ef4444;
}

.pregunta-header-resumen {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 0.5rem;
}

.pregunta-num {
    font-weight: 700;
    color: var(--color-primario);
}

.pregunta-texto-resumen {
    font-size: 0.95rem;
    margin-bottom: 0.5rem;
    color: var(--color-texto);
}

.respuesta-correcta-resumen {
    font-size: 0.9rem;
    color: #22c55e;
}

.tu-respuesta-resumen {
    font-size: 0.9rem;
    color: #ef4444;
}

.explicacion-resumen {
    font-size: 0.85rem;
    color: var(--color-primario);
    background: rgba(124, 58, 237, 0.08);
    padding: 0.5rem;
    border-radius: 6px;
    margin-top: 0.5rem;
    font-style: italic;
}

/* Scrollbar del resumen */
.resumen-detallado::-webkit-scrollbar {
    width: 6px;
}

.resumen-detallado::-webkit-scrollbar-track {
    background: var(--color-fondo);
    border-radius: 3px;
}

.resumen-detallado::-webkit-scrollbar-thumb {
    background: var(--color-primario);
    border-radius: 3px;
}

/* ===== QUIZ POR TIEMPO ===== */

.quiz-tiempo-container {
    max-width: 800px;
    margin: 0 auto;
}

.quiz-tiempo-intro {
    text-align: center;
    padding: 2rem;
}

.quiz-tiempo-header {
    margin-bottom: 1.5rem;
}

.quiz-tiempo-icono {
    font-size: 4rem;
    margin-bottom: 1rem;
    animation: pulse 2s ease-in-out infinite;
}

.quiz-tiempo-titulo {
    font-size: 1.8rem;
    font-weight: 700;
    color: var(--color-texto);
    margin: 0;
}

.quiz-tiempo-descripcion {
    color: var(--color-texto-secundario);
    font-size: 1.1rem;
    margin-bottom: 1.5rem;
}

.quiz-tiempo-reglas {
    text-align: left;
    background: var(--color-fondo);
    padding: 1.5rem;
    border-radius: 12px;
    margin: 1.5rem 0;
}

.quiz-tiempo-reglas h4 {
    margin: 0 0 1rem 0;
    color: var(--color-primario);
}

.quiz-tiempo-reglas ul {
    margin: 0;
    padding-left: 1.5rem;
}

.quiz-tiempo-reglas li {
    margin-bottom: 0.5rem;
    color: var(--color-texto-secundario);
}

.boton-iniciar-quiz {
    background: linear-gradient(135deg, #f59e0b, #d97706);
    color: white;
    border: none;
    padding: 1rem 2.5rem;
    font-size: 1.2rem;
    font-weight: 700;
    border-radius: 30px;
    cursor: pointer;
    transition: all 0.3s ease;
    margin-top: 1.5rem;
}

.boton-iniciar-quiz:hover {
    transform: scale(1.05);
    box-shadow: 0 10px 30px rgba(245, 158, 11, 0.4);
}

/* Quiz en juego */
.quiz-tiempo-juego {
    padding: 1rem;
}

.quiz-tiempo-top-bar {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 1rem;
    padding: 0.5rem;
}

.boton-salir-quiz {
    background: transparent;
    border: 2px solid #ef4444;
    color: #ef4444;
    padding: 0.5rem 1rem;
    border-radius: 8px;
    cursor: pointer;
    font-weight: 600;
    transition: all 0.2s;
}

.boton-salir-quiz:hover {
    background: #ef4444;
    color: white;
}

.quiz-tiempo-timer {
    display: flex;
    justify-content: center;
}

.timer-circulo {
    width: 60px;
    height: 60px;
    border-radius: 50%;
    background: linear-gradient(135deg, #7c3aed, #a855f7);
    display: flex;
    align-items: center;
    justify-content: center;
    box-shadow: 0 4px 15px rgba(124, 58, 237, 0.4);
    transition: all 0.3s ease;
}

.timer-circulo.tiempo-bajo {
    background: linear-gradient(135deg, #f59e0b, #d97706);
    animation: pulse-timer 1s ease-in-out infinite;
}

.timer-circulo.tiempo-critico {
    background: linear-gradient(135deg, #ef4444, #dc2626);
    animation: pulse-timer 0.5s ease-in-out infinite;
}

.timer-numero {
    font-size: 1.5rem;
    font-weight: 800;
    color: white;
}

.quiz-tiempo-stats {
    display: flex;
    align-items: center;
    gap: 1rem;
    font-weight: 600;
}

.stat-pregunta {
    background: var(--color-fondo);
    padding: 0.4rem 0.8rem;
    border-radius: 20px;
    font-size: 0.9rem;
}

.quiz-tiempo-progreso {
    height: 6px;
    background: var(--color-fondo);
    border-radius: 3px;
    margin-bottom: 2rem;
    overflow: hidden;
}

.quiz-tiempo-progreso .progreso-relleno {
    height: 100%;
    background: linear-gradient(90deg, #f59e0b, #d97706);
    transition: width 0.3s ease;
}

.quiz-tiempo-pregunta-card {
    background: var(--color-superficie);
    border-radius: 16px;
    padding: 2rem;
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
}

.quiz-pregunta-texto {
    font-size: 1.3rem;
    font-weight: 600;
    color: var(--color-texto);
    margin: 0 0 2rem 0;
    line-height: 1.5;
    text-align: center;
}

.quiz-tiempo-opciones {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 1rem;
}

@media (max-width: 600px) {
    .quiz-tiempo-opciones {
        grid-template-columns: 1fr;
    }
}

.quiz-tiempo-opcion {
    display: flex;
    align-items: center;
    gap: 1rem;
    padding: 1rem 1.5rem;
    background: var(--color-fondo);
    border: 2px solid transparent;
    border-radius: 12px;
    cursor: pointer;
    transition: all 0.2s ease;
    text-align: left;
}

.quiz-tiempo-opcion:hover:not(:disabled) {
    border-color: var(--color-primario);
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(124, 58, 237, 0.2);
}

.quiz-tiempo-opcion:disabled {
    cursor: not-allowed;
    opacity: 0.7;
}

.quiz-tiempo-opcion.correcta {
    background: linear-gradient(135deg, #dcfce7, #bbf7d0) !important;
    border-color: #22c55e !important;
}

.quiz-tiempo-opcion.incorrecta {
    background: linear-gradient(135deg, #fee2e2, #fecaca) !important;
    border-color: #ef4444 !important;
}

.opcion-letra {
    width: 36px;
    height: 36px;
    border-radius: 50%;
    background: var(--color-primario);
    color: white;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: 700;
    font-size: 1rem;
    flex-shrink: 0;
}

.opcion-texto {
    flex: 1;
    font-size: 1rem;
    color: var(--color-texto);
}

.quiz-tiempo-feedback {
    margin-top: 1.5rem;
    text-align: center;
}

.feedback-timeout {
    background: linear-gradient(135deg, #fef3c7, #fde68a);
    border-color: #f59e0b;
}

.feedback-timeout .feedback-icon {
    color: #d97706;
}

.explicacion-quiz {
    background: var(--color-fondo);
    padding: 1rem;
    border-radius: 8px;
    margin-top: 0.5rem;
}

.explicacion-quiz p {
    margin: 0;
    font-size: 0.95rem;
}

/* Resultados del Quiz */
.resultado-final-quiz {
    text-align: center;
    padding: 2rem;
}

.quiz-exitoso {
    background: linear-gradient(135deg, #f0fdf4, #dcfce7);
    border-radius: 16px;
}

.quiz-fallido {
    background: linear-gradient(135deg, #fef2f2, #fee2e2);
    border-radius: 16px;
}

.resultado-stats-quiz {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 2rem;
    margin: 2rem 0;
}

.stat-puntos {
    font-size: 1.1rem;
    font-weight: 600;
    color: #f59e0b;
}

.boton-reintentar-quiz {
    background: linear-gradient(135deg, #f59e0b, #d97706);
}

.boton-reintentar-quiz:hover {
    background: linear-gradient(135deg, #d97706, #b45309);
}

.resumen-numero {
    font-size: 1.2rem;
    font-weight: 800;
    width: 36px;
    height: 36px;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: 50%;
    background: linear-gradient(135deg, #7c3aed, #a855f7);
    color: white;
    flex-shrink: 0;
}

/* ===== CONECTAR CONCEPTOS ===== */

.conectar-container {
    max-width: 900px;
    margin: 0 auto;
}

.conectar-intro {
    text-align: center;
    padding: 2rem;
}

.conectar-header {
    margin-bottom: 1.5rem;
}

.conectar-icono {
    font-size: 4rem;
    margin-bottom: 1rem;
}

.conectar-titulo {
    font-size: 1.8rem;
    font-weight: 700;
    color: var(--color-texto);
    margin: 0;
}

.conectar-descripcion {
    color: var(--color-texto-secundario);
    font-size: 1.1rem;
    margin-bottom: 1.5rem;
}

.conectar-reglas {
    text-align: left;
    background: var(--color-fondo);
    padding: 1.5rem;
    border-radius: 12px;
    margin: 1.5rem 0;
}

.conectar-reglas h4 {
    margin: 0 0 1rem 0;
    color: var(--color-primario);
}

.conectar-reglas ul {
    margin: 0;
    padding-left: 1.5rem;
}

.conectar-reglas li {
    margin-bottom: 0.5rem;
    color: var(--color-texto-secundario);
}

.boton-iniciar-conectar {
    background: linear-gradient(135deg, #06b6d4, #0891b2);
    color: white;
    border: none;
    padding: 1rem 2.5rem;
    font-size: 1.2rem;
    font-weight: 700;
    border-radius: 30px;
    cursor: pointer;
    transition: all 0.3s ease;
    margin-top: 1.5rem;
}

.boton-iniciar-conectar:hover {
    transform: scale(1.05);
    box-shadow: 0 10px 30px rgba(6, 182, 212, 0.4);
}

/* Juego Conectar */
.conectar-juego {
    padding: 1rem;
}

.conectar-top-bar {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 1rem;
    padding: 0.5rem;
}

.boton-salir-conectar {
    background: transparent;
    border: 2px solid #ef4444;
    color: #ef4444;
    padding: 0.5rem 1rem;
    border-radius: 8px;
    cursor: pointer;
    font-weight: 600;
    transition: all 0.2s;
}

.boton-salir-conectar:hover {
    background: #ef4444;
    color: white;
}

.conectar-ronda-info {
    font-weight: 600;
    color: var(--color-primario);
    font-size: 1.1rem;
}

.conectar-stats {
    font-weight: 700;
    font-size: 1.1rem;
    color: #22c55e;
}

.conectar-progreso {
    height: 6px;
    background: var(--color-fondo);
    border-radius: 3px;
    margin-bottom: 1.5rem;
    overflow: hidden;
}

.conectar-progreso .progreso-relleno {
    height: 100%;
    background: linear-gradient(90deg, #06b6d4, #0891b2);
    transition: width 0.3s ease;
}

.conectar-ronda-titulo {
    text-align: center;
    font-size: 1.3rem;
    margin-bottom: 2rem;
    color: var(--color-texto);
}

.conectar-tablero {
    display: flex;
    gap: 2rem;
    justify-content: center;
    align-items: flex-start;
}

.conectar-columna {
    display: flex;
    flex-direction: column;
    gap: 1rem;
    flex: 1;
    max-width: 350px;
}

.conectar-lineas {
    width: 50px;
    flex-shrink: 0;
}

.conectar-item {
    padding: 1rem 1.2rem;
    background: var(--color-superficie);
    border: 2px solid var(--color-borde);
    border-radius: 10px;
    cursor: pointer;
    transition: all 0.2s ease;
    font-size: 0.95rem;
    line-height: 1.4;
}

.conectar-item:hover:not(.conectado) {
    border-color: var(--color-primario);
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
}

.conectar-item.seleccionado {
    border-color: #7c3aed;
    background: linear-gradient(135deg, #f3e8ff, #ede9fe);
    box-shadow: 0 0 0 3px rgba(124, 58, 237, 0.2);
}

.conectar-item.conectado {
    border-color: #22c55e;
    background: linear-gradient(135deg, #dcfce7, #bbf7d0);
    cursor: default;
    opacity: 0.8;
}

.conectar-item.error {
    border-color: #ef4444;
    background: linear-gradient(135deg, #fee2e2, #fecaca);
    animation: shake 0.5s ease;
}

.conectar-item.fallado {
    border-color: #ef4444;
    background: linear-gradient(135deg, #fee2e2, #fecaca);
    cursor: default;
    opacity: 0.7;
}

.conectar-item.mostrar-correcta {
    border-color: #22c55e;
    background: linear-gradient(135deg, #dcfce7, #bbf7d0);
    animation: pulse 0.5s ease 2;
}

@keyframes pulse {
    0%, 100% { transform: scale(1); }
    50% { transform: scale(1.03); }
}

@keyframes shake {
    0%, 100% { transform: translateX(0); }
    25% { transform: translateX(-5px); }
    75% { transform: translateX(5px); }
}

.conectar-item-izq {
    text-align: right;
    font-weight: 600;
}

.conectar-item-der {
    text-align: left;
    font-size: 0.9rem;
    color: var(--color-texto-secundario);
}

/* Resultados Conectar */
.resultado-final-conectar {
    text-align: center;
    padding: 2rem;
}

.conectar-exitoso {
    background: linear-gradient(135deg, #f0fdf4, #dcfce7);
    border-radius: 16px;
}

.conectar-fallido {
    background: linear-gradient(135deg, #fef2f2, #fee2e2);
    border-radius: 16px;
}

.resumen-rondas {
    margin: 2rem 0;
    padding: 1.5rem;
    background: var(--color-fondo);
    border-radius: 12px;
}

.resumen-rondas h3 {
    margin: 0 0 1rem 0;
    font-size: 1.1rem;
    color: var(--color-texto);
}

.resumen-ronda-item {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 0.8rem 1rem;
    background: var(--color-superficie);
    border-radius: 8px;
    margin-bottom: 0.5rem;
}

.ronda-nombre {
    font-weight: 600;
    color: var(--color-texto);
}

.ronda-resultado {
    color: #22c55e;
    font-weight: 600;
}

.boton-reintentar-conectar {
    background: linear-gradient(135deg, #06b6d4, #0891b2);
}

.boton-reintentar-conectar:hover {
    background: linear-gradient(135deg, #0891b2, #0e7490);
}

@media (max-width: 768px) {
    .conectar-tablero {
        flex-direction: column;
        align-items: center;
    }
    
    .conectar-columna {
        max-width: 100%;
        width: 100%;
    }
    
    .conectar-lineas {
        display: none;
    }
    
    .conectar-item-izq,
    .conectar-item-der {
        text-align: center;
    }
}

/* Feedback */
.pasapalabra-feedback {
    margin-top: 1.5rem;
}

.feedback-content {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 0.75rem;
    padding: 1rem;
    border-radius: 10px;
    margin-bottom: 1rem;
}

.feedback-correcto {
    background: rgba(34, 197, 94, 0.15);
    color: #166534;
}

.feedback-incorrecto {
    background: rgba(239, 68, 68, 0.15);
    color: #991b1b;
}

body.modo-noche .feedback-correcto {
    color: #4ade80;
}

body.modo-noche .feedback-incorrecto {
    color: #f87171;
}

.feedback-icon {
    font-size: 1.5rem;
}

.feedback-text {
    font-weight: 600;
    font-size: 1.1rem;
}

.btn-ver-explicacion {
    padding: 0.5rem 1rem;
    background: transparent;
    border: 1px solid currentColor;
    border-radius: 6px;
    font-size: 0.9rem;
    cursor: pointer;
    opacity: 0.8;
    transition: opacity 0.2s;
}

.btn-ver-explicacion:hover {
    opacity: 1;
}

.explicacion-pasapalabra {
    background: rgba(124, 58, 237, 0.08);
    padding: 1rem;
    border-radius: 8px;
    text-align: left;
    margin-bottom: 1rem;
}

.explicacion-pasapalabra p {
    margin: 0.5rem 0;
    color: var(--color-texto);
}

.boton-siguiente-letra {
    padding: 0.75rem 2rem;
    background: linear-gradient(135deg, #7c3aed, #a855f7);
    color: white;
    border: none;
    border-radius: 8px;
    font-size: 1rem;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.2s ease;
}

.boton-siguiente-letra:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 15px rgba(124, 58, 237, 0.3);
}

/* Resultados finales */
.resultado-final-pasapalabra {
    padding: 2rem;
    border-radius: 16px;
    text-align: center;
}

.pasapalabra-exitoso {
    background: linear-gradient(135deg, rgba(34, 197, 94, 0.1), rgba(22, 163, 74, 0.1));
    border: 2px solid #22c55e;
}

.pasapalabra-fallido {
    background: linear-gradient(135deg, rgba(239, 68, 68, 0.1), rgba(220, 38, 38, 0.1));
    border: 2px solid #ef4444;
}

.resultado-rosco-final {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: 0.4rem;
    margin: 1.5rem auto;
    max-width: 500px;
}

.rosco-letra-final {
    width: 32px;
    height: 32px;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: 50%;
    font-weight: 700;
    font-size: 0.8rem;
}

.rosco-letra-final.correcta {
    background: linear-gradient(135deg, #22c55e, #16a34a);
    color: white;
}

.rosco-letra-final.incorrecta {
    background: linear-gradient(135deg, #ef4444, #dc2626);
    color: white;
}

.rosco-letra-final.pendiente {
    background: #e5e7eb;
    color: #6b7280;
}

.boton-reintentar-pasapalabra {
    background: linear-gradient(135deg, #7c3aed, #a855f7);
}

/* Responsive */
@media (max-width: 600px) {
    .opciones-pasapalabra {
        grid-template-columns: 1fr;
    }
    
    .letra-grande {
        width: 60px;
        height: 60px;
        font-size: 2rem;
    }
    
    .rosco-letra {
        width: 28px;
        height: 28px;
        font-size: 0.75rem;
    }
}

/* ===== IMÁGENES DE ARQUETIPOS ===== */

.imagen-arquetipo {
    text-align: center;
    margin: 1.5rem 0;
}

.imagen-arquetipo img {
    max-width: 100%;
    height: auto;
    border-radius: 12px;
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.12);
    transition: transform 0.3s ease;
}

.imagen-arquetipo img:hover {
    transform: scale(1.02);
}

@media (max-width: 768px) {
    .imagen-arquetipo img {
        border-radius: 8px;
    }
}

/* ===== EVALUACIÓN CASOS PRÁCTICOS ===== */

.casos-container {
    max-width: 900px;
    margin: 0 auto;
    padding: 1rem;
}

.casos-intro {
    text-align: center;
    padding: 2rem;
}

.casos-intro h3 {
    font-size: 1.8rem;
    color: var(--color-primario);
    margin-bottom: 1rem;
}

.casos-intro p {
    color: var(--color-texto-secundario);
    font-size: 1.1rem;
    margin-bottom: 1.5rem;
}

.casos-info {
    display: flex;
    justify-content: center;
    gap: 2rem;
    margin: 1.5rem 0;
    flex-wrap: wrap;
}

.casos-info .info-item {
    background: var(--color-fondo-tarjeta);
    padding: 1rem 1.5rem;
    border-radius: 12px;
    font-size: 1rem;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
}

.instrucciones-casos {
    background: linear-gradient(135deg, #fef3c7, #fde68a);
    padding: 1rem 1.5rem;
    border-radius: 12px;
    margin: 1.5rem auto;
    max-width: 600px;
    font-size: 0.95rem;
    color: #92400e;
}

.boton-iniciar-casos {
    display: inline-block;
    background: linear-gradient(135deg, var(--color-primario), var(--color-secundario));
    color: white;
    border: none;
    padding: 1rem 2.5rem;
    font-size: 1.1rem;
    font-weight: 600;
    border-radius: 12px;
    cursor: pointer;
    transition: all 0.3s ease;
    margin-top: 1.5rem;
    visibility: visible !important;
    opacity: 1 !important;
}

.boton-iniciar-casos:hover {
    transform: translateY(-2px);
    box-shadow: 0 8px 20px rgba(139, 92, 246, 0.3);
}

.casos-intro button {
    display: inline-block !important;
    visibility: visible !important;
}

.casos-top-bar {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 1rem;
    padding: 0.5rem 0;
}

.boton-salir-casos {
    background: transparent;
    color: var(--color-primario);
    border: 2px solid var(--color-primario);
    padding: 0.5rem 1rem;
    border-radius: 8px;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.2s ease;
}

.boton-salir-casos:hover {
    background: var(--color-primario);
    color: white;
}

.casos-progreso-texto {
    font-weight: 600;
    color: var(--color-primario);
}

.casos-stats {
    font-weight: 600;
    color: #22c55e;
    font-size: 1.1rem;
}

.casos-progreso-bar {
    height: 8px;
    background: var(--color-borde);
    border-radius: 4px;
    margin-bottom: 1.5rem;
    overflow: hidden;
}

.casos-progreso-fill {
    height: 100%;
    background: linear-gradient(90deg, var(--color-primario), var(--color-secundario));
    border-radius: 4px;
    transition: width 0.3s ease;
}

.caso-card {
    background: var(--color-fondo-tarjeta);
    border-radius: 16px;
    padding: 2rem;
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
}

.caso-header {
    margin-bottom: 1.5rem;
}

.caso-numero {
    background: linear-gradient(135deg, var(--color-primario), var(--color-secundario));
    color: white;
    padding: 0.3rem 0.8rem;
    border-radius: 20px;
    font-size: 0.8rem;
    font-weight: 600;
    display: inline-block;
}

.caso-titulo {
    margin: 0.8rem 0 0;
    font-size: 1.4rem;
    color: var(--color-texto);
}

.caso-narrativa {
    background: linear-gradient(135deg, #f0f9ff, #e0f2fe);
    border-left: 4px solid #0ea5e9;
    padding: 1.5rem;
    border-radius: 0 12px 12px 0;
    margin-bottom: 1.5rem;
    line-height: 1.7;
}

.caso-narrativa p {
    margin: 0;
    color: #0c4a6e;
}

.caso-pregunta {
    background: var(--color-fondo);
    padding: 1.5rem;
    border-radius: 12px;
}

.caso-pregunta .pregunta-numero {
    width: auto !important;
    height: auto !important;
    display: block !important;
    background: transparent !important;
    color: var(--color-texto-secundario) !important;
    font-size: 0.85rem;
    margin-bottom: 0.5rem;
    border-radius: 0 !important;
    padding: 0 !important;
}

.pregunta-texto {
    font-size: 1.1rem;
    font-weight: 600;
    color: var(--color-texto);
    margin-bottom: 1rem;
}

.caso-opciones {
    display: flex;
    flex-direction: column;
    gap: 0.8rem;
}

.caso-opcion-btn {
    background: white;
    border: 2px solid var(--color-borde);
    padding: 1rem 1.2rem;
    border-radius: 10px;
    text-align: left;
    font-size: 1rem;
    cursor: pointer;
    transition: all 0.2s ease;
}

.caso-opcion-btn:hover:not(:disabled) {
    border-color: var(--color-primario);
    background: linear-gradient(135deg, #f5f3ff, #ede9fe);
}

.caso-opcion-btn:disabled {
    cursor: default;
}

.caso-opcion-btn.correcta {
    border-color: #22c55e;
    background: linear-gradient(135deg, #dcfce7, #bbf7d0);
    color: #166534;
}

.caso-opcion-btn.incorrecta {
    border-color: #ef4444;
    background: linear-gradient(135deg, #fee2e2, #fecaca);
    color: #991b1b;
}

.caso-feedback {
    margin-top: 1rem;
    padding: 1.2rem;
    border-radius: 10px;
    background: var(--color-fondo-tarjeta);
}

.feedback-resultado {
    font-size: 1.2rem;
    font-weight: 700;
    margin-bottom: 0.8rem;
}

.feedback-resultado.correcto {
    color: #22c55e;
}

.feedback-resultado.incorrecto {
    color: #ef4444;
}

.feedback-explicacion {
    color: var(--color-texto-secundario);
    line-height: 1.6;
    margin-bottom: 1rem;
}

.boton-continuar-caso {
    background: linear-gradient(135deg, var(--color-primario), var(--color-secundario));
    color: white;
    border: none;
    padding: 0.8rem 1.5rem;
    border-radius: 8px;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.2s ease;
}

.boton-continuar-caso:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(139, 92, 246, 0.3);
}

.resultado-final-casos {
    text-align: center;
    padding: 2rem;
    background: var(--color-fondo-tarjeta);
    border-radius: 16px;
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
}

.resultado-final-casos .resultado-icono {
    font-size: 4rem;
    margin-bottom: 1rem;
}

.resultado-final-casos h3 {
    font-size: 1.6rem;
    margin-bottom: 1.5rem;
}

.resultado-final-casos.aprobado h3 {
    color: #22c55e;
}

.resultado-final-casos.desaprobado h3 {
    color: #ef4444;
}

.resultado-puntaje {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 0.5rem;
    margin-bottom: 1.5rem;
}

.resultado-puntaje .puntaje-numero {
    font-size: 3rem;
    font-weight: 700;
    background: linear-gradient(135deg, var(--color-primario), var(--color-secundario));
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
}

.resultado-puntaje .puntaje-estado {
    font-size: 1rem;
    font-weight: 600;
    padding: 0.3rem 1rem;
    border-radius: 20px;
}

.resultado-puntaje .puntaje-estado.aprobado {
    background: #dcfce7;
    color: #166534;
}

.resultado-puntaje .puntaje-estado.desaprobado {
    background: #fee2e2;
    color: #991b1b;
}

.resultado-detalle {
    color: var(--color-texto-secundario);
    margin-bottom: 1.5rem;
}

.resumen-casos {
    background: var(--color-fondo);
    padding: 1.5rem;
    border-radius: 12px;
    margin-bottom: 1.5rem;
    text-align: left;
}

.resumen-casos h4 {
    margin-bottom: 1rem;
    color: var(--color-texto);
}

.resumen-caso-item {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 0.8rem;
    background: var(--color-fondo-tarjeta);
    border-radius: 8px;
    margin-bottom: 0.5rem;
}

.resumen-caso-item .caso-nombre {
    font-weight: 500;
}

.resumen-caso-item .caso-resultado {
    font-weight: 700;
    padding: 0.2rem 0.6rem;
    border-radius: 6px;
}

.resumen-caso-item .caso-resultado.perfecto {
    background: #dcfce7;
    color: #166534;
}

.resumen-caso-item .caso-resultado.parcial {
    background: #fef3c7;
    color: #92400e;
}

.resumen-caso-item .caso-resultado.fallido {
    background: #fee2e2;
    color: #991b1b;
}

@media (max-width: 600px) {
    .casos-info {
        flex-direction: column;
        gap: 0.8rem;
    }
    
    .caso-card {
        padding: 1rem;
    }
    
    .caso-narrativa {
        padding: 1rem;
    }
}

/* ========================================
   BUSCADOR
======================================== */
.buscador-container {
    position: relative;
    flex: 1;
    max-width: 400px;
    margin: 0 1.5rem;
}

.buscador-input-wrapper {
    position: relative;
    display: flex;
    align-items: center;
}

.buscador-icono {
    position: absolute;
    left: 12px;
    font-size: 1rem;
    opacity: 0.6;
    pointer-events: none;
}

.buscador-input {
    width: 100%;
    padding: 0.6rem 2.5rem 0.6rem 2.5rem;
    border: 2px solid var(--color-borde);
    border-radius: 25px;
    font-size: 0.9rem;
    background: var(--color-fondo);
    color: var(--color-texto);
    transition: var(--transicion);
}

.buscador-input:focus {
    outline: none;
    border-color: var(--color-primario);
    box-shadow: 0 0 0 3px var(--color-glow);
}

.buscador-input::placeholder {
    color: var(--color-texto-claro);
    opacity: 0.7;
}

.buscador-cerrar {
    position: absolute;
    right: 10px;
    background: none;
    border: none;
    font-size: 1rem;
    cursor: pointer;
    color: var(--color-texto-claro);
    padding: 4px;
    border-radius: 50%;
    transition: var(--transicion);
}

.buscador-cerrar:hover {
    background: var(--color-borde);
    color: var(--color-texto);
}

.buscador-resultados {
    position: absolute;
    top: calc(100% + 8px);
    left: 0;
    right: 0;
    background: white;
    border-radius: 12px;
    box-shadow: 0 10px 40px rgba(0, 0, 0, 0.15);
    max-height: 400px;
    overflow-y: auto;
    z-index: 1000;
    border: 1px solid var(--color-borde);
}

body.modo-noche .buscador-resultados {
    background: var(--color-fondo-oscuro);
    border-color: var(--color-borde);
}

.buscador-resultados::-webkit-scrollbar {
    width: 6px;
}

.buscador-resultados::-webkit-scrollbar-thumb {
    background: var(--color-primario);
    border-radius: 3px;
}

.buscador-sin-resultados {
    padding: 2rem;
    text-align: center;
    color: var(--color-texto-claro);
}

.buscador-sin-resultados .icono {
    font-size: 2rem;
    margin-bottom: 0.5rem;
    opacity: 0.5;
}

.buscador-resultado-item {
    padding: 0.8rem 1rem;
    cursor: pointer;
    border-bottom: 1px solid var(--color-borde);
    transition: var(--transicion);
}

.buscador-resultado-item:last-child {
    border-bottom: none;
}

.buscador-resultado-item:hover {
    background: var(--color-primario-claro);
}

body.modo-noche .buscador-resultado-item:hover {
    background: rgba(124, 58, 237, 0.2);
}

.buscador-resultado-ubicacion {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    font-size: 0.75rem;
    color: var(--color-primario);
    font-weight: 600;
    margin-bottom: 0.3rem;
}

.buscador-resultado-modulo {
    background: var(--color-primario);
    color: white;
    padding: 2px 8px;
    border-radius: 10px;
    font-size: 0.7rem;
}

.buscador-resultado-seccion {
    color: var(--color-texto-claro);
}

.buscador-resultado-texto {
    font-size: 0.85rem;
    color: var(--color-texto);
    line-height: 1.4;
}

.buscador-resultado-texto mark {
    background: linear-gradient(120deg, #fef08a 0%, #fde047 100%);
    color: inherit;
    padding: 0 2px;
    border-radius: 2px;
}

body.modo-noche .buscador-resultado-texto mark {
    background: linear-gradient(120deg, #ca8a04 0%, #a16207 100%);
    color: white;
}

.buscador-resultado-contador {
    padding: 0.8rem 1rem;
    background: var(--color-primario-claro);
    font-size: 0.8rem;
    color: var(--color-primario);
    font-weight: 600;
    border-bottom: 1px solid var(--color-borde);
}

body.modo-noche .buscador-resultado-contador {
    background: rgba(124, 58, 237, 0.15);
}

/* Responsive */
@media (max-width: 768px) {
    .buscador-container {
        position: fixed;
        top: 60px;
        left: 0;
        right: 0;
        max-width: none;
        margin: 0;
        padding: 0.5rem;
        background: var(--color-fondo);
        border-bottom: 1px solid var(--color-borde);
        display: none;
        z-index: 999;
    }
    
    .buscador-container.activo {
        display: block;
    }
    
    .buscador-resultados {
        position: fixed;
        top: 110px;
        left: 0.5rem;
        right: 0.5rem;
        max-height: calc(100vh - 130px);
    }
    
    /* Agregar botón de búsqueda en navbar móvil */
    .boton-buscar-movil {
        display: flex;
    }
}

@media (min-width: 769px) {
    .boton-buscar-movil {
        display: none;
    }
}

/* Resaltado de búsqueda en contenido */
.resaltado-busqueda {
    background: linear-gradient(120deg, #fef08a 0%, #fde047 100%);
    color: inherit;
    padding: 2px 4px;
    border-radius: 3px;
    animation: pulso-resaltado 1s ease-in-out 3;
    box-shadow: 0 0 0 2px rgba(253, 224, 71, 0.5);
}

body.modo-noche .resaltado-busqueda {
    background: linear-gradient(120deg, #ca8a04 0%, #a16207 100%);
    color: white;
    box-shadow: 0 0 0 2px rgba(202, 138, 4, 0.5);
}

@keyframes pulso-resaltado {
    0%, 100% {
        box-shadow: 0 0 0 2px rgba(253, 224, 71, 0.5);
    }
    50% {
        box-shadow: 0 0 0 6px rgba(253, 224, 71, 0.3);
    }
}

@keyframes pulso-resaltado-noche {
    0%, 100% {
        box-shadow: 0 0 0 2px rgba(202, 138, 4, 0.5);
    }
    50% {
        box-shadow: 0 0 0 6px rgba(202, 138, 4, 0.3);
    }
}

body.modo-noche .resaltado-busqueda {
    animation-name: pulso-resaltado-noche;
}

/* Botón flotante para limpiar resaltado */
.boton-limpiar-resaltado {
    position: fixed;
    bottom: 20px;
    right: 20px;
    background: linear-gradient(135deg, #7c3aed, #6366f1);
    color: white;
    border: none;
    padding: 12px 20px;
    border-radius: 30px;
    font-size: 0.9rem;
    font-weight: 500;
    cursor: pointer;
    box-shadow: 0 4px 20px rgba(124, 58, 237, 0.4);
    z-index: 1000;
    display: flex;
    align-items: center;
    gap: 8px;
    transition: all 0.3s ease;
    animation: aparecer-boton 0.3s ease;
}

@keyframes aparecer-boton {
    from {
        opacity: 0;
        transform: translateY(20px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

.boton-limpiar-resaltado:hover {
    transform: translateY(-2px);
    box-shadow: 0 6px 25px rgba(124, 58, 237, 0.5);
}

.cantidad-resaltados {
    background: rgba(255, 255, 255, 0.2);
    padding: 2px 8px;
    border-radius: 12px;
    font-weight: 700;
}

.cerrar-resaltado {
    background: rgba(255, 255, 255, 0.2);
    padding: 4px 10px;
    border-radius: 15px;
    margin-left: 5px;
    transition: background 0.2s;
}

.boton-limpiar-resaltado:hover .cerrar-resaltado {
    background: rgba(255, 255, 255, 0.3);
}

/* Mejorar el resaltado */
.resaltado-busqueda {
    background: linear-gradient(120deg, #fef08a 0%, #fde047 100%) !important;
    color: #1f2937 !important;
    padding: 2px 4px;
    border-radius: 3px;
    animation: pulso-resaltado 0.8s ease-in-out 2;
    box-shadow: 0 0 0 2px rgba(253, 224, 71, 0.5);
}

body.modo-noche .resaltado-busqueda {
    background: linear-gradient(120deg, #eab308 0%, #ca8a04 100%) !important;
    color: #1f2937 !important;
}

@media (max-width: 768px) {
    .boton-limpiar-resaltado {
        bottom: 70px;
        right: 10px;
        font-size: 0.8rem;
        padding: 10px 15px;
    }
}

/* ===== PANEL DE ADMINISTRACIÓN (SIEMPRE MODO LIGHT) ===== */

.modal-admin {
    position: fixed;
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh;
    background: rgba(0, 0, 0, 0.85);
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 10000;
    animation: fadeIn 0.3s ease;
}

.contenedor-admin {
    background: #ffffff;
    border-radius: 16px;
    max-width: 95vw;
    max-height: 95vh;
    width: 1200px;
    box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
    overflow: hidden;
    display: flex;
    flex-direction: column;
}

/* Forzar modo light en todo el panel admin */
.modal-admin,
.modal-admin * {
    color-scheme: light;
}

/* Login Admin */
.login-admin {
    padding: 3rem;
    text-align: center;
    position: relative;
    background: #ffffff;
}

.header-login-admin {
    margin-bottom: 2rem;
}

.icono-admin {
    font-size: 4rem;
    margin-bottom: 1rem;
}

.header-login-admin h2 {
    margin: 0 0 0.5rem 0;
    color: #1f2937;
}

.header-login-admin p {
    color: #6b7280;
}

.form-login-admin {
    max-width: 400px;
    margin: 0 auto;
}

.form-login-admin label {
    display: block;
    text-align: left;
    margin-bottom: 0.5rem;
    font-weight: 600;
    color: #1f2937;
}

.form-login-admin input {
    width: 100%;
    padding: 0.75rem 1rem;
    border: 2px solid #e5e7eb;
    border-radius: 8px;
    font-size: 1rem;
    margin-bottom: 1rem;
    background: #ffffff;
    color: #1f2937;
}

.boton-login-admin {
    width: 100%;
    padding: 0.875rem 1.5rem;
    background: var(--color-primario);
    color: white;
    border: none;
    border-radius: 8px;
    font-size: 1rem;
    font-weight: 600;
    cursor: pointer;
    transition: var(--transicion);
}

.boton-login-admin:hover {
    background: #6d28d9;
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(124, 58, 237, 0.3);
}

.error-login-admin {
    color: #ef4444;
    margin-top: 1rem;
    padding: 0.75rem;
    background: #fee2e2;
    border-radius: 8px;
}

/* Panel Admin Principal */
.panel-admin {
    display: flex;
    flex-direction: column;
    height: 95vh;
}

.header-panel-admin {
    padding: 1.5rem 2rem;
    background: linear-gradient(135deg, var(--color-primario), #0ea5e9);
    color: white;
    display: flex;
    justify-content: space-between;
    align-items: center;
    flex-shrink: 0;
}

.header-panel-admin h2 {
    margin: 0;
    font-size: 1.5rem;
}

.acciones-header-admin {
    display: flex;
    gap: 0.75rem;
}

.boton-admin {
    padding: 0.625rem 1.25rem;
    border: none;
    border-radius: 8px;
    font-size: 0.9rem;
    font-weight: 600;
    cursor: pointer;
    transition: var(--transicion);
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
}

.boton-exportar {
    background: #10b981;
    color: white;
}

.boton-exportar:hover {
    background: #059669;
}

.boton-importar {
    background: #3b82f6;
    color: white;
}

.boton-importar:hover {
    background: #2563eb;
}

.boton-cerrar-panel {
    background: rgba(255, 255, 255, 0.2);
    color: white;
    border: 2px solid rgba(255, 255, 255, 0.3);
}

.boton-cerrar-panel:hover {
    background: rgba(255, 255, 255, 0.3);
}

/* Tabs */
.tabs-admin {
    display: flex;
    background: #f9fafb;
    border-bottom: 2px solid #e5e7eb;
    padding: 0 2rem;
    flex-shrink: 0;
}

.tab-admin {
    padding: 1rem 1.5rem;
    border: none;
    background: transparent;
    color: #6b7280;
    font-size: 1rem;
    font-weight: 600;
    cursor: pointer;
    position: relative;
    transition: var(--transicion);
}

.tab-admin:hover {
    color: #1f2937;
    background: rgba(124, 58, 237, 0.1);
}

.tab-admin.activa {
    color: #7c3aed;
}

.tab-admin.activa::after {
    content: '';
    position: absolute;
    bottom: -2px;
    left: 0;
    right: 0;
    height: 3px;
    background: var(--color-primario);
}

/* Contenido Tabs */
.contenido-tabs-admin {
    flex: 1;
    overflow-y: auto;
    padding: 2rem;
    background: #ffffff;
}

.contenido-tab-admin {
    display: none;
}

.contenido-tab-admin.activo {
    display: block;
}

/* Toolbar */
.toolbar-admin {
    margin-bottom: 1.5rem;
    display: flex;
    gap: 1rem;
}

.boton-agregar {
    background: var(--color-primario);
    color: white;
}

.boton-agregar:hover {
    background: #6d28d9;
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(124, 58, 237, 0.3);
}

/* Lista de Módulos Admin */
.lista-modulos-admin,
.lista-insignias-admin {
    display: grid;
    gap: 1rem;
}

.item-modulo-admin,
.item-insignia-admin {
    background: #f9fafb;
    border: 2px solid #e5e7eb;
    border-radius: 12px;
    padding: 1.5rem;
    display: flex;
    justify-content: space-between;
    align-items: center;
    transition: var(--transicion);
}

.item-modulo-admin:hover,
.item-insignia-admin:hover {
    border-color: #7c3aed;
    box-shadow: 0 4px 12px rgba(124, 58, 237, 0.2);
    background: #ffffff;
}

.info-modulo-admin,
.info-insignia-admin {
    display: flex;
    align-items: center;
    gap: 1rem;
    flex: 1;
}

.icono-modulo-admin,
.icono-insignia-admin {
    font-size: 2.5rem;
    width: 60px;
    height: 60px;
    display: flex;
    align-items: center;
    justify-content: center;
    background: #ede9fe;
    border-radius: 12px;
}

.texto-modulo-admin h4,
.texto-insignia-admin h4 {
    margin: 0 0 0.25rem 0;
    color: #1f2937;
}

.texto-modulo-admin p,
.texto-insignia-admin p {
    margin: 0;
    color: #6b7280;
    font-size: 0.9rem;
}

.texto-insignia-admin small {
    display: block;
    margin-top: 0.25rem;
    color: #6b7280;
    font-size: 0.85rem;
}

.acciones-modulo-admin,
.acciones-insignia-admin {
    display: flex;
    gap: 0.5rem;
    align-items: center;
}

.botones-orden-modulo {
    display: flex;
    flex-direction: column;
    gap: 2px;
    margin-right: 0.5rem;
}

.btn-orden-modulo {
    width: 24px;
    height: 18px;
    padding: 0;
    border: none;
    border-radius: 4px;
    font-size: 0.7rem;
    cursor: pointer;
    transition: var(--transicion);
    display: flex;
    align-items: center;
    justify-content: center;
    background: #f3f4f6;
    color: #6b7280;
}

.btn-orden-modulo:hover:not(.disabled) {
    background: #7c3aed;
    color: white;
}

.btn-orden-modulo.disabled {
    opacity: 0.3;
    cursor: not-allowed;
}

.boton-duplicar {
    background: rgba(14, 165, 233, 0.1);
    color: #0ea5e9;
}

.boton-duplicar:hover {
    background: #0ea5e9;
    color: white;
}

.boton-admin-pequeno {
    padding: 0.5rem 1rem;
    border: none;
    border-radius: 6px;
    font-size: 0.85rem;
    font-weight: 600;
    cursor: pointer;
    transition: var(--transicion);
}

.boton-editar {
    background: #3b82f6;
    color: white;
}

.boton-editar:hover {
    background: #2563eb;
}

.boton-eliminar {
    background: #fee2e2;
    color: #dc2626;
    font-weight: bold;
    font-size: 1.1rem;
    width: 38px;
    height: 38px;
    padding: 0;
    display: flex;
    align-items: center;
    justify-content: center;
    border: 2px solid #fecaca;
}

.boton-eliminar:hover {
    background: #dc2626;
    color: white;
    border-color: #dc2626;
}

/* Editor Modal */
.modal-editor-admin {
    position: fixed;
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh;
    background: rgba(0, 0, 0, 0.85);
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 11000;
    animation: fadeIn 0.3s ease;
}

.editor-modulo-admin,
.editor-insignia-admin {
    background: #ffffff;
    border-radius: 16px;
    width: 90%;
    max-width: 800px;
    max-height: 90vh;
    overflow-y: auto;
    box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
    position: relative;
}

/* El modal debe contener correctamente la galería */
.modal-editor-modulo {
    position: fixed !important;
}

.header-editor {
    padding: 1.5rem 2rem;
    background: var(--color-primario);
    color: white;
    display: flex;
    justify-content: space-between;
    align-items: center;
    position: sticky;
    top: 0;
    z-index: 10;
}

.header-editor h3 {
    margin: 0;
}

.form-editor {
    padding: 2rem;
    background: #ffffff;
}

.campo-editor {
    margin-bottom: 1.25rem;
    width: 100%;
    max-width: 100%;
    box-sizing: border-box;
    overflow: hidden;
}

.campo-editor label {
    display: block;
    margin-bottom: 0.5rem;
    font-weight: 600;
    color: #1f2937;
    font-size: 0.85rem;
}

.ayuda-campo {
    font-size: 0.85rem;
    color: #6b7280;
    margin-bottom: 0.5rem;
}

.input-admin,
.textarea-admin,
.select-admin {
    width: 100%;
    max-width: 100%;
    padding: 0.75rem;
    border: 2px solid #e5e7eb;
    border-radius: 8px;
    font-size: 0.9rem;
    font-family: inherit;
    background: #ffffff;
    color: #1f2937;
    transition: var(--transicion);
    box-sizing: border-box;
}

.input-admin:focus,
.textarea-admin:focus,
.select-admin:focus {
    outline: none;
    border-color: #7c3aed;
    box-shadow: 0 0 0 3px rgba(124, 58, 237, 0.1);
}

.textarea-admin {
    resize: vertical;
    min-height: 150px;
    font-family: 'Courier New', monospace;
}

.acciones-editor {
    display: flex;
    gap: 1rem;
    padding-top: 1rem;
    border-top: 2px solid #e5e7eb;
}

.boton-guardar {
    background: #10b981;
    color: white;
    flex: 1;
}

.boton-guardar:hover {
    background: #059669;
}

.boton-cancelar {
    background: #e5e7eb;
    color: #1f2937;
    flex: 1;
}

.boton-cancelar:hover {
    background: #d1d5db;
}

/* Selector de Módulo para Evaluaciones */
.selector-modulo-eval {
    margin-bottom: 2rem;
    padding: 1.5rem;
    background: #f9fafb;
    border-radius: 12px;
    border: 2px solid #e5e7eb;
}

.selector-modulo-eval label {
    display: block;
    margin-bottom: 0.75rem;
    font-weight: 600;
    color: #1f2937;
}

/* Editor de Evaluación */
.editor-evaluacion-admin {
    min-height: 300px;
}

.texto-placeholder {
    text-align: center;
    color: #6b7280;
    padding: 3rem;
    font-size: 1.1rem;
}

.crear-evaluacion {
    text-align: center;
    padding: 2rem;
    background: #ffffff;
}

.crear-evaluacion h3 {
    margin-top: 0;
    color: #1f2937;
}

.opciones-tipo-eval {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 1rem;
    margin-top: 1.5rem;
}

.boton-tipo-eval {
    padding: 1.5rem;
    background: #f9fafb;
    border: 2px solid #e5e7eb;
    border-radius: 12px;
    font-size: 1rem;
    font-weight: 600;
    cursor: pointer;
    transition: var(--transicion);
    color: #1f2937;
}

.boton-tipo-eval:hover {
    border-color: #7c3aed;
    background: #ede9fe;
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(124, 58, 237, 0.2);
}

.editor-eval-completo {
    background: #f9fafb;
    border-radius: 12px;
    padding: 2rem;
    border: 2px solid #e5e7eb;
}

.editor-eval-completo h3 {
    margin-top: 0;
    color: #1f2937;
}

.tipo-eval-badge {
    display: inline-block;
    padding: 0.5rem 1rem;
    background: #7c3aed;
    color: white;
    border-radius: 20px;
    font-size: 0.85rem;
    font-weight: 600;
    margin-bottom: 1.5rem;
}

.form-eval-basico {
    display: grid;
    gap: 1rem;
    margin-bottom: 1.5rem;
}

/* Lista de Items de Evaluación */
.lista-items-eval {
    display: grid;
    gap: 1rem;
    margin-top: 1rem;
}

.item-eval-card {
    background: #ffffff;
    border: 2px solid #e5e7eb;
    border-radius: 8px;
    padding: 1rem;
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.item-eval-card h5 {
    margin: 0 0 0.25rem 0;
    color: #1f2937;
}

.item-eval-card p {
    margin: 0;
    color: #6b7280;
    font-size: 0.9rem;
}

.lista-letras-pasapalabra {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(80px, 1fr));
    gap: 1rem;
}

.item-letra-pp {
    aspect-ratio: 1;
    background: #ffffff;
    border: 2px solid #e5e7eb;
    border-radius: 12px;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    gap: 0.5rem;
    padding: 0.5rem;
}

.letra-grande-pp {
    font-size: 2rem;
    font-weight: bold;
    color: #7c3aed;
}

.alerta-editor-json {
    margin-top: 2rem;
    padding: 1rem 1.5rem;
    background: #fef3c7;
    border-left: 4px solid #f59e0b;
    border-radius: 8px;
}

.alerta-editor-json p {
    margin: 0;
    color: #78350f;
}

/* Ayuda */
.ayuda-admin {
    max-width: 800px;
    margin: 0 auto;
}

.ayuda-admin h3 {
    color: #1f2937;
    margin-bottom: 1.5rem;
}

.seccion-ayuda {
    background: #f9fafb;
    border-radius: 12px;
    padding: 1.5rem;
    margin-bottom: 1.5rem;
    border: 2px solid #e5e7eb;
}

.seccion-ayuda h4 {
    margin-top: 0;
    color: #1f2937;
}

.seccion-ayuda p,
.seccion-ayuda li {
    color: #374151;
    line-height: 1.6;
}

.seccion-ayuda ul {
    padding-left: 1.5rem;
}

.seccion-ayuda kbd {
    display: inline-block;
    padding: 0.25rem 0.5rem;
    background: #ffffff;
    border: 2px solid #e5e7eb;
    border-radius: 4px;
    font-family: 'Courier New', monospace;
    font-size: 0.9em;
    color: #1f2937;
}

.seccion-ayuda code {
    background: #ffffff;
    padding: 0.25rem 0.5rem;
    border-radius: 4px;
    font-family: 'Courier New', monospace;
    color: #7c3aed;
    border: 1px solid #e5e7eb;
}

.alerta-importante {
    border-left: 4px solid #ef4444;
    background: linear-gradient(to right, #fee2e2, var(--color-fondo-oscuro));
}

.alerta-importante h4 {
    color: #dc2626;
}

/* Responsive */
@media (max-width: 768px) {
    .contenedor-admin {
        max-width: 100vw;
        max-height: 100vh;
        border-radius: 0;
    }
    
    .header-panel-admin {
        flex-direction: column;
        gap: 1rem;
        align-items: flex-start;
    }
    
    .acciones-header-admin {
        width: 100%;
        flex-wrap: wrap;
    }
    
    .tabs-admin {
        overflow-x: auto;
        padding: 0 1rem;
    }
    
    .tab-admin {
        white-space: nowrap;
    }
    
    .contenido-tabs-admin {
        padding: 1rem;
    }
    
    .opciones-tipo-eval {
        grid-template-columns: 1fr;
    }
    
    .lista-letras-pasapalabra {
        grid-template-columns: repeat(auto-fill, minmax(60px, 1fr));
    }
    
    .acciones-editor {
        flex-direction: column;
    }
}

/* IMPORTANTE: El panel admin siempre está en modo light, sin importar el modo de la app */

/* ===== EDITOR VISUAL DE CONTENIDO ===== */

.editor-visual {
    max-width: 100vw !important;
    width: 100vw !important;
    max-height: 100vh !important;
    border-radius: 0 !important;
}

.editor-visual .header-editor {
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.header-editor-acciones {
    display: flex;
    gap: 0.75rem;
    align-items: center;
}

.contenido-editor-visual {
    display: grid;
    grid-template-columns: 400px 1fr;
    height: calc(100vh - 100px);
    overflow: hidden;
}

/* Panel Lateral */
.panel-lateral-editor {
    background: #f9fafb;
    border-right: 2px solid #e5e7eb;
    overflow-y: auto;
    overflow-x: hidden;
    padding: 1.5rem;
}

.panel-lateral-editor * {
    box-sizing: border-box;
    max-width: 100%;
}

.seccion-panel {
    margin-bottom: 2rem;
}

.seccion-panel h4 {
    margin-top: 0;
    margin-bottom: 1rem;
    color: #1f2937;
    font-size: 1rem;
}

.texto-ayuda-pequeño {
    font-size: 0.8rem;
    color: #6b7280;
    line-height: 1.4;
    margin-bottom: 0.75rem;
    word-wrap: break-word;
}

/* Selector de Emoji */
.selector-emoji {
    position: relative;
}

.input-emoji {
    text-align: center;
    font-size: 2rem;
    padding: 0.5rem;
}

.sugerencias-emoji {
    display: grid;
    grid-template-columns: repeat(5, 1fr);
    gap: 0.5rem;
    margin-top: 0.75rem;
}

.emoji-sugerido {
    aspect-ratio: 1;
    border: 2px solid #e5e7eb;
    border-radius: 6px;
    background: #ffffff;
    font-size: 1.4rem;
    cursor: pointer;
    transition: var(--transicion);
    padding: 0.4rem;
    display: flex;
    align-items: center;
    justify-content: center;
    box-sizing: border-box;
    width: 100%;
}

.emoji-sugerido:hover {
    border-color: #7c3aed;
    background: #ede9fe;
    transform: scale(1.05);
}

.emoji-sugerido:active {
    transform: scale(0.95);
}

/* Preview de Secciones */
.lista-secciones-preview {
    max-height: 300px;
    overflow-y: auto;
}

.item-seccion-preview {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.5rem;
    background: #ffffff;
    border-radius: 6px;
    margin-bottom: 0.5rem;
    border: 1px solid #e5e7eb;
}

.icono-seccion-preview {
    font-size: 1.2rem;
}

.texto-seccion-preview {
    flex: 1;
    font-size: 0.9rem;
    color: #1f2937;
}

.texto-seccion-preview.principal {
    font-weight: 600;
}

.texto-seccion-preview.sub {
    font-size: 0.85rem;
    padding-left: 0.5rem;
    color: #6b7280;
}

/* Panel Principal - Editor */
.panel-principal-editor {
    display: flex;
    flex-direction: column;
    background: #ffffff;
    overflow: hidden;
}

.toolbar-editor {
    display: flex;
    align-items: center;
    gap: 0.25rem;
    padding: 0.75rem 1rem;
    background: #f9fafb;
    border-bottom: 2px solid #e5e7eb;
    flex-wrap: wrap;
}

.btn-toolbar {
    padding: 0.5rem 0.75rem;
    border: 1px solid #e5e7eb;
    border-radius: 6px;
    background: #ffffff;
    color: #1f2937;
    cursor: pointer;
    transition: var(--transicion);
    font-size: 0.9rem;
    min-width: 36px;
    display: flex;
    align-items: center;
    justify-content: center;
}

.btn-toolbar:hover {
    background: #ede9fe;
    border-color: #7c3aed;
    color: #7c3aed;
}

.btn-toolbar:active {
    transform: scale(0.95);
}

.separador-toolbar {
    width: 1px;
    height: 24px;
    background: #e5e7eb;
    margin: 0 0.5rem;
}

.select-toolbar {
    padding: 0.5rem 0.75rem;
    border: 1px solid #e5e7eb;
    border-radius: 6px;
    background: #ffffff;
    color: #1f2937;
    cursor: pointer;
    transition: var(--transicion);
    font-size: 0.85rem;
    min-width: 180px;
}

.select-toolbar:hover {
    background: #ede9fe;
    border-color: #7c3aed;
}

.select-toolbar:focus {
    outline: none;
    border-color: #7c3aed;
    box-shadow: 0 0 0 3px rgba(124, 58, 237, 0.1);
}

.select-color,
.select-size {
    min-width: 120px;
}

.contenedor-editor-contenido {
    flex: 1;
    overflow-y: auto;
    padding: 2rem;
    background: #f3f4f6;
    position: relative;
}

.editor-contenido-visual {
    min-height: 100%;
    background: #ffffff;
    border: 2px solid #e5e7eb;
    border-radius: 12px;
    padding: 2rem;
    outline: none;
    color: #1f2937;
    line-height: 1.6;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
}

.editor-contenido-visual:focus {
    border-color: #7c3aed;
    box-shadow: 0 0 0 3px rgba(124, 58, 237, 0.1), 0 2px 8px rgba(0, 0, 0, 0.05);
}

.editor-contenido-visual h2 {
    color: #1f2937;
    margin-top: 2rem;
    margin-bottom: 1rem;
    padding-bottom: 0.5rem;
    border-bottom: 2px solid #e5e7eb;
}

.editor-contenido-visual h3 {
    color: #374151;
    margin-top: 1.5rem;
    margin-bottom: 0.75rem;
}

.editor-contenido-visual p {
    margin-bottom: 1rem;
    color: #374151;
}

.editor-contenido-visual ul,
.editor-contenido-visual ol {
    margin-left: 2rem;
    margin-bottom: 1rem;
}

.editor-contenido-visual li {
    margin-bottom: 0.5rem;
    color: #374151;
}

.editor-contenido-visual strong {
    font-weight: 600;
    color: #1f2937;
}

.editor-contenido-visual .concepto-destacado {
    background: linear-gradient(135deg, #ede9fe, #f3e8ff);
    border-left: 4px solid #7c3aed;
    border-radius: 12px;
    padding: 1.5rem;
    margin: 1.5rem 0;
}

.editor-contenido-visual .titulo-bienvenida {
    font-weight: 700;
    color: #7c3aed;
    margin-bottom: 0.5rem;
}

.editor-contenido-visual table {
    width: 100%;
    border-collapse: collapse;
    margin: 1.5rem 0;
}

.editor-contenido-visual table th,
.editor-contenido-visual table td {
    border: 1px solid #d1d5db;
    padding: 0.75rem;
    text-align: left;
}

.editor-contenido-visual table th {
    background: #ede9fe;
    font-weight: 600;
    color: #7c3aed;
}

.editor-contenido-visual img {
    max-width: 100%;
    height: auto;
    border-radius: 12px;
    margin: 1rem 0;
}

.editor-contenido-visual .espacio-editable {
    min-height: 1.5rem;
    cursor: text;
}

.editor-contenido-visual .espacio-editable:hover {
    background: rgba(124, 58, 237, 0.05);
    outline: 1px dashed #e5e7eb;
}

.btn-espacio {
    background: #10b981 !important;
    color: white !important;
}

.btn-espacio:hover {
    background: #059669 !important;
    border-color: #10b981 !important;
}

.btn-galeria-elementos {
    background: linear-gradient(135deg, #7c3aed, #a855f7) !important;
    color: white !important;
    font-weight: 600;
    padding: 6px 16px !important;
}

.btn-galeria-elementos:hover {
    background: linear-gradient(135deg, #6d28d9, #9333ea) !important;
    transform: translateY(-1px);
}

/* ========== GALERÍA DE ELEMENTOS ========== */
.galeria-overlay-interno {
    position: fixed;
    inset: 0;
    background: rgba(0, 0, 0, 0.9);
    z-index: 12000;
    display: flex;
    align-items: center;
    justify-content: center;
    animation: fadeIn 0.2s ease;
    backdrop-filter: blur(4px);
}

.galeria-overlay-interno.cerrando {
    animation: fadeOut 0.2s ease forwards;
}

@keyframes fadeIn {
    from { opacity: 0; }
    to { opacity: 1; }
}

@keyframes fadeOut {
    from { opacity: 1; }
    to { opacity: 0; }
}

.galeria-modal {
    background: #fff;
    border-radius: 16px;
    width: 95%;
    max-width: 1200px;
    max-height: 90vh;
    display: flex;
    flex-direction: column;
    box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
    animation: slideUp 0.3s ease;
}

@keyframes slideUp {
    from { transform: translateY(30px); opacity: 0; }
    to { transform: translateY(0); opacity: 1; }
}

.galeria-header {
    padding: 1.5rem 2rem;
    background: linear-gradient(135deg, #7c3aed, #a855f7);
    color: white;
    border-radius: 16px 16px 0 0;
    position: relative;
}

.galeria-header h2 {
    margin: 0 0 0.25rem 0;
    font-size: 1.5rem;
}

.galeria-header p {
    margin: 0;
    opacity: 0.9;
    font-size: 0.9rem;
}

.btn-cerrar-galeria {
    position: absolute;
    top: 1rem;
    right: 1rem;
    background: rgba(255, 255, 255, 0.2);
    border: none;
    color: white;
    width: 36px;
    height: 36px;
    border-radius: 50%;
    font-size: 1.2rem;
    cursor: pointer;
    transition: all 0.2s;
}

.btn-cerrar-galeria:hover {
    background: rgba(255, 255, 255, 0.3);
    transform: scale(1.1);
}

.galeria-busqueda {
    padding: 1rem 2rem;
    background: #f9fafb;
    border-bottom: 1px solid #e5e7eb;
}

.galeria-busqueda input {
    width: 100%;
    padding: 12px 16px;
    border: 2px solid #e5e7eb;
    border-radius: 10px;
    font-size: 1rem;
    transition: border-color 0.2s;
}

.galeria-busqueda input:focus {
    outline: none;
    border-color: #7c3aed;
}

.galeria-contenido {
    flex: 1;
    overflow-y: auto;
    padding: 1.5rem 2rem;
}

.galeria-categoria {
    margin-bottom: 2rem;
}

.galeria-categoria-titulo {
    font-size: 1rem;
    font-weight: 700;
    color: #374151;
    margin: 0 0 1rem 0;
    padding-bottom: 0.5rem;
    border-bottom: 2px solid #e5e7eb;
    display: flex;
    align-items: center;
    gap: 0.5rem;
}

.galeria-categoria-titulo::before {
    content: '';
    width: 4px;
    height: 1.2em;
    background: #7c3aed;
    border-radius: 2px;
}

.galeria-elementos-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
    gap: 1rem;
}

.galeria-elemento-card {
    background: #fff;
    border: 2px solid #e5e7eb;
    border-radius: 12px;
    overflow: hidden;
    cursor: pointer;
    transition: all 0.2s;
}

.galeria-elemento-card:hover {
    border-color: #7c3aed;
    box-shadow: 0 8px 20px rgba(124, 58, 237, 0.15);
    transform: translateY(-2px);
}

.galeria-elemento-preview {
    padding: 1rem;
    background: #f9fafb;
    min-height: 80px;
    max-height: 150px;
    overflow: hidden;
    border-bottom: 1px solid #e5e7eb;
    font-size: 0.7rem;
    transform: scale(0.85);
    transform-origin: top left;
    pointer-events: none;
}

/* Hacer que los elementos de preview sean más pequeños */
.galeria-elemento-preview * {
    font-size: inherit !important;
    margin: 0.25em 0 !important;
    padding: 0.25em !important;
}

.galeria-elemento-preview .tipos-grid,
.galeria-elemento-preview .concepto-vs {
    display: flex !important;
    gap: 0.5rem !important;
}

.galeria-elemento-preview table {
    font-size: 0.65rem !important;
}

.galeria-elemento-preview .tipo-icono {
    font-size: 1rem !important;
}

.galeria-elemento-info {
    padding: 0.75rem 1rem;
    display: flex;
    flex-direction: column;
    gap: 0.25rem;
}

.galeria-elemento-info strong {
    font-size: 0.9rem;
    color: #1f2937;
}

.galeria-elemento-info span {
    font-size: 0.75rem;
    color: #6b7280;
}

.galeria-footer {
    padding: 1rem 2rem;
    background: #f9fafb;
    border-top: 1px solid #e5e7eb;
    border-radius: 0 0 16px 16px;
    display: flex;
    gap: 1rem;
    justify-content: flex-end;
}

/* Responsive */
@media (max-width: 768px) {
    .galeria-modal {
        width: 100%;
        max-height: 100vh;
        border-radius: 0;
    }
    
    .galeria-header {
        border-radius: 0;
    }
    
    .galeria-elementos-grid {
        grid-template-columns: 1fr;
    }
    
    .galeria-contenido {
        padding: 1rem;
    }
}

/* Ayuda flotante temporal */
.ayuda-editor-flotante {
    position: absolute;
    bottom: 1rem;
    left: 50%;
    transform: translateX(-50%);
    background: linear-gradient(135deg, #fef3c7, #fde68a);
    color: #78350f;
    padding: 0.75rem 2.5rem 0.75rem 1rem;
    border-radius: 10px;
    font-size: 0.85rem;
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.15);
    z-index: 100;
    animation: slideUpFade 0.3s ease;
    white-space: nowrap;
}

.ayuda-editor-flotante.desvaneciendo {
    animation: fadeOutDown 0.5s ease forwards;
}

@keyframes slideUpFade {
    from {
        opacity: 0;
        transform: translateX(-50%) translateY(20px);
    }
    to {
        opacity: 1;
        transform: translateX(-50%) translateY(0);
    }
}

@keyframes fadeOutDown {
    from {
        opacity: 1;
        transform: translateX(-50%) translateY(0);
    }
    to {
        opacity: 0;
        transform: translateX(-50%) translateY(20px);
    }
}

.btn-cerrar-ayuda-flotante {
    position: absolute;
    top: 50%;
    right: 0.5rem;
    transform: translateY(-50%);
    background: transparent;
    border: none;
    color: #92400e;
    cursor: pointer;
    font-size: 1rem;
    padding: 0.25rem;
    opacity: 0.6;
    transition: opacity 0.2s;
}

.btn-cerrar-ayuda-flotante:hover {
    opacity: 1;
}

.ayuda-editor {
    padding: 1rem 2rem;
    background: #fef3c7;
    border-top: 2px solid #f59e0b;
    color: #78350f;
    font-size: 0.85rem;
    line-height: 1.6;
}

/* El editor visual siempre está en modo light para mejor legibilidad */

/* ===== HEADER MEJORADO DEL EDITOR ===== */

.header-editor-mejorado {
    background: linear-gradient(135deg, #7c3aed, #0ea5e9);
    padding: 1.5rem 2rem;
    display: flex;
    justify-content: space-between;
    align-items: center;
    color: white;
    border-bottom: none;
}

.titulo-header-editor h3 {
    margin: 0;
    font-size: 1.5rem;
    color: white;
}

.subtitulo-editor {
    margin: 0.25rem 0 0 0;
    font-size: 0.9rem;
    opacity: 0.9;
    color: white;
}

.acciones-header-editor {
    display: flex;
    gap: 1rem;
}

.boton-guardar-grande,
.boton-cerrar-grande {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.75rem 1.5rem;
    border: none;
    border-radius: 8px;
    font-size: 1rem;
    font-weight: 600;
    cursor: pointer;
    transition: var(--transicion);
}

.boton-guardar-grande {
    background: #10b981;
    color: white;
}

.boton-guardar-grande:hover {
    background: #059669;
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(16, 185, 129, 0.3);
}

.boton-cerrar-grande {
    background: rgba(255, 255, 255, 0.2);
    color: white;
    border: 2px solid rgba(255, 255, 255, 0.3);
}

.boton-cerrar-grande:hover {
    background: rgba(255, 255, 255, 0.3);
}

.icono-btn {
    font-size: 1.2rem;
}

.texto-btn {
    font-size: 0.95rem;
}

/* ===== PANEL LATERAL ANCHO ===== */

.panel-lateral-ancho {
    min-width: 400px !important;
    max-width: 400px !important;
    width: 400px !important;
}

.seccion-panel {
    background: #ffffff;
    border-radius: 12px;
    padding: 1.25rem;
    margin-bottom: 1rem;
    border: 2px solid #e5e7eb;
    width: 100%;
    box-sizing: border-box;
    overflow: hidden;
}

.header-seccion-panel {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 0.75rem;
    width: 100%;
}

.header-seccion-panel h4 {
    margin: 0;
    font-size: 1rem;
}

.boton-modo-edicion {
    padding: 0.5rem 1rem;
    background: #7c3aed;
    color: white;
    border: none;
    border-radius: 6px;
    font-size: 0.85rem;
    font-weight: 600;
    cursor: pointer;
    transition: var(--transicion);
}

.boton-modo-edicion:hover {
    background: #6d28d9;
}

.boton-modo-edicion.modo-activo {
    background: #10b981;
}

/* ===== SELECTOR DE EMOJI MEJORADO ===== */

.selector-emoji-mejorado {
    text-align: center;
    width: 100%;
}

.input-emoji-grande {
    width: 100%;
    max-width: 100%;
    text-align: center;
    font-size: 2.5rem !important;
    padding: 0.75rem !important;
    border: 3px dashed #e5e7eb !important;
    background: #f9fafb !important;
    cursor: not-allowed;
    margin-bottom: 0.75rem;
    box-sizing: border-box;
}

.sugerencias-emoji-grid {
    display: grid;
    grid-template-columns: repeat(5, 1fr);
    gap: 0.5rem;
    margin-top: 0;
    width: 100%;
    box-sizing: border-box;
}

/* ===== INSIGNIA VINCULADA PREVIEW ===== */

.preview-insignia-vinculada {
    text-align: center;
    width: 100%;
}

.insignia-preview-card {
    background: linear-gradient(135deg, #ede9fe, #f3e8ff);
    border-radius: 12px;
    padding: 1rem;
    margin-bottom: 1rem;
    text-align: center;
    width: 100%;
    max-width: 100%;
    box-sizing: border-box;
    overflow: hidden;
}

.emoji-insignia-grande {
    font-size: 2.5rem;
    display: block;
    margin-bottom: 0.5rem;
}

.info-insignia-preview {
    width: 100%;
}

.info-insignia-preview strong {
    display: block;
    color: #7c3aed;
    font-size: 1rem;
    margin-bottom: 0.5rem;
    word-wrap: break-word;
}

.info-insignia-preview p {
    margin: 0;
    color: #6b7280;
    font-size: 0.85rem;
    line-height: 1.4;
    word-wrap: break-word;
}

.boton-editar-insignia-inline {
    width: 100%;
    max-width: 100%;
    padding: 0.65rem;
    background: #7c3aed;
    color: white;
    border: none;
    border-radius: 8px;
    font-weight: 600;
    cursor: pointer;
    transition: var(--transicion);
    font-size: 0.85rem;
    box-sizing: border-box;
}

.boton-editar-insignia-inline:hover {
    background: #6d28d9;
    transform: translateY(-1px);
}

/* ===== SECCIONES NAVEGABLES ===== */

.lista-secciones-navegables {
    max-height: 300px;
    overflow-y: auto;
    overflow-x: hidden;
    margin-bottom: 0.75rem;
    width: 100%;
    box-sizing: border-box;
}

.item-seccion-navegable {
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 0.5rem;
    padding: 0.5rem 0.75rem;
    background: #ffffff;
    border: 2px solid #e5e7eb;
    border-radius: 8px;
    margin-bottom: 0.5rem;
    transition: var(--transicion);
    position: relative;
    width: 100%;
    box-sizing: border-box;
    overflow: hidden;
}

.item-seccion-navegable:hover {
    border-color: #7c3aed;
    background: #f9fafb;
}

.item-seccion-navegable.activa {
    border-color: #7c3aed;
    background: #ede9fe;
    box-shadow: 0 2px 8px rgba(124, 58, 237, 0.2);
}

.seccion-info {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    flex: 1;
    min-width: 0;
    cursor: pointer;
}

.seccion-acciones {
    display: flex;
    align-items: center;
    gap: 0.25rem;
    flex-shrink: 0;
}

.btn-seccion-mover,
.btn-seccion-eliminar {
    width: 24px;
    height: 24px;
    padding: 0;
    border: none;
    border-radius: 4px;
    font-size: 0.75rem;
    cursor: pointer;
    transition: var(--transicion);
    display: flex;
    align-items: center;
    justify-content: center;
}

.btn-seccion-mover {
    background: #f3f4f6;
    color: #6b7280;
}

.btn-seccion-mover:hover:not(.disabled) {
    background: #e5e7eb;
    color: #374151;
}

.btn-seccion-mover.disabled {
    opacity: 0.3;
    cursor: not-allowed;
}

.btn-seccion-eliminar {
    background: rgba(239, 68, 68, 0.1);
    color: #ef4444;
}

.btn-seccion-eliminar:hover {
    background: #ef4444;
    color: white;
}

.btn-seccion-duplicar {
    width: 24px;
    height: 24px;
    padding: 0;
    border: none;
    border-radius: 4px;
    font-size: 0.7rem;
    cursor: pointer;
    transition: var(--transicion);
    display: flex;
    align-items: center;
    justify-content: center;
    background: rgba(14, 165, 233, 0.1);
    color: #0ea5e9;
}

.btn-seccion-duplicar:hover {
    background: #0ea5e9;
    color: white;
}

.icono-seccion-preview {
    font-size: 0.9rem;
    flex-shrink: 0;
}

.texto-seccion-preview {
    flex: 1;
    font-size: 0.8rem;
    color: #1f2937;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
    min-width: 0;
}

.texto-seccion-preview.principal {
    font-weight: 600;
}

.texto-seccion-preview.sub {
    font-size: 0.8rem;
    padding-left: 0;
    color: #6b7280;
}

.numero-seccion-badge {
    flex-shrink: 0;
    background: #e5e7eb;
    color: #1f2937;
    padding: 0.2rem 0.5rem;
    border-radius: 12px;
    font-size: 0.7rem;
    font-weight: 600;
    min-width: 24px;
    text-align: center;
}

.item-seccion-navegable.activa .numero-seccion-badge {
    background: #7c3aed;
    color: white;
}

.boton-agregar-seccion {
    width: 100%;
    max-width: 100%;
    padding: 0.75rem;
    background: #7c3aed;
    color: white;
    border: none;
    border-radius: 8px;
    font-weight: 600;
    margin-top: 0;
    cursor: pointer;
    transition: var(--transicion);
    font-size: 0.85rem;
    box-sizing: border-box;
}

.boton-agregar-seccion:hover {
    background: #6d28d9;
    transform: translateY(-1px);
    box-shadow: 0 4px 12px rgba(124, 58, 237, 0.3);
}

.seccion-secciones-navegables {
    display: flex;
    flex-direction: column;
    width: 100%;
    overflow: hidden;
}

.seccion-secciones-navegables .header-seccion-panel {
    flex-shrink: 0;
    width: 100%;
}

.seccion-secciones-navegables .lista-secciones-navegables {
    flex: 1;
    min-height: 150px;
    width: 100%;
}

.seccion-secciones-navegables .boton-agregar-seccion {
    flex-shrink: 0;
    margin-top: 0.75rem;
    width: 100%;
}

.seccion-secciones-navegables .texto-ayuda-pequeño {
    width: 100%;
    overflow: hidden;
}

/* ===== BOTÓN CONFIGURAR EVALUACIÓN ===== */

.boton-configurar-eval {
    width: 100%;
    max-width: 100%;
    padding: 0.75rem;
    background: #3b82f6;
    color: white;
    border: none;
    border-radius: 8px;
    font-weight: 600;
    margin-top: 0.75rem;
    cursor: pointer;
    transition: var(--transicion);
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 0.5rem;
    font-size: 0.85rem;
    box-sizing: border-box;
}

.boton-configurar-eval:hover {
    background: #2563eb;
    transform: translateY(-1px);
    box-shadow: 0 4px 12px rgba(59, 130, 246, 0.3);
}

.seccion-panel h4 {
    margin: 0 0 0.875rem 0;
    color: #1f2937;
    font-size: 0.95rem;
    display: flex;
    align-items: center;
    gap: 0.5rem;
    font-weight: 700;
}

/* ===== EDITOR DE EVALUACIONES COMPLETO ===== */

.editor-evaluacion-completo {
    max-width: 100vw !important;
    width: 100vw !important;
    max-height: 100vh !important;
    border-radius: 0 !important;
}

.contenido-eval-editor {
    padding: 2rem;
    background: #ffffff;
    height: calc(100vh - 100px);
    overflow-y: auto;
}

.config-basica-eval {
    background: #f9fafb;
    border: 2px solid #e5e7eb;
    border-radius: 12px;
    padding: 1.5rem;
    margin-bottom: 2rem;
}

.config-basica-eval h4 {
    margin-top: 0;
    margin-bottom: 1rem;
    color: #1f2937;
}

.form-inline-eval {
    display: grid;
    grid-template-columns: 2fr 2fr 1fr;
    gap: 1rem;
}

.campo-numero {
    max-width: 150px;
}

/* ===== CARDS DE HABITACIONES ===== */

.lista-habitaciones-completa {
    display: grid;
    gap: 1.5rem;
}

.habitacion-card-completa {
    background: #f9fafb;
    border: 2px solid #e5e7eb;
    border-radius: 12px;
    padding: 1.5rem;
}

.header-habitacion-card {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 1rem;
    padding-bottom: 1rem;
    border-bottom: 2px solid #e5e7eb;
}

.header-habitacion-card h5 {
    margin: 0;
    color: #1f2937;
    font-size: 1.1rem;
}

.form-habitacion {
    display: grid;
    gap: 1rem;
    margin-bottom: 1.5rem;
}

.textarea-admin-pequeno {
    width: 100%;
    padding: 0.5rem;
    border: 2px solid #e5e7eb;
    border-radius: 6px;
    font-size: 0.9rem;
    font-family: inherit;
    background: #ffffff;
    color: #1f2937;
    resize: vertical;
}

.textarea-admin-pequeno:focus {
    outline: none;
    border-color: #7c3aed;
    box-shadow: 0 0 0 3px rgba(124, 58, 237, 0.1);
}

/* ===== PREGUNTAS DE HABITACIÓN ===== */

.preguntas-habitacion-editor {
    background: #ffffff;
    border-radius: 8px;
    padding: 1rem;
    border: 2px solid #e5e7eb;
}

.header-preguntas-hab,
.header-preguntas-caso {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 1rem;
}

.header-preguntas-hab h6,
.header-preguntas-caso h6 {
    margin: 0;
    color: #1f2937;
}

.boton-admin-mini {
    padding: 0.4rem 0.75rem;
    border: none;
    border-radius: 6px;
    font-size: 0.8rem;
    font-weight: 600;
    cursor: pointer;
    transition: var(--transicion);
}

.boton-admin-mini.boton-agregar {
    background: #7c3aed;
    color: white;
}

.boton-admin-mini.boton-agregar:hover {
    background: #6d28d9;
}

.boton-admin-mini.boton-eliminar {
    background: #ef4444;
    color: white;
}

.boton-admin-mini.boton-eliminar:hover {
    background: #dc2626;
}

.pregunta-card-editor,
.pregunta-caso-card {
    background: #fafafa;
    border: 2px solid #e5e7eb;
    border-radius: 8px;
    padding: 1rem;
    margin-bottom: 1rem;
}

.header-pregunta-editor,
.header-pregunta-caso {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 1rem;
    padding-bottom: 0.75rem;
    border-bottom: 1px solid #e5e7eb;
}

.header-pregunta-editor strong,
.header-pregunta-caso strong {
    color: #1f2937;
}

.opciones-pregunta-editor {
    margin-top: 1rem;
}

.opciones-pregunta-editor label {
    display: block;
    margin-bottom: 0.75rem;
    font-weight: 600;
    color: #1f2937;
}

.opcion-editor-row {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    margin-bottom: 0.5rem;
}

.opcion-editor-row input[type="radio"] {
    width: 20px;
    height: 20px;
    cursor: pointer;
    accent-color: #7c3aed;
}

.input-opcion {
    flex: 1;
}

.input-letra {
    text-align: center;
    font-size: 2rem !important;
    text-transform: uppercase;
}

/* ===== CARDS DE LETRAS PASAPALABRA ===== */

.lista-letras-completa {
    display: grid;
    gap: 1.5rem;
}

.letra-card-completa {
    background: #f9fafb;
    border: 2px solid #e5e7eb;
    border-radius: 12px;
    padding: 1.5rem;
}

.header-letra-card {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 1rem;
    padding-bottom: 1rem;
    border-bottom: 2px solid #e5e7eb;
}

.letra-grande-editor {
    font-size: 3rem;
    font-weight: bold;
    color: #7c3aed;
}

.form-letra {
    display: grid;
    gap: 1rem;
}

/* ===== CARDS DE PREGUNTAS QUIZ ===== */

.lista-preguntas-completa {
    display: grid;
    gap: 1.5rem;
}

.pregunta-card-completa {
    background: #f9fafb;
    border: 2px solid #e5e7eb;
    border-radius: 12px;
    padding: 1.5rem;
}

.header-pregunta-card {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 1rem;
    padding-bottom: 1rem;
    border-bottom: 2px solid #e5e7eb;
}

.header-pregunta-card strong {
    color: #1f2937;
    font-size: 1.1rem;
}

.form-pregunta {
    display: grid;
    gap: 1rem;
}

.row-inline {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 1rem;
}

/* ===== CARDS DE RONDAS CONECTAR ===== */

.lista-rondas-completa {
    display: grid;
    gap: 1.5rem;
}

.ronda-card-completa {
    background: #f9fafb;
    border: 2px solid #e5e7eb;
    border-radius: 12px;
    padding: 1.5rem;
}

.header-ronda-card {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 1rem;
    padding-bottom: 1rem;
    border-bottom: 2px solid #e5e7eb;
}

.header-ronda-card h5 {
    margin: 0;
    color: #1f2937;
}

.pares-editor {
    background: #ffffff;
    border: 2px solid #e5e7eb;
    border-radius: 8px;
    padding: 1rem;
    margin-top: 1rem;
}

.header-pares {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 1rem;
}

.header-pares h6 {
    margin: 0;
    color: #1f2937;
}

.par-editor-row {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    margin-bottom: 0.75rem;
}

.input-par {
    flex: 1;
}

.flecha-par {
    font-size: 1.2rem;
    color: #7c3aed;
}

/* ===== CARDS DE CASOS PRÁCTICOS ===== */

.lista-casos-completa {
    display: grid;
    gap: 1.5rem;
}

.caso-card-completo {
    background: #f9fafb;
    border: 2px solid #e5e7eb;
    border-radius: 12px;
    padding: 1.5rem;
}

.header-caso-card {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 1rem;
    padding-bottom: 1rem;
    border-bottom: 2px solid #e5e7eb;
}

.header-caso-card h5 {
    margin: 0;
    color: #1f2937;
}

.form-caso {
    display: grid;
    gap: 1rem;
}

.textarea-admin-mediana {
    width: 100%;
    padding: 0.75rem;
    border: 2px solid #e5e7eb;
    border-radius: 8px;
    font-size: 1rem;
    font-family: inherit;
    background: #ffffff;
    color: #1f2937;
    resize: vertical;
    min-height: 100px;
}

.textarea-admin-mediana:focus {
    outline: none;
    border-color: #7c3aed;
    box-shadow: 0 0 0 3px rgba(124, 58, 237, 0.1);
}

.preguntas-caso-editor {
    background: #ffffff;
    border: 2px solid #e5e7eb;
    border-radius: 8px;
    padding: 1rem;
    margin-top: 1rem;
}

/* ===== TAB EXPORTAR/IMPORTAR ===== */

.exportar-importar-container {
    max-width: 800px;
    margin: 0 auto;
}

.exportar-importar-container h3 {
    color: #1f2937;
    margin-bottom: 0.5rem;
}

.texto-explicativo {
    color: #6b7280;
    margin-bottom: 2rem;
}

.seccion-exportar,
.seccion-importar {
    background: #f9fafb;
    border: 2px solid #e5e7eb;
    border-radius: 12px;
    padding: 1.5rem;
    margin-bottom: 1.5rem;
}

.seccion-exportar h4,
.seccion-importar h4 {
    margin-top: 0;
    margin-bottom: 0.75rem;
    color: #1f2937;
}

.seccion-exportar p,
.seccion-importar p {
    color: #6b7280;
    margin-bottom: 1rem;
}

.boton-exportar-grande,
.boton-importar-grande {
    width: 100%;
    padding: 1rem 1.5rem;
    border: none;
    border-radius: 8px;
    font-size: 1rem;
    font-weight: 600;
    cursor: pointer;
    transition: var(--transicion);
}

.boton-exportar-grande {
    background: #10b981;
    color: white;
}

.boton-exportar-grande:hover {
    background: #059669;
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(16, 185, 129, 0.3);
}

.boton-importar-grande {
    background: #3b82f6;
    color: white;
}

.boton-importar-grande:hover {
    background: #2563eb;
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(59, 130, 246, 0.3);
}

.instrucciones-deploy {
    background: #dbeafe;
    border-left: 4px solid #3b82f6;
    border-radius: 8px;
    padding: 1.5rem;
}

.instrucciones-deploy h4 {
    margin-top: 0;
    margin-bottom: 1rem;
    color: #1e40af;
}

.instrucciones-deploy ol {
    margin: 0;
    padding-left: 1.5rem;
    color: #1e3a8a;
}

.instrucciones-deploy li {
    margin-bottom: 0.5rem;
}

.instrucciones-deploy code {
    background: #ffffff;
    padding: 0.25rem 0.5rem;
    border-radius: 4px;
    font-family: monospace;
    color: #7c3aed;
}

/* ===== EXPORTAR JSON MEJORADO ===== */

.exportar-container-mejorado {
    max-width: 100%;
}

.exportar-container-mejorado h3 {
    margin-bottom: 0.5rem;
    color: #1f2937;
}

.intro-exportar {
    color: #6b7280;
    margin-bottom: 2rem;
    font-size: 1rem;
}

/* Tarjeta principal de exportar */
.tarjeta-exportar-principal {
    background: linear-gradient(135deg, #ecfdf5, #d1fae5);
    border: 2px solid #10b981;
    border-radius: 16px;
    padding: 2rem;
    text-align: center;
    margin-bottom: 2rem;
}

.icono-tarjeta-grande {
    font-size: 3.5rem;
    margin-bottom: 1rem;
}

.tarjeta-exportar-principal h4 {
    margin: 0 0 0.5rem 0;
    color: #065f46;
    font-size: 1.4rem;
}

.tarjeta-exportar-principal .descripcion-accion {
    color: #047857;
    margin-bottom: 1.5rem;
    font-size: 1rem;
}

.grid-incluye-no-incluye {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 1.5rem;
    margin-bottom: 1.5rem;
    text-align: left;
}

.que-incluye, .que-no-incluye {
    background: white;
    border-radius: 12px;
    padding: 1.25rem;
}

.que-incluye strong {
    color: #059669;
    display: block;
    margin-bottom: 0.75rem;
}

.que-no-incluye strong {
    color: #dc2626;
    display: block;
    margin-bottom: 0.75rem;
}

.que-incluye ul, .que-no-incluye ul {
    margin: 0;
    padding-left: 0;
    list-style: none;
}

.que-incluye li, .que-no-incluye li {
    padding: 0.3rem 0;
    font-size: 0.9rem;
    color: #374151;
}

/* Credenciales */
.credenciales-acceso {
    background: linear-gradient(135deg, #fef3c7, #fde68a);
    border: 2px solid #f59e0b;
    border-radius: 16px;
    padding: 2rem;
    margin-bottom: 2rem;
}

.credenciales-acceso h4 {
    margin: 0 0 0.5rem 0;
    color: #92400e;
    font-size: 1.2rem;
}

.intro-credenciales {
    color: #78350f;
    margin-bottom: 1.5rem;
    font-size: 0.95rem;
}

.tarjeta-credencial {
    background: white;
    border-radius: 12px;
    padding: 1.5rem;
    display: flex;
    align-items: center;
    gap: 1.5rem;
    margin-bottom: 1.5rem;
    box-shadow: 0 2px 8px rgba(0,0,0,0.05);
}

.icono-credencial {
    font-size: 2.5rem;
}

.info-credencial {
    flex: 1;
}

.info-credencial > strong {
    display: block;
    color: #1f2937;
    font-size: 1.1rem;
    margin-bottom: 0.75rem;
}

.dato-credencial {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    margin-bottom: 0.5rem;
}

.label-credencial {
    color: #6b7280;
    font-size: 0.9rem;
    min-width: 90px;
}

.valor-credencial {
    background: #f3f4f6;
    padding: 0.5rem 1rem;
    border-radius: 8px;
    font-family: 'Consolas', 'Monaco', monospace;
    font-size: 0.95rem;
    color: #7c3aed;
    user-select: all;
}

/* Links a plataformas */
.links-plataformas {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 1rem;
    margin-bottom: 1rem;
}

.link-plataforma {
    display: flex;
    align-items: center;
    gap: 1rem;
    background: white;
    border-radius: 12px;
    padding: 1rem 1.25rem;
    text-decoration: none;
    transition: all 0.2s;
    box-shadow: 0 2px 8px rgba(0,0,0,0.05);
}

.link-plataforma:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(0,0,0,0.1);
}

.link-github:hover {
    background: #f5f5f5;
}

.link-vercel:hover {
    background: #fafafa;
}

.link-plataforma .icono-link {
    font-size: 1.75rem;
}

.link-plataforma .info-link {
    flex: 1;
}

.link-plataforma .info-link strong {
    display: block;
    color: #1f2937;
    font-size: 1rem;
}

.link-plataforma .info-link small {
    color: #6b7280;
    font-size: 0.85rem;
}

.link-plataforma .flecha-link {
    font-size: 1.25rem;
    color: #9ca3af;
    transition: transform 0.2s;
}

.link-plataforma:hover .flecha-link {
    transform: translateX(4px);
    color: #7c3aed;
}

.nota-autenticacion {
    background: white;
    border-radius: 8px;
    padding: 1rem;
    color: #78350f;
    font-size: 0.9rem;
}

.nota-autenticacion strong {
    color: #f59e0b;
}

/* Intro guía */
.intro-guia {
    color: #6b7280;
    margin-bottom: 1.5rem;
    font-size: 0.95rem;
}

/* Alternativa paso */
.alternativa-paso {
    background: #ede9fe;
    border-radius: 6px;
    padding: 0.5rem 0.75rem;
    margin-top: 0.5rem;
    font-size: 0.85rem;
    color: #5b21b6;
}

.alternativa-paso strong {
    color: #7c3aed;
}

/* Intro imágenes */
.intro-imagenes {
    color: #78350f;
    margin-bottom: 1.5rem;
    font-size: 0.95rem;
}

.guia-deploy-completa {
    background: linear-gradient(135deg, #ede9fe, #dbeafe);
    border-radius: 16px;
    padding: 2rem;
    margin-bottom: 2rem;
}

.guia-deploy-completa h4 {
    margin: 0 0 1.5rem 0;
    color: #5b21b6;
    font-size: 1.2rem;
}

.pasos-deploy {
    display: flex;
    flex-direction: column;
    gap: 1rem;
}

.paso-deploy {
    display: flex;
    gap: 1rem;
    align-items: flex-start;
    background: white;
    border-radius: 12px;
    padding: 1rem 1.25rem;
}

.numero-paso-deploy {
    width: 32px;
    height: 32px;
    background: linear-gradient(135deg, #7c3aed, #6366f1);
    color: white;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: bold;
    flex-shrink: 0;
}

.contenido-paso-deploy strong {
    display: block;
    color: #1f2937;
    margin-bottom: 0.25rem;
}

.contenido-paso-deploy p {
    margin: 0;
    color: #6b7280;
    font-size: 0.9rem;
}

.contenido-paso-deploy code {
    background: #f3f4f6;
    padding: 0.15rem 0.4rem;
    border-radius: 4px;
    font-size: 0.85rem;
    color: #7c3aed;
}

.seccion-imagenes {
    background: #fef3c7;
    border: 2px solid #fcd34d;
    border-radius: 16px;
    padding: 1.5rem;
}

.seccion-imagenes h4 {
    margin: 0 0 1rem 0;
    color: #92400e;
}

.grid-imagenes {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 1.5rem;
    margin-bottom: 1rem;
}

.info-imagenes, .pasos-imagenes {
    background: white;
    border-radius: 12px;
    padding: 1rem 1.25rem;
}

.info-imagenes strong, .pasos-imagenes strong {
    color: #92400e;
    display: block;
    margin-bottom: 0.5rem;
}

.info-imagenes p, .pasos-imagenes p {
    color: #78350f;
    font-size: 0.9rem;
    margin: 0.5rem 0;
}

.info-imagenes ul, .pasos-imagenes ol {
    margin: 0.5rem 0;
    padding-left: 1.25rem;
    color: #78350f;
    font-size: 0.9rem;
}

.info-imagenes li, .pasos-imagenes li {
    margin-bottom: 0.25rem;
}

.info-imagenes code, .pasos-imagenes code {
    background: #fef3c7;
    padding: 0.1rem 0.35rem;
    border-radius: 4px;
    font-size: 0.85rem;
}

.nota-imagenes {
    background: white;
    border-radius: 8px;
    padding: 1rem;
    color: #78350f;
    font-size: 0.9rem;
}

/* ===== AYUDA MEJORADA ===== */

.ayuda-admin-mejorada {
    max-width: 100%;
}

.ayuda-admin-mejorada h3 {
    margin-bottom: 0.25rem;
    color: #1f2937;
}

.subtitulo-ayuda {
    color: #6b7280;
    margin-bottom: 1.5rem;
}

.grid-ayuda {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 1.5rem;
}

.columna-ayuda {
    display: flex;
    flex-direction: column;
    gap: 1rem;
}

.seccion-ayuda-mejorada {
    background: white;
    border: 2px solid #e5e7eb;
    border-radius: 12px;
    overflow: hidden;
}

.header-seccion-ayuda {
    background: linear-gradient(135deg, #f9fafb, #f3f4f6);
    padding: 0.75rem 1rem;
    display: flex;
    align-items: center;
    gap: 0.75rem;
    border-bottom: 1px solid #e5e7eb;
}

.icono-seccion {
    font-size: 1.5rem;
}

.header-seccion-ayuda h4 {
    margin: 0;
    font-size: 1rem;
    color: #1f2937;
}

.contenido-seccion-ayuda {
    padding: 1rem;
}

.contenido-seccion-ayuda p {
    margin: 0.5rem 0;
    color: #4b5563;
    font-size: 0.9rem;
    line-height: 1.5;
}

.contenido-seccion-ayuda ul, .contenido-seccion-ayuda ol {
    margin: 0.5rem 0;
    padding-left: 1.25rem;
    color: #4b5563;
    font-size: 0.9rem;
}

.contenido-seccion-ayuda li {
    margin-bottom: 0.35rem;
    line-height: 1.4;
}

.subseccion-ayuda {
    background: #f9fafb;
    border-radius: 8px;
    padding: 0.75rem 1rem;
    margin: 0.75rem 0;
}

.subseccion-ayuda strong {
    display: block;
    color: #7c3aed;
    font-size: 0.85rem;
    margin-bottom: 0.5rem;
}

.subseccion-ayuda ul {
    margin: 0;
    padding-left: 1rem;
}

.subseccion-ayuda li {
    font-size: 0.85rem;
}

.metodo-acceso {
    background: #f3f4f6;
    border-radius: 8px;
    padding: 0.75rem 1rem;
    margin-bottom: 0.5rem;
}

.metodo-acceso strong {
    font-size: 0.85rem;
    color: #374151;
}

.metodo-acceso p {
    margin: 0.25rem 0 0 0;
}

.metodo-acceso kbd {
    background: #1f2937;
    color: white;
    padding: 0.2rem 0.5rem;
    border-radius: 4px;
    font-size: 0.8rem;
    font-family: monospace;
}

.metodo-acceso code {
    background: #7c3aed;
    color: white;
    padding: 0.2rem 0.5rem;
    border-radius: 4px;
    font-size: 0.85rem;
}

.boton-ejemplo {
    background: linear-gradient(135deg, #7c3aed, #6366f1);
    color: white;
    padding: 0.15rem 0.5rem;
    border-radius: 4px;
    font-size: 0.8rem;
    font-weight: 500;
}

.tipos-evaluacion {
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
    margin: 0.75rem 0;
}

.tipo-eval {
    background: #f9fafb;
    border-radius: 8px;
    padding: 0.6rem 0.75rem;
}

.tipo-eval strong {
    display: block;
    font-size: 0.85rem;
    color: #1f2937;
    margin-bottom: 0.2rem;
}

.tipo-eval p {
    margin: 0;
    font-size: 0.8rem;
    color: #6b7280;
}

.nota-eval {
    background: #dbeafe;
    border-radius: 6px;
    padding: 0.5rem 0.75rem;
    font-size: 0.85rem;
    color: #1e40af;
    margin-top: 0.75rem;
}

.alerta-importante-mejorada {
    border-color: #fbbf24 !important;
    background: #fffbeb;
}

.alerta-importante-mejorada .header-seccion-ayuda {
    background: linear-gradient(135deg, #fef3c7, #fde68a);
}

.alerta-importante-mejorada .contenido-seccion-ayuda li {
    padding: 0.25rem 0;
}

@media (max-width: 900px) {
    .grid-exportar-importar,
    .grid-ayuda,
    .grid-imagenes {
        grid-template-columns: 1fr;
    }
}

/* ===== BOTONES AGREGAR GRANDE ===== */

.boton-admin.boton-agregar-grande,
.boton-agregar-grande {
    width: 100%;
    padding: 1rem;
    background: #7c3aed;
    color: white;
    border: none;
    border-radius: 8px;
    font-size: 1rem;
    font-weight: 600;
    cursor: pointer;
    transition: var(--transicion);
    margin-bottom: 1.5rem;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 0.5rem;
}

.boton-agregar-grande:hover {
    background: #6d28d9;
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(124, 58, 237, 0.3);
}

/* ===== ESTILOS PARA PREVIEW DE EVALUACIONES ===== */

.header-eval-simple {
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
    margin-bottom: 1.5rem;
    padding-bottom: 1rem;
    border-bottom: 2px solid #e5e7eb;
}

.header-eval-simple h3 {
    margin: 0 0 0.5rem 0;
    color: #1f2937;
}

.boton-abrir-editor-completo {
    padding: 0.875rem 1.5rem;
    background: #7c3aed;
    color: white;
    border: none;
    border-radius: 8px;
    font-weight: 600;
    cursor: pointer;
    transition: var(--transicion);
    white-space: nowrap;
}

.boton-abrir-editor-completo:hover {
    background: #6d28d9;
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(124, 58, 237, 0.3);
}

.aviso-editor-completo {
    margin-top: 2rem;
    padding: 1rem 1.5rem;
    background: #dbeafe;
    border-left: 4px solid #3b82f6;
    border-radius: 8px;
}

.aviso-editor-completo p {
    margin: 0;
    color: #1e40af;
}

.item-eval-card-preview {
    background: #ffffff;
    border: 2px solid #e5e7eb;
    border-radius: 8px;
    padding: 1rem;
    display: flex;
    justify-content: space-between;
    align-items: center;
    transition: var(--transicion);
}

.item-eval-card-preview:hover {
    border-color: #7c3aed;
    box-shadow: 0 2px 8px rgba(124, 58, 237, 0.15);
}

.info-item-eval {
    flex: 1;
}

.info-item-eval h5 {
    margin: 0 0 0.5rem 0;
    color: #1f2937;
    font-size: 1rem;
}

.info-item-eval p {
    margin: 0 0 0.25rem 0;
    color: #6b7280;
    font-size: 0.9rem;
}

.info-item-eval small {
    color: #9ca3af;
    font-size: 0.85rem;
}

.acciones-item-eval {
    display: flex;
    gap: 0.5rem;
}

.item-letra-pp-preview {
    background: #ffffff;
    border: 2px solid #e5e7eb;
    border-radius: 12px;
    padding: 1rem;
    text-align: center;
    transition: var(--transicion);
    position: relative;
}

.item-letra-pp-preview:hover {
    border-color: #7c3aed;
    box-shadow: 0 2px 8px rgba(124, 58, 237, 0.15);
}

.def-preview {
    margin: 0.5rem 0;
    font-size: 0.85rem;
    color: #6b7280;
}

.item-letra-pp-preview .boton-admin-pequeno {
    margin-top: 0.5rem;
}

/* Responsive - Editor Visual */
@media (max-width: 1400px) {
    .contenido-editor-visual {
        grid-template-columns: 350px 1fr;
    }
    
    .panel-lateral-ancho {
        min-width: 350px !important;
        max-width: 350px !important;
        width: 350px !important;
    }
}

@media (max-width: 1024px) {
    .contenido-editor-visual {
        grid-template-columns: 300px 1fr;
    }
    
    .panel-lateral-ancho {
        min-width: 300px !important;
        max-width: 300px !important;
        width: 300px !important;
    }
    
    .panel-lateral-editor {
        padding: 1rem;
    }
    
    .contenedor-editor-contenido {
        padding: 1rem;
    }
    
    .editor-contenido-visual {
        padding: 1.5rem;
    }
    
    .form-inline-eval {
        grid-template-columns: 1fr;
    }
    
    .sugerencias-emoji-grid {
        grid-template-columns: repeat(4, 1fr);
    }
}

@media (max-width: 768px) {
    .contenido-editor-visual {
        grid-template-columns: 1fr;
    }
    
    .panel-lateral-editor {
        border-right: none;
        border-bottom: 2px solid var(--color-borde);
        max-height: 300px;
    }
    
    .toolbar-editor {
        padding: 0.5rem;
    }
    
    .btn-toolbar {
        padding: 0.4rem 0.6rem;
        font-size: 0.85rem;
        min-width: 32px;
    }
    
    .separador-toolbar {
        display: none;
    }
    
    .sugerencias-emoji {
        grid-template-columns: repeat(5, 1fr);
        gap: 0.25rem;
    }
    
    .emoji-sugerido {
        font-size: 1.2rem;
        padding: 0.25rem;
    }
}
